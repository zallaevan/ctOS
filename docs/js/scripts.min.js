/*! watch-dogs 11-03-2014 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}var ib=ib||{};ib.Config=ib.Config||{},ib.Config=$.extend(ib.Config,{assetBasePath:"http://static2.ubi.com/ncsa/watchdogs/ctos",SKIP_INTRO:!1,START_KEYFRAME_INDEX:1,MUTE_AUDIO:!1});var ib=ib||{};ib.isIE=/MSIE (\d+\.\d+);/.test(navigator.userAgent),function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a,b){var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=1.5*.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();/*!
    lib/handlebars/base.js
*/
var Handlebars={};!function(a,b){a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var c=Object.prototype.toString,d="[object Function]",e="[object Object]";a.registerHelper=function(b,d,f){if(c.call(b)===e){if(f||d)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,b)}else f&&(d.not=f),this.helpers[b]=d},a.registerPartial=function(b,d){c.call(b)===e?a.Utils.extend(this.partials,b):this.partials[b]=d},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return b;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,e){var f=e.inverse||function(){},g=e.fn,h=c.call(b);return h===d&&(b=b.call(this)),b===!0?g(this):b===!1||null==b?f(this):"[object Array]"===h?b.length>0?a.helpers.each(b,e):f(this):g(b)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(b,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=c.call(b);if(k===d&&(b=b.call(this)),e.data&&(f=a.createFrame(e.data)),b&&"object"==typeof b)if(b instanceof Array)for(var l=b.length;l>i;i++)f&&(f.index=i),j+=g(b[i],{data:f});else for(var m in b)b.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(b[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),!b||a.Utils.isEmpty(b)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),a.Utils.isEmpty(b)?void 0:e.fn(b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)});var f=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:return f[g-1];case 2:this.$=new d.ProgramNode([],f[g]);break;case 3:this.$=new d.ProgramNode(f[g-2],f[g]);break;case 4:this.$=new d.ProgramNode(f[g-1],[]);break;case 5:this.$=new d.ProgramNode(f[g]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[g]];break;case 9:f[g-1].push(f[g]),this.$=f[g-1];break;case 10:this.$=new d.BlockNode(f[g-2],f[g-1].inverse,f[g-1],f[g]);break;case 11:this.$=new d.BlockNode(f[g-2],f[g-1],f[g-1].inverse,f[g]);break;case 12:this.$=f[g];break;case 13:this.$=f[g];break;case 14:this.$=new d.ContentNode(f[g]);break;case 15:this.$=new d.CommentNode(f[g]);break;case 16:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 17:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 18:this.$=f[g-1];break;case 19:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],"&"===f[g-2][2]);break;case 20:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],!0);break;case 21:this.$=new d.PartialNode(f[g-1]);break;case 22:this.$=new d.PartialNode(f[g-2],f[g-1]);break;case 23:break;case 24:this.$=[[f[g-2]].concat(f[g-1]),f[g]];break;case 25:this.$=[[f[g-1]].concat(f[g]),null];break;case 26:this.$=[[f[g-1]],f[g]];break;case 27:this.$=[[f[g]],null];break;case 28:this.$=[[f[g]],null];break;case 29:f[g-1].push(f[g]),this.$=f[g-1];break;case 30:this.$=[f[g]];break;case 31:this.$=f[g];break;case 32:this.$=new d.StringNode(f[g]);break;case 33:this.$=new d.IntegerNode(f[g]);break;case 34:this.$=new d.BooleanNode(f[g]);break;case 35:this.$=f[g];break;case 36:this.$=new d.HashNode(f[g]);break;case 37:f[g-1].push(f[g]),this.$=f[g-1];break;case 38:this.$=[f[g]];break;case 39:this.$=[f[g-2],f[g]];break;case 40:this.$=[f[g-2],new d.StringNode(f[g])];break;case 41:this.$=[f[g-2],new d.IntegerNode(f[g])];break;case 42:this.$=[f[g-2],new d.BooleanNode(f[g])];break;case 43:this.$=[f[g-2],f[g]];break;case 44:this.$=new d.PartialNameNode(f[g]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[g]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[g]));break;case 47:this.$=new d.DataNode(f[g]);break;case 48:this.$=new d.IdNode(f[g]);break;case 49:f[g-2].push({part:f[g],separator:f[g-1]}),this.$=f[g-2];break;case 50:this.$=[{part:f[g]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,2*-1*t),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){switch(c){case 0:return b.yytext="\\",14;case 1:if("\\"!==b.yytext.slice(-1)&&this.begin("mu"),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu")),b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},a.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();a.Parser=f,a.parse=function(b){return b.constructor===a.AST.ProgramNode?b:(a.Parser.yy=a.AST,a.Parser.parse(b))},a.AST={},a.AST.ProgramNode=function(b,c){this.type="program",this.statements=b,c&&(this.inverse=new a.AST.ProgramNode(c))},a.AST.MustacheNode=function(a,b,c){this.type="mustache",this.escaped=!c,this.hash=b;var d=this.id=a[0],e=this.params=a.slice(1),f=this.eligibleHelper=d.isSimple;this.isHelper=f&&(e.length||b)},a.AST.PartialNode=function(a,b){this.type="partial",this.partialName=a,this.context=b},a.AST.BlockNode=function(b,c,d,e){var f=function(b,c){if(b.original!==c.original)throw new a.Exception(b.original+" doesn't match "+c.original)};f(b.id,e),this.type="block",this.mustache=b,this.program=c,this.inverse=d,this.inverse&&!this.program&&(this.isInverse=!0)},a.AST.ContentNode=function(a){this.type="content",this.string=a},a.AST.HashNode=function(a){this.type="hash",this.pairs=a},a.AST.IdNode=function(b){this.type="ID";for(var c="",d=[],e=0,f=0,g=b.length;g>f;f++){var h=b[f].part;if(c+=(b[f].separator||"")+h,".."===h||"."===h||"this"===h){if(d.length>0)throw new a.Exception("Invalid path: "+c);".."===h?e++:this.isScoped=!0}else d.push(h)}this.original=c,this.parts=d,this.string=d.join("."),this.depth=e,this.isSimple=1===b.length&&!this.isScoped&&0===e,this.stringModeValue=this.string},a.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME",this.name=a.original},a.AST.DataNode=function(a){this.type="DATA",this.id=a},a.AST.StringNode=function(a){this.type="STRING",this.original=this.string=this.stringModeValue=a},a.AST.IntegerNode=function(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},a.AST.BooleanNode=function(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},a.AST.CommentNode=function(a){this.type="comment",this.comment=a};var g=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<g.length;b++)this[g[b]]=a[g[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/,k=function(a){return h[a]||"&amp;"};a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),j.test(b)?b.replace(i,k):b)},isEmpty:function(a){return a||0===a?"[object Array]"===c.call(a)&&0===a.length?!0:!1:!0}};var l=a.Compiler=function(){},m=a.JavaScriptCompiler=function(){};l.prototype={compiler:l,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var b,c=a.statements;this.opcodes=[];for(var d=0,e=c.length;e>d;d++)b=c[d],this[b.type](b);return this.isSimple=1===e,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){if(this.options.data=!0,b.id.isScoped||b.id.depth)throw new a.Exception("Scoped data references are not supported: "+b.original);this.opcode("lookupData");for(var c=b.id.parts,d=0,e=c.length;e>d;d++)this.opcode("lookup",c[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}};var n=function(a){this.value=a};m.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":m.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=b,this.options=c||{},a.log(a.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!d,this.context=d||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(b,c);var f,g=b.opcodes;for(this.i=0,r=g.length;this.i<r;this.i++)f=g[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){var a=this.environment.opcodes;return a[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);if(c.length>0&&(this.source[1]=this.source[1]+", "+c.join(", ")),!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push("depth"+this.environment.depths.list[f]);var h=this.mergeSource();if(!this.isChild){var i=a.COMPILER_REVISION,j=a.REVISION_CHANGES[i];h="this.compilerInfo = ["+i+",'"+j+"'];\n"+h}if(b)return e.push(h),Function.apply(this,e);var k="function "+(this.name||"")+"("+e.join(",")+") {\n  "+h+"}";return a.log(a.logger.DEBUG,k+"\n\n"),k},mergeSource:function(){for(var a,c="",d=0,e=this.source.length;e>d;d++){var f=this.source[d];f.appendToBuffer?a=a?a+"\n    + "+f.content:f.content:(a&&(c+="buffer += "+a+";\n  ",a=b),c+=f+"\n  ")}return c},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=b,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];
this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:m,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new n(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.source.push(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,c="",d=this.isInline();if(d){var e=this.popStack(!0);if(e instanceof n)b=e.value;else{var f=this.stackSlot?this.topStackName():this.incrStack();c="("+this.push(f)+" = "+e+"),",b=this.topStack()}}else b=this.topStack();var g=a.call(this,b);return d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+c+g+")")):(/^stack/.test(b)||(b=this.nextStack()),this.source.push(b+" = ("+c+g+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];d instanceof n?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();return!a&&c instanceof n?c.value:(b||this.stackSlot--,c)},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,c=b[b.length-1];return!a&&c instanceof n?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;a>j;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=m.RESERVED_WORDS={},q=0,r=o.length;r>q;q++)p[o[q]]=!0;m.isValidJavaScriptVariableName=function(a){return!m.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1},a.precompile=function(b,c){if(null==b||"string"!=typeof b&&b.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);c=c||{},"data"in c||(c.data=!0);var d=a.parse(b),e=(new l).compile(d,c);return(new m).compile(e,c)},a.compile=function(c,d){function e(){var e=a.parse(c),f=(new l).compile(e,d),g=(new m).compile(f,d,b,!0);return a.template(g)}if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var f;return function(a,b){return f||(f=e()),f.call(this,a,b)}},a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(c,d,e,f,g,h){var i={helpers:f,partials:g,data:h};if(c===b)throw new a.Exception("The partial "+d+" could not be found");if(c instanceof Function)return c(e,i);if(a.compile)return g[d]=a.compile(c,{data:h!==b}),g[d](e,i);throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template}(Handlebars),/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),/*!
 * VERSION: beta 1.10.3
 * DATE: 2013-09-02
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=[].slice,e=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=e.prototype.render},f=function(a){return a.jquery||a.length&&a!==window&&a[0]&&(a[0]===window||a[0].nodeType&&a[0].style&&!a.nodeType)},g=e.prototype=c.to({},.1,{}),h=[];e.version="1.10.3",g.constructor=e,g.kill()._gc=!1,e.killTweensOf=e.killDelayedCallsTo=c.killTweensOf,e.getTweensOf=c.getTweensOf,e.ticker=c.ticker,g.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},g.updateTo=function(a,b){var d,e=this.ratio;b&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted)if(b)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var f=this._time;this.render(0,!0,!1),this._initted=!1,this.render(f,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var g,h=1/(1-e),i=this._firstPT;i;)g=i.s+i.c,i.c*=h,i.s=g-i.c,i=i._next}return this},g.render=function(a,b,c){var d,e,f,g,i,j,k,l=this._dirty?this.totalDuration():this._totalDuration,m=this._time,n=this._totalTime,o=this._cycle;if(a>=l?(this._totalTime=l,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete"),0===this._duration&&((0===a||0>this._rawPrevTime)&&this._rawPrevTime!==a&&(c=!0,this._rawPrevTime>0&&(e="onReverseComplete",b&&(a=-1))),this._rawPrevTime=a)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==n||0===this._duration&&this._rawPrevTime>0)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=a)):this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(g=this._duration+this._repeatDelay,this._cycle=this._totalTime/g>>0,0!==this._cycle&&this._cycle===this._totalTime/g&&this._cycle--,this._time=this._totalTime-this._cycle*g,this._yoyo&&0!==(1&this._cycle)&&(this._time=this._duration-this._time),this._time>this._duration?this._time=this._duration:0>this._time&&(this._time=0)),this._easeType?(i=this._time/this._duration,j=this._easeType,k=this._easePower,(1===j||3===j&&i>=.5)&&(i=1-i),3===j&&(i*=2),1===k?i*=i:2===k?i*=i*i:3===k?i*=i*i*i:4===k&&(i*=i*i*i*i),this.ratio=1===j?1-i:2===j?i:.5>this._time/this._duration?i/2:1-i/2):this.ratio=this._ease.getRatio(this._time/this._duration)),m===this._time&&!c)return n!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),void 0;if(!this._initted){if(this._init(),!this._initted)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/this._duration):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==m&&a>=0&&(this._active=!0),0===n&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===this._duration)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startAt.render(a,b,c),b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),this._cycle!==o&&(b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||h)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||h)))},e.to=function(a,b,c){return new e(a,b,c)},e.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new e(a,b,c)},e.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new e(a,b,d)},e.staggerTo=e.allTo=function(a,b,g,i,j,k,l){i=i||0;var m,n,o,p,q=g.delay||0,r=[],s=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),j.apply(l||this,k||h)};for(a instanceof Array||("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=d.call(a,0))),m=a.length,o=0;m>o;o++){n={};for(p in g)n[p]=g[p];n.delay=q,o===m-1&&j&&(n.onComplete=s),r[o]=new e(a[o],b,n),q+=i}return r},e.staggerFrom=e.allFrom=function(a,b,c,d,f,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,e.staggerTo(a,b,c,d,f,g,h)},e.staggerFromTo=e.allFromTo=function(a,b,c,d,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,e.staggerTo(a,b,d,f,g,h,i)},e.delayedCall=function(a,b,c,d,f){return new e(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:f,overwrite:0})},e.set=function(a,b){return new e(a,0,b)},e.isTweening=function(a){for(var b,d=c.getTweensOf(a),e=d.length;--e>-1;)if(b=d[e],b._active||b._startTime===b._timeline._time&&b._timeline._active)return!0;return!1};var i=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(i(f,b)),e=d.length),f=f._next;return d},j=e.getAllTweens=function(b){return i(a._rootTimeline,b).concat(i(a._rootFramesTimeline,b))};e.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=j(0!=e),k=i.length,l=c&&d&&e;for(h=0;k>h;h++)g=i[h],(l||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g.totalDuration()):g._enabled(!1,!1))},e.killChildTweensOf=function(a,b){if(null!=a){var g,h,i,j,k,l=c._tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=d(a,0)),a instanceof Array)for(j=a.length;--j>-1;)e.killChildTweensOf(a[j],b);else{g=[];for(i in l)for(h=l[i].target.parentNode;h;)h===a&&(g=g.concat(l[i].tweens)),h=h.parentNode;for(k=g.length,j=0;k>j;j++)b&&g[j].totalTime(g[j].totalDuration()),g[j]._enabled(!1,!1)}}};var k=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=j(e),i=c&&d&&e,k=h.length;--k>-1;)g=h[k],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return e.pauseAll=function(a,b,c){k(!0,a,b,c)},e.resumeAll=function(a,b,c){k(!1,a,b,c)},e.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||1e-6,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},g.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},g.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},g.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},g.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},g.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},g.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},g.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},g.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},e},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],c instanceof Array&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));e.tweens instanceof Array&&this.add(e.tweens,0,e.align,e.stagger)},e=[],f=function(a){var b,c={};for(b in a)c[b]=a[b];return c},g=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||e)},h=e.slice,i=d.prototype=new b;return d.version="1.10.3",i.constructor=d,i.kill()._gc=!1,i.to=function(a,b,d,e){return b?this.add(new c(a,b,d),e):this.set(a,d,e)},i.from=function(a,b,d,e){return this.add(c.from(a,b,d),e)},i.fromTo=function(a,b,d,e,f){return b?this.add(c.fromTo(a,b,d,e),f):this.set(a,e,f)},i.staggerTo=function(a,b,e,g,i,j,k,l){var m,n=new d({onComplete:j,onCompleteParams:k,onCompleteScope:l});for("string"==typeof a&&(a=c.selector(a)||a),!(a instanceof Array)&&a.length&&a!==window&&a[0]&&(a[0]===window||a[0].nodeType&&a[0].style&&!a.nodeType)&&(a=h.call(a,0)),g=g||0,m=0;a.length>m;m++)e.startAt&&(e.startAt=f(e.startAt)),n.to(a[m],b,f(e),m*g);return this.add(n,i)},i.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},i.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},i.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},i.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},i.add=function(e,f,g,h){var i,j,k,l,m,n;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array){for(g=g||"normal",h=h||0,i=f,j=e.length,k=0;j>k;k++)(l=e[k])instanceof Array&&(l=new d({tweens:l})),this.add(l,i),"string"!=typeof l&&"function"!=typeof l&&("sequence"===g?i=l._startTime+l.totalDuration()/l._timeScale:"start"===g&&(l._startTime-=l.delay())),i+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),this._gc&&!this._paused&&this._duration<this.duration())for(m=this,n=m.rawTime()>e._startTime;m._gc&&m._timeline;)m._timeline.smoothChildTiming&&n?m.totalTime(m._totalTime,!0):m._enabled(!0,!1),m=m._timeline;return this},i.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},i._remove=function(a,c){return b.prototype._remove.call(this,a,c),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},i.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},i.insert=i.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},i.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},i.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},i.addPause=function(a,b,c,d){return this.call(g,["{self}",b,c,d],this,a)},i.removeLabel=function(a){return delete this._labels[a],this},i.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},i._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e instanceof Array)for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},i.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(a,b){return this.play(a,b)},i.gotoAndStop=function(a,b){return this.pause(a,b)},i.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j=this._dirty?this.totalDuration():this._totalDuration,k=this._time,l=this._startTime,m=this._timeScale,n=this._paused;if(a>=j?(this._totalTime=this._time=j,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===this._duration&&(0===a||0>this._rawPrevTime)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,a=j+1e-6):1e-7>a?(this._totalTime=this._time=0,(0!==k||0===this._duration&&this._rawPrevTime>0)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==k&&this._first||c||i){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==k&&a>0&&(this._active=!0),0===k&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=k)for(d=this._first;d&&(g=d._next,!this._paused||n);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||n);)(d._active||k>=d._startTime&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._gc||(l===this._startTime||m!==this._timeScale)&&(0===this._time||j>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))}},i._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},i.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)e>g._startTime||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},i.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},i._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},i.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},i._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},i.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},i._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},i.progress=function(a){return arguments.length?this.totalTime(this.duration()*a,!1):this._time/this.duration()},i.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,0>e._startTime&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},i.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},i.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=[],f=new c(null,null,1,0),g=function(a){for(;a;){if(a._paused)return!0;a=a._timeline}return!1},h=d.prototype=new a;return h.constructor=d,h.kill()._gc=!1,d.version="1.10.3",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},h.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},h.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},h.tweenTo=function(a,c){c=c||{};var d,g,h={ease:f,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(d in c)h[d]=c[d];return h.time=this._parseTimeOrLabel(a),g=new b(this,Math.abs(Number(h.time)-this._time)/this._timeScale||.001,h),h.onStart=function(){g.target.paused(!0),g.vars.time!==g.target.time()&&g.duration(Math.abs(g.vars.time-g.target.time())/g.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||g,c.onStartParams||e)},g},h.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},h.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,j,k=this._dirty?this.totalDuration():this._totalDuration,l=this._duration,m=this._time,n=this._totalTime,o=this._startTime,p=this._timeScale,q=this._rawPrevTime,r=this._paused,s=this._cycle;if(a>=k?(this._locked||(this._totalTime=k,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",0===l&&(0===a||0>this._rawPrevTime)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=a,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=l,a=l+1e-6)):1e-7>a?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===l&&this._rawPrevTime>0&&!this._locked)&&(h="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===l&&this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a):(this._rawPrevTime=a,a=0,this._initted||(i=!0))):(this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(j=l+this._repeatDelay,this._cycle=this._totalTime/j>>0,0!==this._cycle&&this._cycle===this._totalTime/j&&this._cycle--,this._time=this._totalTime-this._cycle*j,this._yoyo&&0!==(1&this._cycle)&&(this._time=l-this._time),this._time>l?(this._time=l,a=l+1e-6):0>this._time?this._time=a=0:a=this._time))),this._cycle!==s&&!this._locked){var t=this._yoyo&&0!==(1&s),u=t===(this._yoyo&&0!==(1&this._cycle)),v=this._totalTime,w=this._cycle,x=this._rawPrevTime,y=this._time;if(this._totalTime=s*l,s>this._cycle?t=!t:this._totalTime+=l,this._time=m,this._rawPrevTime=0===l?q-1e-5:q,this._cycle=s,this._locked=!0,m=t?0:l,this.render(m,b,0===l),b||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||e),u&&(m=t?l+1e-6:-1e-6,this.render(m,!0,!1)),this._locked=!1,this._paused&&!r)return;this._time=y,this._totalTime=v,this._cycle=w,this._rawPrevTime=x}if(!(this._time!==m&&this._first||c||i))return n!==this._totalTime&&this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&0!==this._totalTime&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||e)),this._time>=m)for(d=this._first;d&&(g=d._next,!this._paused||r);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||r);)(d._active||m>=d._startTime&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||e)),h&&(this._locked||this._gc||(o===this._startTime||p!==this._timeScale)&&(0===this._time||k>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||e)))},h.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],h=this.getChildren(a,b,c),i=0,j=h.length;for(d=0;j>d;d++)e=h[d],e._paused||e._timeline._time>=e._startTime&&e._timeline._time<e._startTime+e._totalDuration/e._timeScale&&(g(e._timeline)||(f[i++]=e));return f},h.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},h.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(a>b[c].time)return b[c].name;return null},h.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},h.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},h.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},h.totalDuration=function(b){return arguments.length?-1===this._repeat?this:this.duration((b-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},h.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},h.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},h.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},h.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=Math.PI/180,c=[],d=[],e=[],f={},g=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,b,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=c[j],u=d[j],v=.25*(u+t)*b/(g?.5:e[j]||.5),o=l-(l-k)*(g?.5*b:0!==t?v/t:0),p=l+(m-l)*(g?.5*b:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-.5*(l-k)*b,p=l+.5*(m-l)*b,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,b,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][b])&&"="===m.charAt(1)&&(a[i][b]=f[b]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][b],0,0,a[-1>h?0:1][b]),n;for(i=0;h>i;i++)j=a[i][b],k=a[i+1][b],n[i]=new g(j,0,0,k),e&&(l=a[i+2][b],c[i]=(c[i]||0)+(k-j)*(k-j),d[i]=(d[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][b],0,0,a[i+1][b]),n},l=function(a,b,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==b&&(b=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(c.length=d.length=e.length=0,n=w.length;--n>-1;)o=w[n],f[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,f[o],m);for(n=c.length;--n>-1;)c[n]=Math.sqrt(c[n]),d[n]=Math.sqrt(d[n]);if(!i){for(n=w.length;--n>-1;)if(f[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/d[q]+p[q].da/c[q],e[q]=(e[q]||0)+r*r;for(n=e.length;--n>-1;)e[n]=Math.sqrt(e[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,b,g,i,f[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||q+1>a.length)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;)for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;return!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&b>=(this._l2=k[++e]););this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(this._l1>b&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&this._l1>b?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&l.length-1>e){for(j=l.length-1;j>e&&b>=(this._s2=l[++e]););this._s1=l[e-1],this._si=e}else if(this._s1>b&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&this._s1>b?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=i+(i>0?.5:-.5)>>0),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var p,q,r,s,t,u,v,w=this._autoRotate;for(e=w.length;--e>-1;)f=w[e][2],u=w[e][3]||0,v=w[e][4]===!0?1:a,g=this._beziers[w[e][0]],p=this._beziers[w[e][1]],g&&p&&(g=g[c],p=p[c],q=g.a+(g.b-g.a)*h,s=g.b+(g.c-g.b)*h,q+=(s-q)*h,s+=(g.c+(g.d-g.c)*h-s)*h,r=p.a+(p.b-p.a)*h,t=p.b+(p.c-p.b)*h,r+=(t-r)*h,t+=(p.c+(p.d-p.c)*h-t)*h,i=Math.atan2(t-r,s-q)*v+u,n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=window._gsDefine.globals.CSSPlugin;if(a){var c=a._internals,d=c._parseToProxy,e=c._setPluginRatio,f=c.CSSPropTween;c._registerComplexSpecialProp("bezier",{parser:function(a,c,g,h,i,j){c instanceof Array&&(c={values:c}),j=new p;var k,l,m,n=c.values,o=n.length-1,q=[],r={};if(0>o)return i;for(k=0;o>=k;k++)m=d(a,n[k],h,i,j,o!==k),q[k]=m.end;for(l in c)r[l]=c[l];return r.values=q,i=new f(a,"bezier",0,0,m.pt,2),i.data=m,i.plugin=j,i.setRatio=e,0===r.autoRotate&&(r.autoRotate=!0),!r.autoRotate||r.autoRotate instanceof Array||(k=r.autoRotate===!0?0:Number(r.autoRotate)*b,r.autoRotate=null!=m.end.left?[["left","top","rotation",k,!0]]:null!=m.end.x?[["x","y","rotation",k,!0]]:!1),r.autoRotate&&(h._transform||h._enableTransforms(!1),m.autoRotate=h._target._gsTransform),j._onInitTween(m.proxy,r,h._tween),i
}})}},q._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h={},i=g.prototype=new a("css");i.constructor=g,g.version="1.10.3",g.API=2,g.defaultTransformPerspective=0,i="px",g.suffixMap={top:i,right:i,bottom:i,left:i,width:i,height:i,fontSize:i,padding:i,margin:i,perspective:i};var j,k,l,m,n,o,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,q=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,r=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,s=/[^\d\-\.]/g,t=/(?:\d|\-|\+|=|#|\.)*/g,u=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,w=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,y=/([A-Z])/g,z=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,B=function(a,b){return b.toUpperCase()},C=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,G=Math.PI/180,H=180/Math.PI,I={},J=document,K=J.createElement("div"),L=J.createElement("img"),M=g._internals={_specialProps:h},N=navigator.userAgent,O=function(){var a,b=N.indexOf("Android"),c=J.createElement("div");return l=-1!==N.indexOf("Safari")&&-1===N.indexOf("Chrome")&&(-1===b||Number(N.substr(b+8,1))>3),n=l&&6>Number(N.substr(N.indexOf("Version/")+8,1)),m=-1!==N.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(N),o=parseFloat(RegExp.$1),c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",a=c.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),P=function(a){return u.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(a){window.console&&console.log(a)},R="",S="",T=function(a,b){b=b||K;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(S=3===d?"ms":c[d],R="-"+S.toLowerCase()+"-",S+a):null},U=J.defaultView?J.defaultView.getComputedStyle:function(){},V=g.getStyle=function(a,b,c,d,e){var f;return O||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||U(a,null))?(a=c.getPropertyValue(b.replace(y,"-$1").toLowerCase()),f=a||c.length?a:c[b]):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):P(a)},W=function(a,b,c,d,e){if("px"===d||!d)return c;if("auto"===d||!c)return 0;var f,g=C.test(b),h=a,i=K.style,j=0>c;return j&&(c=-c),"%"===d&&-1!==b.indexOf("border")?f=c/100*(g?a.clientWidth:a.clientHeight):(i.cssText="border-style:solid;border-width:0;position:absolute;line-height:0;","%"!==d&&h.appendChild?i[g?"borderLeftWidth":"borderTopWidth"]=c+d:(h=a.parentNode||J.body,i[g?"width":"height"]=c+d),h.appendChild(K),f=parseFloat(K[g?"offsetWidth":"offsetHeight"]),h.removeChild(K),0!==f||e||(f=W(a,b,c,d,!0))),j?-f:f},X=function(a,b,c){if("absolute"!==V(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=V(a,"margin"+d,c);return a["offset"+d]-(W(a,b,parseFloat(e),e.replace(t,""))||0)},Y=function(a,b){var c,d,e={};if(b=b||U(a,null))if(c=b.length)for(;--c>-1;)e[b[c].replace(z,B)]=b.getPropertyValue(b[c]);else for(c in b)e[c]=b[c];else if(b=a.currentStyle||a.style)for(c in b)e[c.replace(z,B)]=b[c];return O||(e.opacity=P(a)),d=xb(a,b,!1),e.rotation=d.rotation*H,e.skewX=d.skewX*H,e.scaleX=d.scaleX,e.scaleY=d.scaleY,e.x=d.x,e.y=d.y,wb&&(e.z=d.z,e.rotationX=d.rotationX*H,e.rotationY=d.rotationY*H,e.scaleZ=d.scaleZ),e.filters&&delete e.filters,e},Z=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(s,"")?f:0:X(a,g),void 0!==j[g]&&(h=new lb(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},$={width:["Left","Right"],height:["Top","Bottom"]},_=["marginLeft","marginRight","marginTop","marginBottom"],ab=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=$[b],f=e.length;for(c=c||U(a,null);--f>-1;)d-=parseFloat(V(a,"padding"+e[f],c,!0))||0,d-=parseFloat(V(a,"border"+e[f]+"Width",c,!0))||0;return d},bb=function(a,b){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(s,"")),b.oy=parseFloat(e.replace(s,""))),d+" "+e+(c.length>2?" "+c[2]:"")},cb=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},db=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},eb=function(a,b,c,d){var e,f,g,h,i=1e-6;return null==a?h=b:"number"==typeof a?h=a*G:(e=2*Math.PI,f=a.split("_"),g=Number(f[0].replace(s,""))*(-1===a.indexOf("rad")?G:1)-("="===a.charAt(1)?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(0|g/e)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(0|g/e)*e)),h=b+g),i>h&&h>-i&&(h=0),h},fb={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},gb=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,0|255*(1>6*a?b+6*(c-b)*a:.5>a?c:2>3*a?b+6*(c-b)*(2/3-a):b)+.5},hb=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,255&a>>8,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),fb[a]?fb[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):"hsl"===a.substr(0,3)?(a=a.match(p),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=.5>=g?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=gb(e+1/3,b,c),a[1]=gb(e,b,c),a[2]=gb(e-1/3,b,c),a):(a=a.match(p)||fb.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):fb.black},ib="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(i in fb)ib+="|"+i+"\\b";ib=RegExp(ib+")","gi");var jb=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ib)||[""])[0]:"",g=a.split(f).join("").match(r)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(p,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(o=a.replace(F,"|").split("|"),n=0;o.length>n;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ib)||[f])[0],m=a.split(b).join("").match(r)||[],n=m.length,k>n--)for(;k>++n;)m[n]=c?m[0|(n-1)/2]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(f=a.replace(F,"|").split("|"),m=0;f.length>m;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(r)||[],m=b.length,k>m--)for(;k>++m;)b[m]=c?b[0|(m-1)/2]:g[m];return h+b.join(j)+i}:function(a){return a}},kb=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},lb=(M._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=b>0?0|b+.5:0|b-.5:i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;c.l>d;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),mb=(M._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=I;for(c._transform=null,I=b,d=k=c.parse(a,b,d,e),I=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(1>=d.type&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new lb(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new lb(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},M.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof mb||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),nb=g.parseComplex=function(a,b,c,d,e,f,g,h,i,k){c=c||f||"",g=new mb(a,b,0,0,g,k?2:1,null,!1,h,c,d),d+="";var l,m,n,o,r,s,t,u,v,w,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=j!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(F,", ").split(" "),B=B.join(" ").replace(F,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=k,l=0;C>l;l++)if(o=A[l],r=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,cb(r,u),r.replace(q,""),D&&-1!==r.indexOf("px"),!0);else if(e&&("#"===o.charAt(0)||fb[o]||x.test(o)))z=","===r.charAt(r.length-1)?"),":")",o=hb(o),r=hb(r),v=o.length+r.length>6,v&&!O&&0===r[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(O||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],r[0]-o[0],",",!0,!0).appendXtra("",o[1],r[1]-o[1],",",!0).appendXtra("",o[2],r[2]-o[2],v?",":z,!0),v&&(o=4>o.length?1:o[3],g.appendXtra("",o,(4>r.length?1:r[3])-o,z,!1)));else if(s=o.match(p)){if(t=r.match(q),!t||t.length!==s.length)return g;for(n=0,m=0;s.length>m;m++)y=s[m],w=o.indexOf(y,n),g.appendXtra(o.substr(n,w-n),Number(y),cb(t[m],y),"",D&&"px"===o.substr(w+y.length,2),0===m),n=w+y.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(z=g.xs0+g.data.s,l=1;g.l>l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},ob=9;for(i=mb.prototype,i.l=i.pr=0;--ob>0;)i["xn"+ob]=0,i["xs"+ob]="";i.xs0="",i._next=i._prev=i.xfirst=i.data=i.plugin=i.setRatio=i.rxp=null,i.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new mb(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var pb=function(a,b){b=b||{},this.p=b.prefix?T(a)||a:a,h[a]=h[this.p]=this,this.format=b.formatter||jb(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},qb=M._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;f.length>d;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new pb(f[d],b)},rb=function(a){if(!h[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";qb(a,{parser:function(a,c,d,e,f,g,i){var j=(window.GreenSockGlobals||window).com.greensock.plugins[b];return j?(j._cssRegister(),h[d].parse(a,c,d,e,f,g,i)):(Q("Error: "+b+" js file not loaded."),f)}})}};i=pb.prototype,i.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(F.test(c)||F.test(b)?(h=b.replace(F,"|").split("|"),i=c.replace(F,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(c=-1===l?i:h,c[g]+=" "+m));b=h.join(", "),c=i.join(", ")}return nb(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},i.parse=function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){qb(a,{parser:function(a,d,e,f,g,h){var i=new mb(a,e,0,0,g,2,e,!1,c);return i.plugin=h,i.setRatio=b(a,d,f._tween,e),i},priority:c})};var sb="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),tb=T("transform"),ub=R+"transform",vb=T("transformOrigin"),wb=null!==T("perspective"),xb=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var e,f,h,i,j,k,l,m,n,o,p,q,r,s=c?a._gsTransform||{skewY:0}:{skewY:0},t=0>s.scaleX,u=2e-5,v=1e5,w=-Math.PI+1e-4,x=Math.PI-1e-4,y=wb?parseFloat(V(a,vb,b,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0;for(tb?e=V(a,ub,b,!0):a.currentStyle&&(e=a.currentStyle.filter.match(D),e=e&&4===e.length?[e[0].substr(4),Number(e[2].substr(4)),Number(e[1].substr(4)),e[3].substr(4),s.x||0,s.y||0].join(","):""),f=(e||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=f.length;--h>-1;)i=Number(f[h]),f[h]=(j=i-(i|=0))?(0|j*v+(0>j?-.5:.5))/v+i:i;if(16===f.length){var z=f[8],A=f[9],B=f[10],C=f[12],E=f[13],F=f[14];if(s.zOrigin&&(F=-s.zOrigin,C=z*F-f[12],E=A*F-f[13],F=B*F+s.zOrigin-f[14]),!c||d||null==s.rotationX){var G,H,I,J,K,L,M,N=f[0],O=f[1],P=f[2],Q=f[3],R=f[4],S=f[5],T=f[6],U=f[7],W=f[11],X=s.rotationX=Math.atan2(T,B),Y=w>X||X>x;X&&(J=Math.cos(-X),K=Math.sin(-X),G=R*J+z*K,H=S*J+A*K,I=T*J+B*K,z=R*-K+z*J,A=S*-K+A*J,B=T*-K+B*J,W=U*-K+W*J,R=G,S=H,T=I),X=s.rotationY=Math.atan2(z,N),X&&(L=w>X||X>x,J=Math.cos(-X),K=Math.sin(-X),G=N*J-z*K,H=O*J-A*K,I=P*J-B*K,A=O*K+A*J,B=P*K+B*J,W=Q*K+W*J,N=G,O=H,P=I),X=s.rotation=Math.atan2(O,S),X&&(M=w>X||X>x,J=Math.cos(-X),K=Math.sin(-X),N=N*J+R*K,H=O*J+S*K,S=O*-K+S*J,T=P*-K+T*J,O=H),M&&Y?s.rotation=s.rotationX=0:M&&L?s.rotation=s.rotationY=0:L&&Y&&(s.rotationY=s.rotationX=0),s.scaleX=(0|Math.sqrt(N*N+O*O)*v+.5)/v,s.scaleY=(0|Math.sqrt(S*S+A*A)*v+.5)/v,s.scaleZ=(0|Math.sqrt(T*T+B*B)*v+.5)/v,s.skewX=0,s.perspective=W?1/(0>W?-W:W):0,s.x=C,s.y=E,s.z=F}}else if(!(wb&&!d&&f.length&&s.x===f[4]&&s.y===f[5]&&(s.rotationX||s.rotationY)||void 0!==s.x&&"none"===V(a,"display",b))){var Z=f.length>=6,$=Z?f[0]:1,_=f[1]||0,ab=f[2]||0,bb=Z?f[3]:1;s.x=f[4]||0,s.y=f[5]||0,k=Math.sqrt($*$+_*_),l=Math.sqrt(bb*bb+ab*ab),m=$||_?Math.atan2(_,$):s.rotation||0,n=ab||bb?Math.atan2(ab,bb)+m:s.skewX||0,o=k-Math.abs(s.scaleX||0),p=l-Math.abs(s.scaleY||0),Math.abs(n)>Math.PI/2&&Math.abs(n)<1.5*Math.PI&&(t?(k*=-1,n+=0>=m?Math.PI:-Math.PI,m+=0>=m?Math.PI:-Math.PI):(l*=-1,n+=0>=n?Math.PI:-Math.PI)),q=(m-s.rotation)%Math.PI,r=(n-s.skewX)%Math.PI,(void 0===s.skewX||o>u||-u>o||p>u||-u>p||q>w&&x>q&&!1|q*v||r>w&&x>r&&!1|r*v)&&(s.scaleX=k,s.scaleY=l,s.rotation=m,s.skewX=n),wb&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(g.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=y;for(h in s)u>s[h]&&s[h]>-u&&(s[h]=0);return c&&(a._gsTransform=s),s},yb=function(a){var b,c,d=this.data,e=-d.rotation,f=e+d.skewX,g=1e5,h=(0|Math.cos(e)*d.scaleX*g)/g,i=(0|Math.sin(e)*d.scaleX*g)/g,j=(0|Math.sin(f)*-d.scaleY*g)/g,k=(0|Math.cos(f)*d.scaleY*g)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,p,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x,x=d.y;if(null!=d.ox&&(n=(d.oxp?.01*q*d.ox:d.ox)-q/2,p=(d.oyp?.01*r*d.oy:d.oy)-r/2,w+=n-(n*h+p*i),x+=p-(n*j+p*k)),s?(n=q/2,p=r/2,v+=", Dx="+(n-(n*h+p*i)+w)+", Dy="+(p-(n*j+p*k)+x)+")"):v+=", sizingMethod='auto expand')",l.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(E,v):v+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===v.indexOf("Dx=0, Dy=0")||u.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf("gradient("&&b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>o?1:-1;for(n=d.ieOffsetX||0,p=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),ob=0;4>ob;ob++)z=_[ob],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):W(this.t,z,parseFloat(y),y.replace(t,""))||0,A=c!==d[z]?2>ob?-d.ieOffsetX:-d.ieOffsetY:2>ob?n-d.ieOffsetX:p-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===ob||2===ob?1:B)))+"px"}}},zb=function(){var a,b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=this.data,C=this.t.style,D=B.rotation,E=B.scaleX,F=B.scaleY,G=B.scaleZ,H=B.perspective;if(m&&(y=C.top?"top":C.bottom?"bottom":parseFloat(V(this.t,"top",null,!1))?"bottom":"top",u=V(this.t,y,null,!1),z=parseFloat(u)||0,A=u.substr((z+"").length)||"px",B._ffFix=!B._ffFix,C[y]=(B._ffFix?z+.05:z-.05)+A),D||B.skewX)s=Math.cos(D),t=Math.sin(D),a=s,e=t,B.skewX&&(D-=B.skewX,s=Math.cos(D),t=Math.sin(D)),b=-t,f=s;else{if(!(B.rotationY||B.rotationX||1!==G||H))return C[tb]="translate3d("+B.x+"px,"+B.y+"px,"+B.z+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""),void 0;a=f=1,b=e=0}k=1,c=d=g=h=i=j=l=n=o=0,p=H?-1/H:0,q=B.zOrigin,r=1e5,D=B.rotationY,D&&(s=Math.cos(D),t=Math.sin(D),i=k*-t,n=p*-t,c=a*t,g=e*t,k*=s,p*=s,a*=s,e*=s),D=B.rotationX,D&&(s=Math.cos(D),t=Math.sin(D),u=b*s+c*t,v=f*s+g*t,w=j*s+k*t,x=o*s+p*t,c=b*-t+c*s,g=f*-t+g*s,k=j*-t+k*s,p=o*-t+p*s,b=u,f=v,j=w,o=x),1!==G&&(c*=G,g*=G,k*=G,p*=G),1!==F&&(b*=F,f*=F,j*=F,o*=F),1!==E&&(a*=E,e*=E,i*=E,n*=E),q&&(l-=q,d=c*l,h=g*l,l=k*l+q),d=(u=(d+=B.x)-(d|=0))?(0|u*r+(0>u?-.5:.5))/r+d:d,h=(u=(h+=B.y)-(h|=0))?(0|u*r+(0>u?-.5:.5))/r+h:h,l=(u=(l+=B.z)-(l|=0))?(0|u*r+(0>u?-.5:.5))/r+l:l,C[tb]="matrix3d("+[(0|a*r)/r,(0|e*r)/r,(0|i*r)/r,(0|n*r)/r,(0|b*r)/r,(0|f*r)/r,(0|j*r)/r,(0|o*r)/r,(0|c*r)/r,(0|g*r)/r,(0|k*r)/r,(0|p*r)/r,d,h,l,H?1+-l/H:1].join(",")+")"},Ab=function(){var a,b,c,d,e,f,g,h,i,j=this.data,k=this.t,l=k.style;m&&(a=l.top?"top":l.bottom?"bottom":parseFloat(V(k,"top",null,!1))?"bottom":"top",b=V(k,a,null,!1),c=parseFloat(b)||0,d=b.substr((c+"").length)||"px",j._ffFix=!j._ffFix,l[a]=(j._ffFix?c+.05:c-.05)+d),j.rotation||j.skewX?(e=j.rotation,f=e-j.skewX,g=1e5,h=j.scaleX*g,i=j.scaleY*g,l[tb]="matrix("+(0|Math.cos(e)*h)/g+","+(0|Math.sin(e)*h)/g+","+(0|Math.sin(f)*-i)/g+","+(0|Math.cos(f)*i)/g+","+j.x+","+j.y+")"):l[tb]="matrix("+j.scaleX+",0,0,"+j.scaleY+","+j.x+","+j.y+")"};qb("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(a,b,c,d,f,g,h){if(d._transform)return f;var i,j,k,l,m,n,o,p=d._transform=xb(a,e,!0,h.parseTransform),q=a.style,r=1e-6,s=sb.length,t=h,u={};if("string"==typeof t.transform&&tb)k=q.cssText,q[tb]=t.transform,q.display="block",i=xb(a,null,!1),q.cssText=k;else if("object"==typeof t){if(i={scaleX:db(null!=t.scaleX?t.scaleX:t.scale,p.scaleX),scaleY:db(null!=t.scaleY?t.scaleY:t.scale,p.scaleY),scaleZ:db(null!=t.scaleZ?t.scaleZ:t.scale,p.scaleZ),x:db(t.x,p.x),y:db(t.y,p.y),z:db(t.z,p.z),perspective:db(t.transformPerspective,p.perspective)},o=t.directionalRotation,null!=o)if("object"==typeof o)for(k in o)t[k]=o[k];else t.rotation=o;i.rotation=eb("rotation"in t?t.rotation:"shortRotation"in t?t.shortRotation+"_short":"rotationZ"in t?t.rotationZ:p.rotation*H,p.rotation,"rotation",u),wb&&(i.rotationX=eb("rotationX"in t?t.rotationX:"shortRotationX"in t?t.shortRotationX+"_short":p.rotationX*H||0,p.rotationX,"rotationX",u),i.rotationY=eb("rotationY"in t?t.rotationY:"shortRotationY"in t?t.shortRotationY+"_short":p.rotationY*H||0,p.rotationY,"rotationY",u)),i.skewX=null==t.skewX?p.skewX:eb(t.skewX,p.skewX),i.skewY=null==t.skewY?p.skewY:eb(t.skewY,p.skewY),(j=i.skewY-p.skewY)&&(i.skewX+=j,i.rotation+=j)}for(null!=t.force3D&&(p.force3D=t.force3D,n=!0),m=p.force3D||p.z||p.rotationX||p.rotationY||i.z||i.rotationX||i.rotationY||i.perspective,m||null==t.scale||(i.scaleZ=1);--s>-1;)c=sb[s],l=i[c]-p[c],(l>r||-r>l||null!=I[c])&&(n=!0,f=new mb(p,c,p[c],l,f),c in u&&(f.e=u[c]),f.xs0=0,f.plugin=g,d._overwriteProps.push(f.n));return l=t.transformOrigin,(l||wb&&m&&p.zOrigin)&&(tb?(n=!0,c=vb,l=(l||V(a,c,e,!1,"50% 50%"))+"",f=new mb(q,c,0,0,f,-1,"transformOrigin"),f.b=q[c],f.plugin=g,wb?(k=p.zOrigin,l=l.split(" "),p.zOrigin=(l.length>2&&(0===k||"0px"!==l[2])?parseFloat(l[2]):k)||0,f.xs0=f.e=q[c]=l[0]+" "+(l[1]||"50%")+" 0px",f=new mb(p,"zOrigin",0,0,f,-1,f.n),f.b=k,f.xs0=f.e=p.zOrigin):f.xs0=f.e=q[c]=l):bb(l+"",p)),n&&(d._transformType=m||3===this._transformType?3:2),f},prefix:!0}),qb("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),qb("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g){b=this.format(b);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=a.style;for(p=parseFloat(a.offsetWidth),q=parseFloat(a.offsetHeight),h=b.split(" "),i=0;x.length>i;i++)this.p.indexOf("border")&&(x[i]=T(x[i])),l=k=V(a,x[i],e,!1,"0px"),-1!==l.indexOf(" ")&&(k=l.split(" "),l=k[0],k=k[1]),m=j=h[i],n=parseFloat(l),s=l.substr((n+"").length),t="="===m.charAt(1),t?(o=parseInt(m.charAt(0)+"1",10),m=m.substr(2),o*=parseFloat(m),r=m.substr((o+"").length-(0>o?1:0))||""):(o=parseFloat(m),r=m.substr((o+"").length)),""===r&&(r=d[c]||s),r!==s&&(u=W(a,"borderLeft",n,s),v=W(a,"borderTop",n,s),"%"===r?(l=100*(u/p)+"%",k=100*(v/q)+"%"):"em"===r?(w=W(a,"borderLeft",1,"em"),l=u/w+"em",k=v/w+"em"):(l=u+"px",k=v+"px"),t&&(m=parseFloat(l)+o+r,j=parseFloat(k)+o+r)),g=nb(y,x[i],l+" "+k,m+" "+j,!1,"0px",g);return g},prefix:!0,formatter:jb("0px 0px 0px 0px",!1,!0)}),qb("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",p=e||U(a,null),q=this.format((p?o?p.getPropertyValue(n+"-x")+" "+p.getPropertyValue(n+"-y"):p.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=V(a,"backgroundImage").replace(A,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),L.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-L.width:a.offsetHeight-L.height,h[j]=k?parseFloat(q)/100*l+"px":100*(parseFloat(q)/l)+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:bb}),qb("backgroundSize",{defaultValue:"0 0",formatter:bb}),qb("perspective",{defaultValue:"0px",prefix:!0}),qb("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),qb("transformStyle",{prefix:!0}),qb("backfaceVisibility",{prefix:!0}),qb("margin",{parser:kb("marginTop,marginRight,marginBottom,marginLeft")}),qb("padding",{parser:kb("paddingTop,paddingRight,paddingBottom,paddingLeft")}),qb("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>o?(i=a.currentStyle,j=8>o?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(V(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),qb("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),qb("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),qb("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,"borderTopWidth",e,!1,"0px")+" "+V(a,"borderTopStyle",e,!1,"solid")+" "+V(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ib)||["#000"])[0]}}),qb("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){var f=a.style,g="cssFloat"in f?"cssFloat":"styleFloat";return new mb(f,g,0,0,e,-1,c,!1,0,f[g],b)}});var Bb=function(a){var b,c=this.t,d=c.filter||V(this.data,"filter"),e=0|this.s+this.c*a;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!V(this.data,"filter")):(c.filter=d.replace(w,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("opacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(u,"opacity="+e))};qb("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(V(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return b=parseFloat(b),j&&1===h&&"hidden"===V(a,"visibility",e)&&0!==b&&(h=0),O?f=new mb(i,"opacity",h,b-h,f):(f=new mb(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Bb),j&&(f=new mb(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Cb=function(a,b){b&&(a.removeProperty?a.removeProperty(b.replace(y,"-$1").toLowerCase()):a.removeAttribute(b))},Db=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.className=0===a?this.b:this.e;for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Cb(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};qb("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.className,p=a.style.cssText;if(g=f._classNamePT=new mb(a,d,0,0,g,2),g.setRatio=Db,g.pr=-11,c=!0,g.b=o,k=Y(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),f._tween._duration&&(a.className=g.e,j=Z(a,k,Y(a),i,m),a.className=o,g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)),g}});var Eb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration){var b,c,d,e,f=this.t.style,g=h.transform.parse;if("all"===this.e)f.cssText="",e=!0;else for(b=this.e.split(","),d=b.length;--d>-1;)c=b[d],h[c]&&(h[c].parse===g?e=!0:c="transformOrigin"===c?vb:h[c].p),Cb(f,c);e&&(Cb(f,tb),this.t._gsTransform&&delete this.t._gsTransform)}};for(qb("clearProps",{parser:function(a,b,d,e,f){return f=new mb(a,d,0,0,f,2),f.setRatio=Eb,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),i="bezier,throwProps,physicsProps,physics2D".split(","),ob=i.length;ob--;)rb(i[ob]);i=g.prototype,i._firstPT=null,i._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,j=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=U(a,""),f=this._overwriteProps;var i,m,o,p,q,r,s,t,u,w=a.style;if(k&&""===w.zIndex&&(i=V(a,"zIndex",e),("auto"===i||""===i)&&(w.zIndex=0)),"string"==typeof b&&(p=w.cssText,i=Y(a,e),w.cssText=p+";"+b,i=Z(a,i,Y(a)).difs,!O&&v.test(b)&&(i.opacity=parseFloat(RegExp.$1)),b=i,w.cssText=p),this._firstPT=m=this.parse(a,b,null),this._transformType){for(u=3===this._transformType,tb?l&&(k=!0,""===w.zIndex&&(s=V(a,"zIndex",e),("auto"===s||""===s)&&(w.zIndex=0)),n&&(w.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):w.zoom=1,o=m;o&&o._next;)o=o._next;t=new mb(a,"transform",0,0,null,2),this._linkCSSP(t,null,o),t.setRatio=u&&wb?zb:tb?Ab:yb,t.data=this._transform||xb(a,e,!0),f.pop()}if(c){for(;m;){for(r=m._next,o=p;o&&o.pr>m.pr;)o=o._next;(m._prev=o?o._prev:q)?m._prev._next=m:p=m,(m._next=o)?o._prev=m:q=m,m=r}this._firstPT=p}return!0},i.parse=function(a,b,c,f){var g,i,k,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],i=h[g],i?c=i.parse(a,n,g,this,c,f,b):(m=V(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&x.test(n)?(q||(n=hb(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=nb(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(k=parseFloat(m),o=k||0===k?m.substr((k+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(k=ab(a,g,e),o="px"):"left"===g||"top"===g?(k=X(a,g,e),o="px"):(k="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(t,"")):(l=parseFloat(n),p=q?n.substr((l+"").length)||"":""),""===p&&(p=d[g]||o),n=l||0===l?(r?l+k:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&(k||0===k)&&(k=W(a,g,k,o),"%"===p?(k/=W(a,g,100,"%")/100,k>100&&(k=100),b.strictUnits!==!0&&(m=k+"%")):"em"===p?k/=W(a,g,1,"em"):(l=W(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+k+p)),r&&(l+=k),!k&&0!==k||!l&&0!==l?void 0!==s[g]&&(n||"NaN"!=n+""&&null!=n)?(c=new mb(s,g,l||k||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):Q("invalid "+g+" tween value: "+b[g]):(c=new mb(s,g,k,l-k,c,0,g,j!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=nb(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},i.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=b>0?0|b+.5:0|b-.5:f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;e.l>d;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;)2!==e.type?e.t[e.p]=e.e:e.setRatio(a),e=e._next},i._enableTransforms=function(a){this._transformType=a||3===this._transformType?3:2,this._transform=this._transform||xb(this._target,e,!0)},i._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},i._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Fb=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Fb(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(Y(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Fb(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h=b.to(a,c,d),i=[h],j=[],k=[],l=[],m=b._internals.reservedProps;for(a=h._targets||h.target,Fb(a,j,l),h.render(c,!0),Fb(a,k),h.render(0,!0),h._enabled(!0),e=l.length;--e>-1;)if(f=Z(l[e],j[e],k[e]),f.firstMPT){f=f.difs;for(g in d)m[g]&&(f[g]=d[g]);i.push(b.to(l[e],c,f))}return i},a.activate([g]),g},!0),function(){var a=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=a.prototype;b._onInitAllProps=function(){for(var a,b,c,d=this._tween,e=d.vars.roundProps instanceof Array?d.vars.roundProps:d.vars.roundProps.split(","),f=e.length,g={},h=d._propLookup.roundProps;--f>-1;)g[e[f]]=1;for(f=e.length;--f>-1;)for(a=e[f],b=d._firstPT;b;)c=b._next,b.pg?b.t._roundProps(g,!0):b.n===a&&(this._add(b.t,a,b.s,b.c),c&&(c._prev=b._prev),b._prev?b._prev._next=c:d._firstPT===b&&(d._firstPT=c),b._next=b._prev=null,d._propLookup[a]=h),b=c;return!1},b._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,!0),this._overwriteProps.push(b)
}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(a,b){var c;if("function"!=typeof a.setAttribute)return!1;this._target=a,this._proxy={};for(c in b)this._addTween(this._proxy,c,parseFloat(a.getAttribute(c)),b[c],c)&&this._overwriteProps.push(c);return!0},set:function(a){this._super.setRatio.call(this,a);for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=c[d],this._target.setAttribute(b,this._proxy[b]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(a,b){"object"!=typeof b&&(b={rotation:b}),this.finals={};var c,d,e,f,g,h,i=b.useRadians===!0?2*Math.PI:360,j=1e-6;for(c in b)"useRadians"!==c&&(h=(b[c]+"").split("_"),d=h[0],e=parseFloat("function"!=typeof a[c]?a[c]:a[c.indexOf("set")||"function"!=typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]()),f=this.finals[c]="string"==typeof d&&"="===d.charAt(1)?e+parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)):Number(d)||0,g=f-e,h.length&&(d=h.join("_"),-1!==d.indexOf("short")&&(g%=i,g!==g%(i/2)&&(g=0>g?g+i:g-i)),-1!==d.indexOf("_cw")&&0>g?g=(g+9999999999*i)%i-(0|g/i)*i:-1!==d.indexOf("ccw")&&g>0&&(g=(g-9999999999*i)%i-(0|g/i)*i)),(g>j||-j>g)&&(this._addTween(a,c,e,e+g,c),this._overwriteProps.push(c)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=window.GreenSockGlobals||window,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d){var e=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(e,a),e},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=.5*f*f*r):(f=2*(1-c),e=.5*f*f*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&b.t>=a;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a||1,this._p2=b||d,this._p3=this._p2/g*(Math.asin(1/this._p1)||0)},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*g/this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2))},.3),d("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2):.5*this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),function(a){"use strict";var b,c,d,e,f,g=a.GreenSockGlobals||a,h=function(a){var b,c=a.split("."),d=g;for(b=0;c.length>b;b++)d[c[b]]=d=d[c[b]]||{};return d},i=h("com.greensock"),j=[].slice,k=function(){},l={},m=function(b,c,d,e){this.sc=l[b]?l[b].sc:[],l[b]=this,this.gsClass=null,this.func=d;var f=[];this.check=function(i){for(var j,k,n,o,p=c.length,q=p;--p>-1;)(j=l[c[p]]||new m(c[p],[])).gsClass?(f[p]=j.gsClass,q--):i&&j.sc.push(this);if(0===q&&d)for(k=("com.greensock."+b).split("."),n=k.pop(),o=h(k.join("."))[n]=this.gsClass=d.apply(d,f),e&&(g[n]=o,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+b.split(".").join("/"),[],function(){return o}):"undefined"!=typeof module&&module.exports&&(module.exports=o)),p=0;this.sc.length>p;p++)this.sc[p].check()},this.check(!0)},n=a._gsDefine=function(a,b,c,d){return new m(a,b,c,d)},o=i._class=function(a,b,c){return b=b||function(){},n(a,[],function(){return b},c),b};n.globals=g;var p=[0,0,1,1],q=[],r=o("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?p.concat(b):p},!0),s=r.map={},t=r.register=function(a,b,c,d){for(var e,f,g,h,j=b.split(","),k=j.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=j[k],e=d?o("easing."+f,null,!0):i.easing[f]||{},g=l.length;--g>-1;)h=l[g],s[f+"."+h]=s[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(d=r.prototype,d._calcEnd=!1,d.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},b=["Linear","Quad","Cubic","Quart","Quint,Strong"],c=b.length;--c>-1;)d=b[c]+",Power"+c,t(new r(null,null,1,c),d,"easeOut",!0),t(new r(null,null,2,c),d,"easeIn"+(0===c?",easeNone":"")),t(new r(null,null,3,c),d,"easeInOut");s.linear=i.easing.Linear.easeIn,s.swing=i.easing.Quad.easeInOut;var u=o("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});d=u.prototype,d.addEventListener=function(a,b,c,d,g){g=g||0;var h,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)h=j[i],h.c===b&&h.s===c?j.splice(i,1):0===k&&g>h.pr&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:g}),this!==e||f||e.wake()},d.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return d.splice(c,1),void 0},d.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c)};var v=a.requestAnimationFrame,w=a.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},y=x();for(b=["ms","moz","webkit","o"],c=b.length;--c>-1&&!v;)v=a[b[c]+"RequestAnimationFrame"],w=a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];o("Ticker",function(a,b){var c,d,g,h,i,j=this,l=x(),m=b!==!1&&v,n=function(a){y=x(),j.time=(y-l)/1e3;var b,e=j.time-i;(!c||e>0||a===!0)&&(j.frame++,i+=e+(e>=h?.004:h-e),b=!0),a!==!0&&(g=d(n)),b&&j.dispatchEvent("tick")};u.call(j),j.time=j.frame=0,j.tick=function(){n(!0)},j.sleep=function(){null!=g&&(m&&w?w(g):clearTimeout(g),d=k,g=null,j===e&&(f=!1))},j.wake=function(){null!==g&&j.sleep(),d=0===c?k:m&&v?v:function(a){return setTimeout(a,0|1e3*(i-j.time)+1)},j===e&&(f=!0),n(2)},j.fps=function(a){return arguments.length?(c=a,h=1/(c||60),i=this.time+h,j.wake(),void 0):c},j.useRAF=function(a){return arguments.length?(j.sleep(),m=a,j.fps(c),void 0):m},j.fps(a),setTimeout(function(){m&&(!g||5>j.frame)&&j.useRAF(!1)},1500)}),d=i.Ticker.prototype=new i.events.EventDispatcher,d.constructor=i.Ticker;var z=o("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,M){f||e.wake();var c=this.vars.useFrames?L:M;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});e=z.ticker=new i.Ticker,d=z.prototype,d._dirty=d._gc=d._initted=d._paused=!1,d._totalTime=d._time=0,d._rawPrevTime=-1,d._next=d._last=d._onUpdate=d._timeline=d.timeline=null,d._paused=!1;var A=function(){x()-y>2e3&&e.wake(),setTimeout(A,2e3)};A(),d.play=function(a,b){return arguments.length&&this.seek(a,b),this.reversed(!1).paused(!1)},d.pause=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!0)},d.resume=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!1)},d.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},d.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},d.reverse=function(a,b){return arguments.length&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},d.render=function(){},d.invalidate=function(){return this},d._enabled=function(a,b){return f||e.wake(),this._gc=!a,this._active=a&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration,b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},d._kill=function(){return this._enabled(!1,!1)},d.kill=function(a,b){return this._kill(a,b),this},d._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},d._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},d.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=c instanceof Array&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},d.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},d.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},d.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},d.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},d.totalTime=function(a,b,c){if(f||e.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,g=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:g._time)-(this._reversed?d-a:a)/this._timeScale,g._dirty||this._uncache(!1),g._timeline)for(;g._timeline;)g._timeline._time!==(g._startTime+g._totalTime)/g._timeScale&&g.totalTime(g._totalTime,!0),g=g._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==a&&this.render(a,b,!1)}return this},d.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},d.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||1e-6,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},d.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._totalTime,!0)),this):this._reversed},d.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){f||a||e.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=!a&&this._totalTime>0&&this._totalTime<this._totalDuration,a||0===d||0===this._duration||this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var B=o("core.SimpleTimeline",function(a){z.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});d=B.prototype=new z,d.constructor=B,d.kill()._gc=!1,d._first=d._last=null,d._sortChildren=!1,d.add=d.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._timeline&&this._uncache(!0),this},d._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},d.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},d.rawTime=function(){return f||e.wake(),this._totalTime};var C=o("TweenLite",function(b,c,d){if(z.call(this,c,d),this.render=C.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:C.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?K[C.defaultOverwrite]:"number"==typeof i?i>>0:K[i],(h||b instanceof Array)&&"number"!=typeof b[0])for(this._targets=g=j.call(b,0),this._propLookup=[],this._siblings=[],e=0;g.length>e;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(j.call(f,0))):(this._siblings[e]=N(f,this,!1),1===i&&this._siblings[e].length>1&&O(f,this,null,1,this._siblings[e])):(f=g[e--]=C.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=N(b,this,!1),1===i&&this._siblings.length>1&&O(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),D=function(b){return b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},E=function(a,b){var c,d={};for(c in a)J[c]||c in b&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!G[c]||G[c]&&G[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};d=C.prototype=new z,d.constructor=C,d.kill()._gc=!1,d.ratio=0,d._firstPT=d._targets=d._overwrittenProps=d._startAt=null,d._notifyPluginsOfEnabled=!1,C.version="1.10.3",C.defaultEase=d._ease=new r(null,null,1,1),C.defaultOverwrite="auto",C.ticker=e,C.autoSleep=!0,C.selector=a.$||a.jQuery||function(b){return a.$?(C.selector=a.$,a.$(b)):a.document?a.document.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var F=C._internals={},G=C._plugins={},H=C._tweenLookup={},I=0,J=F.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},L=z._rootFramesTimeline=new B,M=z._rootTimeline=new B;M._startTime=e.time,L._startTime=e.frame,M._active=L._active=!0,z._updateRoot=function(){if(M.render((e.time-M._startTime)*M._timeScale,!1,!1),L.render((e.frame-L._startTime)*L._timeScale,!1,!1),!(e.frame%120)){var a,b,c;for(c in H){for(b=H[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete H[c]}if(c=M._first,(!c||c._paused)&&C.autoSleep&&!L._first&&1===e._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||e.sleep()}}},e.addEventListener("tick",z._updateRoot);var N=function(a,b,c){var d,e,f=a._gsTweenID;if(H[f||(a._gsTweenID=f="t"+I++)]||(H[f]={target:a,tweens:[]}),b&&(d=H[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return H[f].tweens},O=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+1e-10,l=[],m=0,n=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||P(b,0,n),0===P(h,j,n)&&(l[m++]=h)):k>=h._startTime&&h._startTime+h.totalDuration()/h._timeScale+1e-10>k&&((n||!h._initted)&&2e-10>=k-h._startTime||(l[m++]=h)));for(f=m;--f>-1;)h=l[f],2===d&&h._kill(c,a)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&h._enabled(!1,!1)&&(g=!0);return g},P=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime,g=1e-10;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*g>f-b?g:(f+=a.totalDuration()/a._timeScale/e)>b+g?0:f-b-g};d._init=function(){var a,b,c,d,e=this.vars,f=this._overwrittenProps,g=this._duration,h=e.immediateRender,i=e.ease;if(e.startAt){if(this._startAt&&this._startAt.render(-1,!0),e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=C.to(this.target,0,e.startAt),h)if(this._time>0)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&e.immediateRender&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(0===this._time){c={};for(d in e)J[d]&&"autoCSS"!==d||(c[d]=e[d]);return c.overwrite=0,this._startAt=C.to(this.target,0,c),void 0}if(this._ease=i?i instanceof r?e.easeParams instanceof Array?i.config.apply(i,e.easeParams):i:"function"==typeof i?new r(i,e.easeParams):s[i]||C.defaultEase:C.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f);if(b&&C._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate,this._initted=!0},d._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;this.vars.css||b.style&&b!==a&&b.nodeType&&G.css&&this.vars.autoCSS!==!1&&E(this.vars,b);for(f in this.vars){if(k=this.vars[f],J[f])k instanceof Array&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(G[f]&&(i=new G[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&O(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):h},d.render=function(a,b,c){var d,e,f,g=this._time;if(a>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===this._duration&&((0===a||0>this._rawPrevTime)&&this._rawPrevTime!==a&&(c=!0,this._rawPrevTime>0&&(e="onReverseComplete",b&&(a=-1))),this._rawPrevTime=a);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===this._duration&&this._rawPrevTime>0)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=a)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var h=a/this._duration,i=this._easeType,j=this._easePower;(1===i||3===i&&h>=.5)&&(h=1-h),3===i&&(h*=2),1===j?h*=h:2===j?h*=h*h:3===j?h*=h*h*h:4===j&&(h*=h*h*h*h),this.ratio=1===i?1-h:2===i?h:.5>a/this._duration?h/2:1-h/2}else this.ratio=this._ease.getRatio(a/this._duration);if(this._time!==g||c){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/this._duration):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==g&&a>=0&&(this._active=!0),0===g&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===this._duration)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||q))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startAt.render(a,b,c),b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||q)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||q)))}},d._kill=function(a,b){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:C.selector(b)||b;var c,d,e,f,g,h,i,j;if((b instanceof Array||D(b))&&"number"!=typeof b[0])for(c=b.length;--c>-1;)this._kill(a,b[c])&&(h=!0);else{if(this._targets){for(c=this._targets.length;--c>-1;)if(b===this._targets[c]){g=this._propLookup[c]||{},this._overwrittenProps=this._overwrittenProps||[],d=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==this.target)return!1;g=this._propLookup,d=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(g){i=a||g,j=a!==d&&"all"!==d&&a!==g&&(null==a||a._tempKill!==!0);for(e in i)(f=g[e])&&(f.pg&&f.t._kill(i)&&(h=!0),f.pg&&0!==f.t._overwriteProps.length||(f._prev?f._prev._next=f._next:f===this._firstPT&&(this._firstPT=f._next),f._next&&(f._next._prev=f._prev),f._next=f._prev=null),delete g[e]),j&&(d[e]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},d.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},d._enabled=function(a,b){if(f||e.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=N(d[c],this,!0);else this._siblings=N(this.target,this,!0)}return z.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?C._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},C.to=function(a,b,c){return new C(a,b,c)},C.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new C(a,b,c)},C.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new C(a,b,d)},C.delayedCall=function(a,b,c,d,e){return new C(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})},C.set=function(a,b){return new C(a,0,b)},C.killTweensOf=C.killDelayedCallsTo=function(a,b){for(var c=C.getTweensOf(a),d=c.length;--d>-1;)c[d]._kill(b,a)},C.getTweensOf=function(a){if(null==a)return[];a="string"!=typeof a?a:C.selector(a)||a;var b,c,d,e;if((a instanceof Array||D(a))&&"number"!=typeof a[0]){for(b=a.length,c=[];--b>-1;)c=c.concat(C.getTweensOf(a[b]));for(b=c.length;--b>-1;)for(e=c[b],d=b;--d>-1;)e===c[d]&&c.splice(b,1)}else for(c=N(a).concat(),b=c.length;--b>-1;)c[b]._gc&&c.splice(b,1);return c};var Q=o("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=Q.prototype},!0);if(d=Q.prototype,Q.version="1.10.1",Q.API=2,d._firstPT=null,d._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},d.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=0|b+(b>0?.5:-.5):d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},d._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},d._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},C._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},Q.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===Q.API&&(G[(new a[b])._propName]=a[b]);return!0},n.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=o("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){Q.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new Q(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,Q.activate([g]),g},b=a._gsQueue){for(c=0;b.length>c;c++)b[c]();for(d in l)l[d].func||a.console.log("GSAP encountered missing dependency: com.greensock."+d)}f=!1}(window);/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2013, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.13.0",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>',b.firstChild.href},getScriptPath:function(a){for(var b,c,d,e=0,f="",g="",h=document.getElementsByTagName("script"),i=h.length,j=a.length;i>e;e++){for(c=h[e].src,b=c.lastIndexOf("/"),b>-1?(d=c.substring(b+1),c=c.substring(0,b+1)):(d=c,c=""),b=0;j>b;b++)if(g=a[b],g=d.indexOf(g),g>-1){f=c;break}if(""!==f)break}return f},secondsToTimeCode:function(a,b,c,d){"undefined"==typeof c?c=!1:"undefined"==typeof d&&(d=25);var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60);return a=Math.floor((a%1*d).toFixed(3)),(b||e>0?(10>e?"0"+e:e)+":":"")+(10>f?"0"+f:f)+":"+(10>g?"0"+g:g)+(c?":"+(10>a?"0"+a:a):"")},timeCodeToSeconds:function(a,b,c,d){"undefined"==typeof c?c=!1:"undefined"==typeof d&&(d=25),a=a.split(":"),b=parseInt(a[0],10);var e=parseInt(a[1],10),f=parseInt(a[2],10),g=0,h=0;return c&&(g=parseInt(a[3])/d),h=3600*b+60*e+f+g},convertSMPTEtoSeconds:function(a){if("string"!=typeof a)return!1;a=a.replace(",",".");var b=0,c=-1!=a.indexOf(".")?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++)d=1,e>0&&(d=Math.pow(60,e)),b+=Number(a[e])*d;return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);b&&/object|embed/i.test(b.nodeName)&&(mejs.MediaFeatures.isIE?(b.style.display="none",function(){4==b.readyState?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},removeObjectInIE:function(a){if(a=document.getElementById(a)){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}}},mejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];return b[1]=b[1]||0,b[2]=b[2]||0,c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e,f=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[a]){if((c=this.nav.plugins[a].description)&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[b]||this.nav.mimeTypes[b].enabledPlugin))for(f=c.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),a=0;a<f.length;a++)f[a]=parseInt(f[a].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{(e=new ActiveXObject(c))&&(f=d(e))}catch(g){}return f}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[];return(a=a.GetVariable("$version"))&&(a=a.split(" ")[1].split(","),b=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]),b}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(a,b,c,d){for(;a.isVersionSupported(b[0]+"."+b[1]+"."+b[2]+"."+b[3]);)b[c]+=d;b[c]-=d};return c(a,b,0,1),c(a,b,1,1),c(a,b,2,1e4),c(a,b,2,1e3),c(a,b,2,100),c(a,b,2,10),c(a,b,2,1),c(a,b,3,1),b}),mejs.MediaFeatures={init:function(){var a,b=this,c=document,d=mejs.PluginDetector.nav,e=mejs.PluginDetector.ua.toLowerCase(),f=["source","track","audio","video"];b.isiPad=null!==e.match(/ipad/i),b.isiPhone=null!==e.match(/iphone/i),b.isiOS=b.isiPhone||b.isiPad,b.isAndroid=null!==e.match(/android/i),b.isBustedAndroid=null!==e.match(/android 2\.[12]/),b.isBustedNativeHTTPS="https:"===location.protocol&&(null!==e.match(/android [12]\./)||null!==e.match(/macintosh.* version.* safari/)),b.isIE=-1!=d.appName.toLowerCase().indexOf("microsoft"),b.isChrome=null!==e.match(/chrome/gi),b.isFirefox=null!==e.match(/firefox/gi),b.isWebkit=null!==e.match(/webkit/gi),b.isGecko=null!==e.match(/gecko/gi)&&!b.isWebkit,b.isOpera=null!==e.match(/opera/gi),b.hasTouch="ontouchstart"in window&&null!=window.ontouchstart,b.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(d=0;d<f.length;d++)a=document.createElement(f[d]);b.supportsMediaTag="undefined"!=typeof a.canPlayType||b.isBustedAndroid;try{a.canPlayType("video/mp4")}catch(g){b.supportsMediaTag=!1}b.hasSemiNativeFullScreen="undefined"!=typeof a.webkitEnterFullscreen,b.hasWebkitNativeFullScreen="undefined"!=typeof a.webkitRequestFullScreen,b.hasMozNativeFullScreen="undefined"!=typeof a.mozRequestFullScreen,b.hasTrueNativeFullScreen=b.hasWebkitNativeFullScreen||b.hasMozNativeFullScreen,b.nativeFullScreenEnabled=b.hasTrueNativeFullScreen,b.hasMozNativeFullScreen&&(b.nativeFullScreenEnabled=a.mozFullScreenEnabled),this.isChrome&&(b.hasSemiNativeFullScreen=!1),b.hasTrueNativeFullScreen&&(b.fullScreenEventName=b.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange",b.isFullScreen=function(){return a.mozRequestFullScreen?c.mozFullScreen:a.webkitRequestFullScreen?c.webkitIsFullScreen:void 0},b.requestFullScreen=function(a){b.hasWebkitNativeFullScreen?a.webkitRequestFullScreen():b.hasMozNativeFullScreen&&a.mozRequestFullScreen()},b.cancelFullScreen=function(){b.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():b.hasMozNativeFullScreen&&document.mozCancelFullScreen()}),b.hasSemiNativeFullScreen&&e.match(/mac os x 10_5/i)&&(b.hasNativeFullScreen=!1,b.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName("source");b.length>0;)this.removeChild(b[0]);if("string"==typeof a)this.src=a;else{var c;for(b=0;b<a.length;b++)if(c=a[b],this.canPlayType(c.type)){this.src=c.src;break}}},setVideoSize:function(a,b){this.width=a,this.height=b}},mejs.PluginMediaElement=function(a,b,c){this.id=a,this.pluginType=b,this.src=c,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"!=this.pluginType&&this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++)if(d=e[b],mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return"probably";return""},positionFullscreenButton:function(a,b,c){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if("string"==typeof a)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a)),this.src=mejs.Utility.absolutizeUrl(a);else{var b,c;for(b=0;b<a.length;b++)if(c=a[b],this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src)),this.src=mejs.Utility.absolutizeUrl(a);break}}},setCurrentTime:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a),this.currentTime=a)},setVolume:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*a):this.pluginApi.setVolume(a),this.volume=a)},setMuted:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?(a?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=a,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(a),this.muted=a)},setVideoSize:function(a,b){this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(a,b){this.events[a]=this.events[a]||[],this.events[a].push(b)},removeEventListener:function(a,b){if(!a)return this.events={},!0;var c=this.events[a];if(!c)return!0;if(!b)return this.events[a]=[],!0;for(i=0;i<c.length;i++)if(c[i]===b)return this.events[a].splice(i,1),!0;return!1},dispatchEvent:function(a){var b,c,d=this.events[a];if(d)for(c=Array.prototype.slice.call(arguments,1),b=0;b<d.length;b++)d[b].apply(null,c)},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){return this.hasAttribute(a)?this.attributes[a]:""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b,this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a],delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case"flash":b.pluginElement=b.pluginApi=document.getElementById(a);break;case"silverlight":b.pluginElement=document.getElementById(b.id),b.pluginApi=b.pluginElement.Content.MediaElementJS}null!=b.pluginApi&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e;if(a=this.pluginMediaElements[a]){b={type:b,target:a};for(d in c)a[d]=c[d],b[d]=c[d];e=c.bufferedTime||0,b.target.buffered=b.buffered={start:function(){return 0},end:function(){return e},length:1},a.dispatchEvent(b.type,b)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","https://www.ubisoft.com/","https://www.ubisoft.com/","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)},mejs.HtmlMediaElementShim={create:function(a,b){var c=mejs.MediaElementDefaults,d="string"==typeof a?document.getElementById(a):a,e=d.tagName.toLowerCase(),f="audio"===e||"video"===e,g=f?d.getAttribute("src"):d.getAttribute("href");e=d.getAttribute("poster");var h,i=d.getAttribute("autoplay"),j=d.getAttribute("preload"),k=d.getAttribute("controls");for(h in b)c[h]=b[h];return g="undefined"==typeof g||null===g||""==g?null:g,e="undefined"==typeof e||null===e?"":e,j="undefined"==typeof j||null===j||"false"===j?"none":j,i=!("undefined"==typeof i||null===i||"false"===i),k=!("undefined"==typeof k||null===k||"false"===k),h=this.determinePlayback(d,c,mejs.MediaFeatures.supportsMediaTag,f,g),h.url=null!==h.url?mejs.Utility.absolutizeUrl(h.url):"","native"==h.method?(mejs.MediaFeatures.isBustedAndroid&&(d.src=h.url,d.addEventListener("click",function(){d.play()},!1)),this.updateNative(h,c,i,j)):""!==h.method?this.createPlugin(h,c,e,i,j,k):(this.createErrorMessage(h,c,e),this)},determinePlayback:function(a,b,c,d,e){var f,g,h,i,j=[],k={method:"",url:"",htmlMediaElement:a,isVideo:"audio"!=a.tagName.toLowerCase()};if("undefined"!=typeof b.type&&""!==b.type)if("string"==typeof b.type)j.push({type:b.type,url:e});else for(f=0;f<b.type.length;f++)j.push({type:b.type[f],url:e});else if(null!==e)h=this.formatType(e,a.getAttribute("type")),j.push({type:h,url:e});else for(f=0;f<a.childNodes.length;f++)g=a.childNodes[f],1==g.nodeType&&"source"==g.tagName.toLowerCase()&&(e=g.getAttribute("src"),h=this.formatType(e,g.getAttribute("type")),g=g.getAttribute("media"),(!g||!window.matchMedia||window.matchMedia&&window.matchMedia(g).matches)&&j.push({type:h,url:e}));if(!d&&j.length>0&&null!==j[0].url&&this.getTypeFromFile(j[0].url).indexOf("audio")>-1&&(k.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(a.canPlayType=function(a){return null!==a.match(/video\/(mp4|m4v)/gi)?"maybe":""}),!(!c||"auto"!==b.mode&&"auto_plugin"!==b.mode&&"native"!==b.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&b.httpsBasicAuthSite===!0)){for(d||(f=document.createElement(k.isVideo?"video":"audio"),a.parentNode.insertBefore(f,a),a.style.display="none",k.htmlMediaElement=a=f),f=0;f<j.length;f++)if(""!==a.canPlayType(j[f].type).replace(/no/,"")||""!==a.canPlayType(j[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")){k.method="native",k.url=j[f].url;break}if("native"===k.method&&(null!==k.url&&(a.src=k.url),"auto_plugin"!==b.mode))return k}if("auto"===b.mode||"auto_plugin"===b.mode||"shim"===b.mode)for(f=0;f<j.length;f++)for(h=j[f].type,a=0;a<b.plugins.length;a++)for(e=b.plugins[a],g=mejs.plugins[e],c=0;c<g.length;c++)if(i=g[c],null==i.version||mejs.PluginDetector.hasPluginVersion(e,i.version))for(d=0;d<i.types.length;d++)if(h==i.types[d])return k.method=e,k.url=j[f].url,k;return"auto_plugin"===b.mode&&"native"===k.method?k:(""===k.method&&j.length>0&&(k.url=j[0].url),k)},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},getTypeFromFile:function(a){return a=a.split("?")[0],a=a.substring(a.lastIndexOf(".")+1).toLowerCase(),(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a)?"video":"audio")+"/"+this.getTypeFromExtension(a)},getTypeFromExtension:function(a){switch(a){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement("div");e.className="me-cannotplay";try{e.style.width=d.width+"px",e.style.height=d.height+"px"}catch(f){}e.innerHTML=b.customError?b.customError:""!==c?'<a href="'+a.url+'"><img src="'+c+'" width="100%" height="100%" /></a>':'<a href="'+a.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",d.parentNode.insertBefore(e,d),d.style.display="none",b.error(d)},createPlugin:function(a,b,c,d,e,f){c=a.htmlMediaElement;var g,h=1,i=1,j="me_"+a.method+"_"+mejs.meIndex++,k=new mejs.PluginMediaElement(j,a.method,a.url),l=document.createElement("div");for(k.tagName=c.tagName,g=0;g<c.attributes.length;g++){var m=c.attributes[g];1==m.specified&&k.setAttribute(m.name,m.value)}for(g=c.parentNode;null!==g&&"body"!=g.tagName.toLowerCase();){if("p"==g.parentNode.tagName.toLowerCase()){g.parentNode.parentNode.insertBefore(g,g.parentNode);break}g=g.parentNode}switch(a.isVideo?(h=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:null!==c.getAttribute("width")?c.getAttribute("width"):b.defaultVideoWidth,i=b.pluginHeight>0?b.pluginHeight:b.videoHeight>0?b.videoHeight:null!==c.getAttribute("height")?c.getAttribute("height"):b.defaultVideoHeight,h=mejs.Utility.encodeUrl(h),i=mejs.Utility.encodeUrl(i)):b.enablePluginDebug&&(h=320,i=240),k.success=b.success,mejs.MediaPluginBridge.registerPluginElement(j,k,c),l.className="me-plugin",l.id=j+"_container",a.isVideo?c.parentNode.insertBefore(l,c):document.body.insertBefore(l,document.body.childNodes[0]),d=["id="+j,"isvideo="+(a.isVideo?"true":"false"),"autoplay="+(d?"true":"false"),"preload="+e,"width="+h,"startvolume="+b.startVolume,"timerrate="+b.timerRate,"flashstreamer="+b.flashStreamer,"height="+i,"pseudostreamstart="+b.pseudoStreamingStartQueryParam],null!==a.url&&("flash"==a.method?d.push("file="+mejs.Utility.encodeUrl(a.url)):d.push("file="+a.url)),b.enablePluginDebug&&d.push("debug=true"),b.enablePluginSmoothing&&d.push("smoothing=true"),b.enablePseudoStreaming&&d.push("pseudostreaming=true"),f&&d.push("controls=true"),b.pluginVars&&(d=d.concat(b.pluginVars)),a.method){case"silverlight":l.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+j+'" name="'+j+'" width="'+h+'" height="'+i+'" class="mejs-shim"><param name="initParams" value="'+d.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+b.pluginPath+b.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(a=document.createElement("div"),l.appendChild(a),a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+j+'" width="'+h+'" height="'+i+'" class="mejs-shim"><param name="movie" value="'+b.pluginPath+b.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+d.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):l.innerHTML='<embed id="'+j+'" name="'+j+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+b.pluginPath+b.flashName+'" flashvars="'+d.join("&")+'" width="'+h+'" height="'+i+'" class="mejs-shim"></embed>';break;case"youtube":b=a.url.substr(a.url.lastIndexOf("=")+1),youtubeSettings={container:l,containerId:l.id,pluginMediaElement:k,pluginId:j,videoId:b,height:i,width:h},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":k.vimeoid=a.url.substr(a.url.lastIndexOf("index.html")+1),l.innerHTML='<iframe src="http://player.vimeo.com/video/'+k.vimeoid+'?portrait=0&byline=0&title=0" width="'+h+'" height="'+i+'" frameborder="0" class="mejs-shim"></iframe>'}return c.style.display="none",c.removeAttribute("autoplay"),k},updateNative:function(a,b){var c,d=a.htmlMediaElement;for(c in mejs.HtmlMediaElement)d[c]=mejs.HtmlMediaElement[c];return b.success(d,d),d}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="http://www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(a){this.isLoaded?this.createIframe(a):(this.loadIframeApi(),this.iframeQueue.push(a))},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c,mejs.MediaPluginBridge.initPlugin(a.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(c,b,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,c,b)}}})},createEvent:function(a,b,c){if(c={type:c,target:b},a&&a.getDuration){b.currentTime=c.currentTime=a.getCurrentTime(),b.duration=c.duration=a.getDuration(),c.paused=b.paused,c.ended=b.ended,c.muted=a.isMuted(),c.volume=a.getVolume()/100,c.bytesTotal=a.getVideoBytesTotal(),c.bufferedBytes=a.getVideoBytesLoaded();var d=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1}}b.dispatchEvent(c.type,c)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=!0;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var b,c="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(b=document.createElement("div"),a.container.appendChild(b),b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'" class="mejs-shim"><param name="movie" value="'+c+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+c+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=document.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c,mejs.MediaPluginBridge.initPlugin(a),c.cueVideoById(b.videoId),a=b.containerId+"_callback",window[a]=function(a){mejs.YouTubeApi.handleStateChange(a,c,d)},c.addEventListener("onStateChange",a),setInterval(function(){mejs.YouTubeApi.createEvent(c,d,"timeupdate")},250)},handleStateChange:function(a,b,c){switch(a){case-1:c.paused=!0,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"loadedmetadata");break;case 0:c.paused=!1,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"ended");break;case 1:c.paused=!1,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"play"),mejs.YouTubeApi.createEvent(b,c,"playing");break;case 2:c.paused=!0,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,c,"progress")}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(a,b){var c={locale:{language:"",strings:{}},methods:{}};c.locale.getLanguage=function(){return c.locale.language||navigator.language},"undefined"!=typeof mejsL10n&&(c.locale.language=mejsL10n.language),c.locale.INIT_LANGUAGE=c.locale.getLanguage(),c.methods.checkPlain=function(a){var b,c,d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};a=String(a);for(b in d)d.hasOwnProperty(b)&&(c=RegExp(b,"g"),a=a.replace(c,d[b]));return a},c.methods.formatString=function(a,b){for(var d in b){switch(d.charAt(0)){case"@":b[d]=c.methods.checkPlain(b[d]);break;case"!":break;default:b[d]='<em class="placeholder">'+c.methods.checkPlain(b[d])+"</em>"}a=a.replace(d,b[d])}return a},c.methods.t=function(a,b,d){return c.locale.strings&&c.locale.strings[d.context]&&c.locale.strings[d.context][a]&&(a=c.locale.strings[d.context][a]),b&&(a=c.methods.formatString(a,b)),a},c.t=function(a,b,d){if("string"==typeof a&&a.length>0){var e=c.locale.getLanguage();return d=d||{context:e},c.methods.t(a,b,d)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},b.i18n=c}(document,mejs),function(a){"undefined"!=typeof mejsL10n&&(a[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(a){a.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schließen"}}(mejs.i18n.locale.strings),function(a){a.zh={Fullscreen:"全螢幕","Go Fullscreen":"全屏模式","Turn off Fullscreen":"退出全屏模式",Close:"關閉"}}(mejs.i18n.locale.strings),/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(a){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return.05*a.duration},defaultSeekForwardInterval:function(a){return.05*a.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?b.play():b.pause()}},{keys:[38],action:function(a,b){b.setVolume(Math.min(b.volume+.1,1))}},{keys:[40],action:function(a,b){b.setVolume(Math.max(b.volume-.1,0))}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a){"undefined"!=typeof a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(b,c){return this instanceof mejs.MediaElementPlayer?(this.$media=this.$node=a(b),this.node=this.media=this.$media[0],"undefined"!=typeof this.node.player?this.node.player:(this.node.player=this,"undefined"==typeof c&&(c=this.$node.data("mejsoptions")),this.options=a.extend({},mejs.MepDefaults,c),this.id="mep_"+mejs.mepIndex++,mejs.players[this.id]=this,this.init(),this)):new mejs.MediaElementPlayer(b,c)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var b=this,c=mejs.MediaFeatures,d=a.extend(!0,{},b.options,{success:function(a,c){b.meReady(a,c)},error:function(a){b.handleError(a)}}),e=b.media.tagName.toLowerCase();b.isDynamic="audio"!==e&&"video"!==e,b.isVideo=b.isDynamic?b.options.isVideo:"audio"!==e&&b.options.isVideo,c.isiPad&&b.options.iPadUseNativeControls||c.isiPhone&&b.options.iPhoneUseNativeControls?(b.$media.attr("controls","controls"),c.isiPad&&null!==b.media.getAttribute("autoplay")&&(b.media.load(),b.media.play())):c.isAndroid&&b.options.AndroidUseNativeControls||(b.$media.removeAttr("controls"),b.container=a('<div id="'+b.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(b.$media[0].className).insertBefore(b.$media),b.container.addClass((c.isAndroid?"mejs-android ":"")+(c.isiOS?"mejs-ios ":"")+(c.isiPad?"mejs-ipad ":"")+(c.isiPhone?"mejs-iphone ":"")+(b.isVideo?"mejs-video ":"mejs-audio ")),c.isiOS?(c=b.$media.clone(),b.container.find(".mejs-mediaelement").append(c),b.$media.remove(),b.$node=b.$media=c,b.node=b.media=c[0]):b.container.find(".mejs-mediaelement").append(b.$media),b.controls=b.container.find(".mejs-controls"),b.layers=b.container.find(".mejs-layers"),c=b.isVideo?"video":"audio",e=c.substring(0,1).toUpperCase()+c.substring(1),b.width=b.options[c+"Width"]>0||b.options[c+"Width"].toString().indexOf("%")>-1?b.options[c+"Width"]:""!==b.media.style.width&&null!==b.media.style.width?b.media.style.width:null!==b.media.getAttribute("width")?b.$media.attr("width"):b.options["default"+e+"Width"],b.height=b.options[c+"Height"]>0||b.options[c+"Height"].toString().indexOf("%")>-1?b.options[c+"Height"]:""!==b.media.style.height&&null!==b.media.style.height?b.media.style.height:null!==b.$media[0].getAttribute("height")?b.$media.attr("height"):b.options["default"+e+"Height"],b.setPlayerSize(b.width,b.height),d.pluginWidth=b.width,d.pluginHeight=b.height),mejs.MediaElement(b.$media[0],d),"undefined"!=typeof b.container&&b.controlsAreVisible&&b.container.trigger("controlsshown")},showControls:function(a){var b=this;a="undefined"==typeof a||a,b.controlsAreVisible||(a?(b.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0,b.container.trigger("controlsshown")}),b.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0})):(b.controls.css("visibility","visible").css("display","block"),b.container.find(".mejs-control").css("visibility","visible").css("display","block"),b.controlsAreVisible=!0,b.container.trigger("controlsshown")),b.setControlsSize())},hideControls:function(b){var c=this;b="undefined"==typeof b||b,c.controlsAreVisible&&!c.options.alwaysShowControls&&(b?(c.controls.stop(!0,!0).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")}),c.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})):(c.controls.css("visibility","hidden").css("display","block"),c.container.find(".mejs-control").css("visibility","hidden").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(a){var b=this;a="undefined"!=typeof a?a:1500,b.killControlsTimer("start"),b.controlsTimer=setTimeout(function(){b.hideControls(),b.killControlsTimer("hide")},a)},killControlsTimer:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){this.killControlsTimer(),this.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){this.showControls(!1),this.controlsEnabled=!0},meReady:function(a,b){var c=this,d=mejs.MediaFeatures,e=b.getAttribute("autoplay");e=!("undefined"==typeof e||null===e||"false"===e);var f;if(!c.created){if(c.created=!0,c.media=a,c.domNode=b,!(d.isAndroid&&c.options.AndroidUseNativeControls||d.isiPad&&c.options.iPadUseNativeControls||d.isiPhone&&c.options.iPhoneUseNativeControls)){c.buildposter(c,c.controls,c.layers,c.media),c.buildkeyboard(c,c.controls,c.layers,c.media),c.buildoverlays(c,c.controls,c.layers,c.media),c.findTracks();for(f in c.options.features)if(d=c.options.features[f],c["build"+d])try{c["build"+d](c,c.controls,c.layers,c.media)}catch(g){}c.container.trigger("controlsready"),c.setPlayerSize(c.width,c.height),c.setControlsSize(),c.isVideo&&(mejs.MediaFeatures.hasTouch?c.$media.bind("touchstart",function(){c.controlsAreVisible?c.hideControls(!1):c.controlsEnabled&&c.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){c.options.clickToPlayPause&&(c.media.paused?c.media.play():c.media.pause())},c.media.addEventListener("click",c.clickToPlayPauseCallback,!1),c.container.bind("mouseenter mouseover",function(){c.controlsEnabled&&(c.options.alwaysShowControls||(c.killControlsTimer("enter"),c.showControls(),c.startControlsTimer(2500)))}).bind("mousemove",function(){c.controlsEnabled&&(c.controlsAreVisible||c.showControls(),c.options.alwaysShowControls||c.startControlsTimer(2500))}).bind("mouseleave",function(){c.controlsEnabled&&!c.media.paused&&!c.options.alwaysShowControls&&c.startControlsTimer(1e3)})),c.options.hideVideoControlsOnLoad&&c.hideControls(!1),e&&!c.options.alwaysShowControls&&c.hideControls(),c.options.enableAutosize&&c.media.addEventListener("loadedmetadata",function(a){c.options.videoHeight<=0&&null===c.domNode.getAttribute("height")&&!isNaN(a.target.videoHeight)&&(c.setPlayerSize(a.target.videoWidth,a.target.videoHeight),c.setControlsSize(),c.media.setVideoSize(a.target.videoWidth,a.target.videoHeight))},!1)),a.addEventListener("play",function(){for(var a in mejs.players){var b=mejs.players[a];b.id!=c.id&&c.options.pauseOtherPlayers&&!b.paused&&!b.ended&&b.pause(),b.hasFocus=!1}c.hasFocus=!0},!1),c.media.addEventListener("ended",function(){if(c.options.autoRewind)try{c.media.setCurrentTime(0)}catch(a){}c.media.pause(),c.setProgressRail&&c.setProgressRail(),c.setCurrentRail&&c.setCurrentRail(),c.options.loop?c.media.play():!c.options.alwaysShowControls&&c.controlsEnabled&&c.showControls()},!1),c.media.addEventListener("loadedmetadata",function(){c.updateDuration&&c.updateDuration(),c.updateCurrent&&c.updateCurrent(),c.isFullScreen||(c.setPlayerSize(c.width,c.height),c.setControlsSize())},!1),setTimeout(function(){c.setPlayerSize(c.width,c.height),c.setControlsSize()},50),c.globalBind("resize",function(){c.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||c.setPlayerSize(c.width,c.height),c.setControlsSize()}),"youtube"==c.media.pluginType&&c.container.find(".mejs-overlay-play").hide()}e&&"native"==a.pluginType&&(a.load(),a.play()),c.options.success&&("string"==typeof c.options.success?window[c.options.success](c.media,c.domNode,c):c.options.success(c.media,c.domNode,c))}},handleError:function(a){this.controls.hide(),this.options.error&&this.options.error(a)},setPlayerSize:function(b,c){if("undefined"!=typeof b&&(this.width=b),"undefined"!=typeof c&&(this.height=c),this.height.toString().indexOf("%")>0||"100%"===this.$node.css("max-width")||1===parseInt(this.$node.css("max-width").replace(/px/,""),10)/this.$node.offsetParent().width()||this.$node[0].currentStyle&&"100%"===this.$node[0].currentStyle.maxWidth){var d=this.isVideo?this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth:this.options.defaultAudioWidth,e=this.isVideo?this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight:this.options.defaultAudioHeight,f=this.container.parent().closest(":visible").width();d=this.isVideo||!this.options.autosizeProgress?parseInt(f*e/d,10):e,"body"===this.container.parent()[0].tagName.toLowerCase()&&(f=a(window).width(),d=a(window).height()),0!=d&&0!=f&&(this.container.width(f).height(d),this.$media.add(this.container.find(".mejs-shim")).width("100%").height("100%"),this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(f,d),this.layers.children(".mejs-layer").width("100%").height("100%"))}else this.container.width(this.width).height(this.height),this.layers.children(".mejs-layer").width(this.width).height(this.height);f=this.layers.find(".mejs-overlay-play"),d=f.find(".mejs-overlay-button"),f.height(this.container.height()-this.controls.height()),d.css("margin-top","-"+(d.height()/2-this.controls.height()/2).toString()+"px")},setControlsSize:function(){var b=0,c=0,d=this.controls.find(".mejs-time-rail"),e=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current"),this.controls.find(".mejs-time-loaded");var f=d.siblings();this.options&&!this.options.autosizeProgress&&(c=parseInt(d.css("width"))),0!==c&&c||(f.each(function(){var c=a(this);"absolute"!=c.css("position")&&c.is(":visible")&&(b+=a(this).outerWidth(!0))}),c=this.controls.width()-b-(d.outerWidth(!0)-d.width())),d.width(c),e.width(c-(e.outerWidth(!0)-e.width())),this.setProgressRail&&this.setProgressRail(),this.setCurrentRail&&this.setCurrentRail()},buildposter:function(b,c,d,e){var f=a('<div class="mejs-poster mejs-layer"></div>').appendTo(d);c=b.$media.attr("poster"),""!==b.options.poster&&(c=b.options.poster),""!==c&&null!=c?this.setPoster(c):f.hide(),e.addEventListener("play",function(){f.hide()},!1),b.options.showPosterWhenEnded&&b.options.autoRewind&&e.addEventListener("ended",function(){f.show()},!1)},setPoster:function(b){var c=this.container.find(".mejs-poster"),d=c.find("img");0==d.length&&(d=a('<img width="100%" height="100%" />').appendTo(c)),d.attr("src",b),c.css({"background-image":"url("+b+")"})},buildoverlays:function(b,c,d,e){var f=this;if(b.isVideo){var g=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(d),h=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(d),i=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(d).click(function(){f.options.clickToPlayPause&&(e.paused?e.play():e.pause())});e.addEventListener("play",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("playing",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("seeking",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("seeked",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||i.show()},!1),e.addEventListener("waiting",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("loadeddata",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("canplay",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("error",function(){g.hide(),c.find(".mejs-time-buffering").hide(),h.show(),h.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(b,c,d,e){this.globalBind("keydown",function(a){if(b.hasFocus&&b.options.enableKeyboard)for(var c=0,d=b.options.keyActions.length;d>c;c++)for(var f=b.options.keyActions[c],g=0,h=f.keys.length;h>g;g++)if(a.keyCode==f.keys[g])return a.preventDefault(),f.action(b,e,a.keyCode),!1;return!0}),this.globalBind("click",function(c){0==a(c.target).closest(".mejs-container").length&&(b.hasFocus=!1)})},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[],c.each(function(c,d){d=a(d),b.tracks.push({srclang:d.attr("srclang")?d.attr("srclang").toLowerCase():"",src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(a){this.container[0].className="mejs-container "+a,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){this.media.load()},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a,b;for(a in this.options.features)if(b=this.options.features[a],this["clean"+b])try{this["clean"+b](this)}catch(c){}this.isDynamic?this.$node.insertBefore(this.container):(this.$media.prop("controls",!0),this.$node.clone().show().insertBefore(this.container),this.$node.remove()),"native"!==this.media.pluginType&&this.media.remove(),delete mejs.players[this.id],this.container.remove(),this.globalUnbind(),delete this.node.player}},function(){function b(b,d){var e={d:[],w:[]};return a.each((b||"").split(" "),function(a,b){var f=b+"."+d;0===f.indexOf(".")?(e.d.push(f),e.w.push(f)):e[c.test(b)?"w":"d"].push(f)}),e.d=e.d.join(" "),e.w=e.w.join(" "),e}var c=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,d,e){c=b(c,this.id),c.d&&a(document).bind(c.d,d,e),c.w&&a(window).bind(c.w,d,e)},mejs.MediaElementPlayer.prototype.globalUnbind=function(c,d){c=b(c,this.id),c.d&&a(document).unbind(c.d,d),c.w&&a(window).unbind(c.w,d)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(a){return a===!1?this.each(function(){var a=jQuery(this).data("mediaelementplayer");a&&a.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,a))}),this}),a(document).ready(function(){a(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(a){a.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),a.extend(MediaElementPlayer.prototype,{buildplaypause:function(b,c,d,e){var f=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'" aria-label="'+this.options.playpauseText+'"></button></div>').appendTo(c).click(function(a){return a.preventDefault(),e.paused?e.play():e.pause(),!1});e.addEventListener("play",function(){f.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("playing",function(){f.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("pause",function(){f.removeClass("mejs-pause").addClass("mejs-play")},!1),e.addEventListener("paused",function(){f.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"}),a.extend(MediaElementPlayer.prototype,{buildstop:function(b,c,d,e){a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'" aria-label="'+this.options.stopText+'"></button></div>').appendTo(c).click(function(){e.paused||e.pause(),e.currentTime>0&&(e.setCurrentTime(0),e.pause(),c.find(".mejs-time-current").width("0px"),c.find(".mejs-time-handle").css("left","0px"),c.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),c.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),d.find(".mejs-poster").show())})}})}(mejs.$),function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(b,c,d,e){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(c),c.find(".mejs-time-buffering").hide();var f=this,g=c.find(".mejs-time-total");d=c.find(".mejs-time-loaded");var h=c.find(".mejs-time-current"),i=c.find(".mejs-time-handle"),j=c.find(".mejs-time-float"),k=c.find(".mejs-time-float-current"),l=function(a){a=a.pageX;var b=g.offset(),c=g.outerWidth(!0),d=0,f=d=0;e.duration&&(a<b.left?a=b.left:a>c+b.left&&(a=c+b.left),f=a-b.left,d=f/c,d=.02>=d?0:d*e.duration,m&&d!==e.currentTime&&e.setCurrentTime(d),mejs.MediaFeatures.hasTouch||(j.css("left",f),k.html(mejs.Utility.secondsToTimeCode(d)),j.show()))},m=!1;g.bind("mousedown",function(a){return 1===a.which?(m=!0,l(a),f.globalBind("mousemove.dur",function(a){l(a)}),f.globalBind("mouseup.dur",function(){m=!1,j.hide(),f.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f.globalBind("mousemove.dur",function(a){l(a)}),mejs.MediaFeatures.hasTouch||j.show()}).bind("mouseleave",function(){m||(f.globalUnbind(".dur"),j.hide())}),e.addEventListener("progress",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),e.addEventListener("timeupdate",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),f.loaded=d,f.total=g,f.current=h,f.handle=i},setProgressRail:function(a){var b=void 0!=a?a.target:this.media,c=null;b&&b.buffered&&b.buffered.length>0&&b.buffered.end&&b.duration?c=b.buffered.end(0)/b.duration:b&&void 0!=b.bytesTotal&&b.bytesTotal>0&&void 0!=b.bufferedBytes?c=b.bufferedBytes/b.bytesTotal:a&&a.lengthComputable&&0!=a.total&&(c=a.loaded/a.total),null!==c&&(c=Math.min(1,Math.max(0,c)),this.loaded&&this.total&&this.loaded.width(this.total.width()*c))},setCurrentRail:function(){if(void 0!=this.media.currentTime&&this.media.duration&&this.total&&this.handle){var a=Math.round(this.total.width()*this.media.currentTime/this.media.duration),b=a-Math.round(this.handle.outerWidth(!0)/2);this.current.width(a),this.handle.css("left",b)}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),a.extend(MediaElementPlayer.prototype,{buildcurrent:function(b,c,d,e){a('<div class="mejs-time"><span class="mejs-currenttime">'+(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(c),this.currenttime=this.controls.find(".mejs-currenttime"),e.addEventListener("timeupdate",function(){b.updateCurrent()},!1)},buildduration:function(b,c,d,e){c.children().last().find(".mejs-currenttime").length>0?a(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(c.find(".mejs-time")):(c.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(c)),this.durationD=this.controls.find(".mejs-duration"),e.addEventListener("timeupdate",function(){b.updateDuration()},!1)},updateCurrent:function(){this.currenttime&&this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){this.container.toggleClass("mejs-long-video",this.media.duration>3600),this.durationD&&(this.options.duration>0||this.media.duration)&&this.durationD.html(mejs.Utility.secondsToTimeCode(this.options.duration>0?this.options.duration:this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),a.extend(MediaElementPlayer.prototype,{buildvolume:function(b,c,d,e){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var f=this,g=f.isVideo?f.options.videoVolume:f.options.audioVolume,h="horizontal"==g?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(c):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(c),i=f.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),j=f.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),k=f.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),l=f.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(a,b){if(i.is(":visible")||"undefined"!=typeof b)if(a=Math.max(0,a),a=Math.min(a,1),0==a?h.removeClass("mejs-mute").addClass("mejs-unmute"):h.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==g){var c=j.height(),d=j.position(),e=c-c*a;l.css("top",Math.round(d.top+e-l.height()/2)),k.height(c-e),k.css("top",d.top+e)}else c=j.width(),d=j.position(),c*=a,l.css("left",Math.round(d.left+c-l.width()/2)),k.width(Math.round(c));else i.show(),m(a,!0),i.hide()},n=function(a){var b=null,c=j.offset();if("vertical"==g){if(b=j.height(),parseInt(j.css("top").replace(/px/,""),10),b=(b-(a.pageY-c.top))/b,0==c.top||0==c.left)return}else b=j.width(),b=(a.pageX-c.left)/b;b=Math.max(0,b),b=Math.min(b,1),m(b),0==b?e.setMuted(!0):e.setMuted(!1),e.setVolume(b)},o=!1,p=!1;h.hover(function(){i.show(),p=!0},function(){p=!1,!o&&"vertical"==g&&i.hide()}),i.bind("mouseover",function(){p=!0}).bind("mousedown",function(a){return n(a),f.globalBind("mousemove.vol",function(a){n(a)}),f.globalBind("mouseup.vol",function(){o=!1,f.globalUnbind(".vol"),!p&&"vertical"==g&&i.hide()}),o=!0,!1}),h.find("button").click(function(){e.setMuted(!e.muted)}),e.addEventListener("volumechange",function(){o||(e.muted?(m(0),h.removeClass("mejs-mute").addClass("mejs-unmute")):(m(e.volume),h.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),f.container.is(":visible")&&(m(b.options.startVolume),0===b.options.startVolume&&e.setMuted(!0),"native"===e.pluginType&&e.setVolume(b.options.startVolume))}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),a.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(b,c,d,e){if(b.isVideo){b.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen&&(d=function(){b.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(b.isNativeFullScreen=!0,b.setControlsSize()):(b.isNativeFullScreen=!1,b.exitFullScreen()))},mejs.MediaFeatures.hasMozNativeFullScreen?b.globalBind(mejs.MediaFeatures.fullScreenEventName,d):b.container.bind(mejs.MediaFeatures.fullScreenEventName,d));var f=this,g=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+f.id+'" title="'+f.options.fullscreenText+'" aria-label="'+f.options.fullscreenText+'"></button></div>').appendTo(c);if("native"===f.media.pluginType||!f.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)g.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||b.isFullScreen?b.exitFullScreen():b.enterFullScreen()});else{var h=null;if(function(){var a=document.createElement("x"),b=document.documentElement,c=window.getComputedStyle;return"pointerEvents"in a.style?(a.style.pointerEvents="auto",a.style.pointerEvents="x",b.appendChild(a),c=c&&"auto"===c(a,"").pointerEvents,b.removeChild(a),!!c):!1}()&&!mejs.MediaFeatures.isOpera){var i=!1,j=function(){if(i){for(var a in k)k[a].hide();g.css("pointer-events",""),f.controls.css("pointer-events",""),f.media.removeEventListener("click",f.clickToPlayPauseCallback),i=!1}},k={};c=["top","left","right","bottom"];var l,m=function(){var a=g.offset().left-f.container.offset().left,b=g.offset().top-f.container.offset().top,c=g.outerWidth(!0),d=g.outerHeight(!0),e=f.container.width(),h=f.container.height();for(l in k)k[l].css({position:"absolute",top:0,left:0});k.top.width(e).height(b),k.left.width(a).height(d).css({top:b}),k.right.width(e-a-c).height(d).css({top:b,left:a+c}),k.bottom.width(e).height(h-d-b).css({top:b+d})};for(f.globalBind("resize",function(){m()}),l=0,d=c.length;d>l;l++)k[c[l]]=a('<div class="mejs-fullscreen-hover" />').appendTo(f.container).mouseover(j).hide();g.on("mouseover",function(){if(!f.isFullScreen){var a=g.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!1),g.css("pointer-events","none"),f.controls.css("pointer-events","none"),f.media.addEventListener("click",f.clickToPlayPauseCallback);for(l in k)k[l].show();m(),i=!0}}),e.addEventListener("fullscreenchange",function(){f.isFullScreen=!f.isFullScreen,f.isFullScreen?f.media.removeEventListener("click",f.clickToPlayPauseCallback):f.media.addEventListener("click",f.clickToPlayPauseCallback),j()}),f.globalBind("mousemove",function(a){if(i){var b=g.offset();(a.pageY<b.top||a.pageY>b.top+g.outerHeight(!0)||a.pageX<b.left||a.pageX>b.left+g.outerWidth(!0))&&(g.css("pointer-events",""),f.controls.css("pointer-events",""),i=!1)}})}else g.on("mouseover",function(){null!==h&&(clearTimeout(h),delete h);var a=g.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!0)}).on("mouseout",function(){null!==h&&(clearTimeout(h),delete h),h=setTimeout(function(){e.hideFullscreenButton()},1500)})}b.fullscreenBtn=g,f.globalBind("keydown",function(a){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||f.isFullScreen)&&27==a.keyCode&&b.exitFullScreen()})}},cleanfullscreen:function(a){a.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var b=this;if("native"===b.media.pluginType||!mejs.MediaFeatures.isFirefox&&!b.options.usePluginFullScreen){if(a(document.documentElement).addClass("mejs-fullscreen"),normalHeight=b.container.height(),normalWidth=b.container.width(),"native"===b.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(b.container[0]),b.isInIframe&&setTimeout(function d(){b.isNativeFullScreen&&(a(window).width()!==screen.width?b.exitFullScreen():setTimeout(d,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return b.media.webkitEnterFullscreen(),void 0;if(b.isInIframe){var c=b.options.newWindowCallback(this);if(""!==c){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return b.pause(),window.open(c,b.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"),void 0;setTimeout(function(){b.isNativeFullScreen||(b.pause(),window.open(c,b.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}b.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),b.containerSizeTimeout=setTimeout(function(){b.container.css({width:"100%",height:"100%"}),b.setControlsSize()},500),"native"===b.media.pluginType?b.$media.width("100%").height("100%"):(b.container.find(".mejs-shim").width("100%").height("100%"),b.media.setVideoSize(a(window).width(),a(window).height())),b.layers.children("div").width("100%").height("100%"),b.fullscreenBtn&&b.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),b.setControlsSize(),b.isFullScreen=!0}},exitFullScreen:function(){clearTimeout(this.containerSizeTimeout),"native"!==this.media.pluginType&&mejs.MediaFeatures.isFirefox?this.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),a(document.documentElement).removeClass("mejs-fullscreen"),this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===this.media.pluginType?this.$media.width(normalWidth).height(normalHeight):(this.container.find(".mejs-shim").width(normalWidth).height(normalHeight),this.media.setVideoSize(normalWidth,normalHeight)),this.layers.children("div").width(normalWidth).height(normalHeight),this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),this.setControlsSize(),this.isFullScreen=!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),a.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(b,c,d,e){if(0!=b.tracks.length){var f;if(this.domNode.textTracks)for(f=this.domNode.textTracks.length-1;f>=0;f--)this.domNode.textTracks[f].mode="hidden";for(b.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(d).hide(),b.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(d).hide(),b.captionsText=b.captions.find(".mejs-captions-text"),b.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'" aria-label="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+b.id+'_captions" id="'+b.id+'_captions_none" value="none" checked="checked" /><label for="'+b.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(c),f=c=0;f<b.tracks.length;f++)"subtitles"==b.tracks[f].kind&&c++;
for(this.options.toggleCaptionsButtonWhenOnlyOne&&1==c?b.captionsButton.on("click",function(){b.setTrack(null==b.selectedTrack?b.tracks[0].srclang:"none")}):b.captionsButton.hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,b.setTrack(lang)}),b.options.alwaysShowControls?b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):b.container.bind("controlsshown",function(){b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){e.paused||b.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),b.trackToLoad=-1,b.selectedTrack=null,b.isLoadingTrack=!1,f=0;f<b.tracks.length;f++)"subtitles"==b.tracks[f].kind&&b.addTrackButton(b.tracks[f].srclang,b.tracks[f].label);b.loadNextTrack(),e.addEventListener("timeupdate",function(){b.displayCaptions()},!1),""!=b.options.slidesSelector&&(b.slidesContainer=a(b.options.slidesSelector),e.addEventListener("timeupdate",function(){b.displaySlides()},!1)),e.addEventListener("loadedmetadata",function(){b.displayChapters()},!1),b.container.hover(function(){b.hasChapters&&(b.chapters.css("visibility","visible"),b.chapters.fadeIn(200).height(b.chapters.find(".mejs-chapter").outerHeight()))},function(){b.hasChapters&&!e.paused&&b.chapters.fadeOut(200,function(){a(this).css("visibility","hidden"),a(this).css("display","block")})}),null!==b.node.getAttribute("autoplay")&&b.chapters.css("visibility","hidden")}},setTrack:function(a){var b;if("none"==a)this.selectedTrack=null,this.captionsButton.removeClass("mejs-captions-enabled");else for(b=0;b<this.tracks.length;b++)if(this.tracks[b].srclang==a){null==this.selectedTrack&&this.captionsButton.addClass("mejs-captions-enabled"),this.selectedTrack=this.tracks[b],this.captions.attr("lang",this.selectedTrack.srclang),this.displayCaptions();break}},loadNextTrack:function(){this.trackToLoad++,this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):(this.isLoadingTrack=!1,this.checkForTracks())},loadTrack:function(b){var c=this,d=c.tracks[b];a.ajax({url:d.src,dataType:"text",success:function(a){d.entries="string"==typeof a&&/<tt\s+xml/gi.exec(a)?mejs.TrackFormatParser.dfxp.parse(a):mejs.TrackFormatParser.webvvt.parse(a),d.isLoaded=!0,c.enableTrackButton(d.srclang,d.label),c.loadNextTrack(),"chapters"==d.kind&&c.media.addEventListener("play",function(){c.media.duration>0&&c.displayChapters(d)},!1),"slides"==d.kind&&c.setupSlides(d)},error:function(){c.loadNextTrack()}})},enableTrackButton:function(b,c){""===c&&(c=mejs.language.codes[b]||b),this.captionsButton.find("input[value="+b+"]").prop("disabled",!1).siblings("label").html(c),this.options.startLanguage==b&&a("#"+this.id+"_captions_"+b).click(),this.adjustLanguageBox()},addTrackButton:function(b,c){""===c&&(c=mejs.language.codes[b]||b),this.captionsButton.find("ul").append(a('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+b+'" value="'+b+'" disabled="disabled" /><label for="'+this.id+"_captions_"+b+'">'+c+" (loading)</label></li>")),this.adjustLanguageBox(),this.container.find(".mejs-captions-translations option[value="+b+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+this.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var a=!1;if(this.options.hideCaptionsButtonWhenEmpty){for(i=0;i<this.tracks.length;i++)if("subtitles"==this.tracks[i].kind){a=!0;break}a||(this.captionsButton.hide(),this.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var a,b=this.selectedTrack;if(null!=b&&b.isLoaded)for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop)return this.captionsText.html(b.entries.text[a]),this.captions.show().height(0),void 0;this.captions.hide()}},setupSlides:function(a){this.slides=a,this.slides.entries.imgs=[this.slides.entries.text.length],this.showSlide(0)},showSlide:function(b){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var c=this,d=c.slides.entries.text[b],e=c.slides.entries.imgs[b];"undefined"==typeof e||"undefined"==typeof e.fadeIn?c.slides.entries.imgs[b]=e=a('<img src="'+d+'">').on("load",function(){e.appendTo(c.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):!e.is(":visible")&&!e.is(":animated")&&e.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var a,b=this.slides;for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop){this.showSlide(a);break}}},displayChapters:function(){var a;for(a=0;a<this.tracks.length;a++)if("chapters"==this.tracks[a].kind&&this.tracks[a].isLoaded){this.drawChapters(this.tracks[a]),this.hasChapters=!0;break}},drawChapters:function(b){var c,d,e=this,f=d=0;for(e.chapters.empty(),c=0;c<b.entries.times.length;c++)d=b.entries.times[c].stop-b.entries.times[c].start,d=Math.floor(100*(d/e.media.duration)),(d+f>100||c==b.entries.times.length-1&&100>d+f)&&(d=100-f),e.chapters.append(a('<div class="mejs-chapter" rel="'+b.entries.times[c].start+'" style="left: '+f.toString()+"%;width: "+d.toString()+'%;"><div class="mejs-chapter-block'+(c==b.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+b.entries.text[c]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(b.entries.times[c].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(b.entries.times[c].stop)+"</span></div></div>")),f+=d;e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel"))),e.media.paused&&e.media.play()}),e.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(b){var c=0;b=mejs.TrackFormatParser.split2(b,/\r?\n/);for(var d,e,f={text:[],times:[]};c<b.length;c++)if(this.pattern_identifier.exec(b[c])&&(c++,(d=this.pattern_timecode.exec(b[c]))&&c<b.length)){for(c++,e=b[c],c++;""!==b[c]&&c<b.length;)e=e+"\n"+b[c],c++;e=a.trim(e).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),f.text.push(e),f.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(d[1])?.2:mejs.Utility.convertSMPTEtoSeconds(d[1]),stop:mejs.Utility.convertSMPTEtoSeconds(d[3]),settings:d[5]})}return f}},dfxp:{parse:function(b){b=a(b).filter("tt");var c=0;c=b.children("div").eq(0);var d=c.find("p");c=b.find("#"+c.attr("style"));var e,f;if(b={text:[],times:[]},c.length&&(f=c.removeAttr("id").get(0).attributes,f.length))for(e={},c=0;c<f.length;c++)e[f[c].name.split(":")[1]]=f[c].value;for(c=0;c<d.length;c++){var g;if(f={start:null,stop:null,style:null},d.eq(c).attr("begin")&&(f.start=mejs.Utility.convertSMPTEtoSeconds(d.eq(c).attr("begin"))),!f.start&&d.eq(c-1).attr("end")&&(f.start=mejs.Utility.convertSMPTEtoSeconds(d.eq(c-1).attr("end"))),d.eq(c).attr("end")&&(f.stop=mejs.Utility.convertSMPTEtoSeconds(d.eq(c).attr("end"))),!f.stop&&d.eq(c+1).attr("begin")&&(f.stop=mejs.Utility.convertSMPTEtoSeconds(d.eq(c+1).attr("begin"))),e){g="";for(var h in e)g+=h+":"+e[h]+";"}g&&(f.style=g),0==f.start&&(f.start=.2),b.times.push(f),f=a.trim(d.eq(c).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),b.text.push(f),0==b.times.start&&(b.times.start=2)}return b}},split2:function(a,b){return a.split(b)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(a,b){var c,d=[],e="";for(c=0;c<a.length;c++)e+=a.substring(c,c+1),b.test(e)&&(d.push(e.replace(b,"")),e="");return d.push(e),d})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){return"undefined"==typeof a.enterFullScreen?null:a.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(a){a.media.muted?a.setMuted(!1):a.setMuted(!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(a){window.location.href=a.media.currentSrc}}]}),a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(b){b.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide(),b.container.bind("contextmenu",function(a){return b.isContextMenuEnabled?(a.preventDefault(),b.renderContextMenu(a.clientX-1,a.clientY-1),!1):void 0}),b.container.bind("click",function(){b.contextMenu.hide()}),b.contextMenu.bind("mouseleave",function(){b.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer(),a.contextMenuTimer=setTimeout(function(){a.hideContextMenu(),a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;null!=a&&(clearTimeout(a),delete a)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,c){for(var d=this,e="",f=d.options.contextMenuItems,g=0,h=f.length;h>g;g++)if(f[g].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';else{var i=f[g].render(d);null!=i&&(e+='<div class="mejs-contextmenu-item" data-itemindex="'+g+'" id="element-'+1e6*Math.random()+'">'+i+"</div>")}d.contextMenu.empty().append(a(e)).css({top:c,left:b}).show(),d.contextMenu.find(".mejs-contextmenu-item").each(function(){var b=a(this),c=parseInt(b.data("itemindex"),10),e=d.options.contextMenuItems[c];"undefined"!=typeof e.show&&e.show(b,d),b.click(function(){"undefined"!=typeof e.click&&e.click(d),d.contextMenu.hide()})}),setTimeout(function(){d.killControlsTimer("rev3")},100)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),a.extend(MediaElementPlayer.prototype,{buildpostroll:function(b,c,d){var e=this.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof e&&(b.postroll=a('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+this.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(d).hide(),this.media.addEventListener("ended",function(){a.ajax({dataType:"html",url:e,success:function(a){d.find(".mejs-postroll-layer-content").html(a)}}),b.postroll.show()},!1))}})}(mejs.$);var ib=ib||{};ib.isIphone=function(){var a=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i);return a}(),/*! Motio 2.2.1 - 18th Apr 2013 | https://github.com/Darsain/motio */
function(a,b){function c(g,h){function i(a){D.reversed=a,v||(z.isPaused=!1,m("play"),k())}function j(){w=0,t=A?Math.round(s.x)+"px "+Math.round(s.y)+"px":B[E],t!==u&&(g.style.backgroundPosition=u=t),m("frame"),D.finite&&D.to===E&&(z.pause(),"function"===d(D.callback)&&D.callback.call(z))}function k(){D.finite&&D.to===E||(v=D.immediate?0:60<=o.fps?f(k):setTimeout(k,1e3/o.fps),A?(s.x+=o.speedX/o.fps,s.y+=o.speedY/o.fps,o.bgWidth&&Math.abs(s.x)>o.bgWidth&&(s.x%=o.bgWidth),o.bgHeight&&Math.abs(s.y)>o.bgHeight&&(s.y%=o.bgHeight)):(D.finite?E=D.immediate?D.to:E+(E>D.to?-1:1):D.reversed?0>=--E&&(E=B.length-1):++E>=B.length&&(E=0),z.frame=E),w||(w=f(j)))}function l(a,b){for(x=0,y=C[a].length;y>x;x++)if(C[a][x]===b)return x;return-1}function m(a,b){if(C[a])for(x=0,y=C[a].length;y>x;x++)C[a][x].call(z,a,b)}function n(b){return a.getComputedStyle?a.getComputedStyle(g,null)[b]:g.currentStyle[b]}var o,p,q=h,r={},q="object"===d(q)?q:{};for(p in c.defaults)r[p]=(q.hasOwnProperty(p)?q:c.defaults)[p];o=r;var s,t,u,v,w,x,y,z=this,A=!o.frames,B=[],C={},D={},E=0;if(z.element=g,z.width=o.width||g.clientWidth,z.height=o.height||g.clientHeight,z.options=o,z.isPaused=!0,z.pause=function(){return e(v),clearTimeout(v),v=0,z.isPaused||(z.isPaused=!0,m("pause")),z},z.play=function(a){return D.finite=!1,D.callback=b,D.immediate=!1,i(a),z},z.toggle=function(){return z[v?"pause":"play"](),z},z.toStart=function(a,b){return z.to(0,a,b)},z.toEnd=function(a,b){return z.to(B.length-1,a,b)},z.to=function(a,b,c){if(A||isNaN(parseFloat(a))||!isFinite(a)||0>a||a>=B.length)return z;if("function"===d(b)&&(c=b,b=!1),a===E)if(0===a)E=B.length;else{if(a!==B.length-1)return"function"===d(c)&&c.call(z),z.pause(),z;E=-1}return D.finite=!0,D.to=a,D.immediate=!!b,D.callback=c,i(),z},z.set=function(a,b){return o[a]=b,z},z.on=function(a,b){if("object"===d(a))for(var c in a)a.hasOwnProperty(c)&&z.on(c,a[c]);else if("function"===d(b)){c=a.split(" ");for(var e=0,f=c.length;f>e;e++)C[c[e]]=C[c[e]]||[],-1===l(c[e],b)&&C[c[e]].push(b)}else if("array"===d(b))for(c=0,e=b.length;e>c;c++)z.on(a,b[c]);return z},z.off=function(a,b){if(b instanceof Array)for(var c=0,e=b.length;e>c;c++)z.off(a,b[c]);else for(var c=a.split(" "),e=0,f=c.length;f>e;e++)if(C[c[e]]=C[c[e]]||[],"undefined"===d(b))C[c[e]].length=0;else{var g=l(c[e],b);-1!==g&&C[c[e]].splice(g,1)}return z},z.destroy=function(){return z.pause(),g.style.backgroundPosition="",z},q=(n("backgroundPosition")||n("backgroundPositionX")+" "+n("backgroundPositionY")).replace(/left|top/gi,0).split(" "),s={x:0|parseInt(q[0],10),y:0|parseInt(q[1],10)},A)z.pos=s;else{for(q=B.length=0;q<o.frames;q++)o.vertical?s.y=q*-z.height:s.x=q*-z.width,B.push(s.x+"px "+s.y+"px");z.frames=B.length,z.frame=0}}function d(a){return Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase()}for(var e=a.cancelAnimationFrame||a.cancelRequestAnimationFrame,f=a.requestAnimationFrame,g=["moz","webkit","o"],h=0,i=0,j=g.length;j>i&&!e;++i)f=(e=a[g[i]+"CancelAnimationFrame"]||a[g[i]+"CancelRequestAnimationFrame"])&&a[g[i]+"RequestAnimationFrame"];e||(f=function(b){var c=+new Date,d=Math.max(0,16-(c-h));return h=c+d,a.setTimeout(function(){b(c+d)},d)},e=function(a){clearTimeout(a)}),a.Motio=c,c.defaults={fps:15,frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}}(window);var ib=ib||{};ib.sfx=["wd-ctos_all_section-text-highlights-blue-dot-01","wd-ctos_all_section-transition-whoosh-01","wd-ctos_all_text","wd-ctos_all_top-nav-rollover-01","wd-ctos_believe_black-bar-large-text-starts-in","wd-ctos_believe_city-first-move-rotate-down-01","wd-ctos_believe_city-second-move-long-pan-01","wd-ctos_believe_dot-pattern-fades-out-to-city-01","wd-ctos_believe_dot-pattern-slowly-zooms-out-01","wd-ctos_believe_photo-rollover-01","wd-ctos_believe_photo-rotates-in-01","wd-ctos_believe_photo-rotates-out-01","wd-ctos_believe_privacy-safety-healthcare-text-appears-01","wd-ctos_believe_utilities-text-appears-01","wd-ctos_connect_left-text-builds-in-01","wd-ctos_connect_numbers-fly-out-of-map-01","wd-ctos_connect_share-rollover-01","wd-ctos_discover_circle-connecting-lines-draw-in-01","wd-ctos_discover_circle-highlight-dot-appears-01","wd-ctos_discover_city-block-glows-01","wd-ctos_discover_city-long-pan-rotate-01","wd-ctos_discover_city-short-pan-rotate-01","wd-ctos_discover_city-to-dots-transition-01","wd-ctos_discover_environ-text-appears-01","wd-ctos_discover_people-photo-falls-in-01","wd-ctos_discover_people-photo-rollover-01","wd-ctos_discover_security-water-text-rollover-01","wd-ctos_discover_security-water-text-rollovers-appear-01","wd-ctos_discover_the-result-text-in-01","wd-ctos_discover_vast-network-dots-grow-in-01","wd-ctos_discover_you-text-appears-01","wd-ctos_discover_yourfamily-text-appears-01","wd-ctos_imagine_accept-button-click-transition-01","wd-ctos_imagine_accept-button-rollover-01","wd-ctos_imagine_braile-button-rollover-01","wd-ctos_imagine_most-appealing-rollover-01","wd-ctos_intro_ctos-black-bar-slides-down-01","wd-ctos_intro_learn-more-click-fade-out-01","wd-ctos_intro_learn-more-rolloff-01","wd-ctos_intro_learn-more-rollover-01","wd-ctos_intro_loading-animates-to-learn-more-01","wd-ctos_intro_logo-build-in-01","wd-ctos_intro_logo-build-out-01","wd-ctos_intro_sections-text-animates-in-01","wd-ctos_all_music-ambient-loop-01"];var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-1"]=ib.ChapterData["chapter-1"]||{},ib.ChapterData["chapter-1"].getText=function(){return{cctv:[{webm:ib.Config.assetBasePath+"/video/cctv1.webm",mp4:ib.Config.assetBasePath+"/video/cctv1.mp4"},{webm:ib.Config.assetBasePath+"/video/cctv2.webm",mp4:ib.Config.assetBasePath+"/video/cctv2.mp4"},{webm:ib.Config.assetBasePath+"/video/cctv3.webm",mp4:ib.Config.assetBasePath+"/video/cctv3.mp4"},{webm:ib.Config.assetBasePath+"/video/cctv4.webm",mp4:ib.Config.assetBasePath+"/video/cctv4.mp4"}]}};var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-2"]=ib.ChapterData["chapter-2"]||{},ib.ChapterData["chapter-2"].getText=function(){return{chicagoMarkerCCTVs:["businesses","citycenters","streets","parks"],testimonials:[{text:"A few months ago when I felt faint, I simply signed in to <span class='smaller'>ct</span>OS, found the closest doctor and my medical records were all right there."},{textClass:"left-text",text:"I don't have to worry about my mom anymore. When I’m away, I just sign on and make sure she’s ok."},{text:"Thanks to <span class='smaller'>ct</span>OS, my morning commute is a breeze. Instead of spending my whole morning in traffic, I now have time to enjoy a coffee and read the paper."},{text:"When I go for my evening jog, I know I’ll always have a clean and beautiful view of the city. And I always feel safe!"},{text:"<span class='smaller'>ct</span>OS saves the city tax dollars and my property tax is affordable. Chicago is the city I took my first steps in and I know it will be where I take my last."},{extraContainerClass:"large-only",text:"In recent years, my partner and I stopped taking our evening walks due to neighborhood crime. But now there are cameras on every corner, we never have to worry!"},{extraContainerClass:"large-only",text:"When my son swallowed some cleaning detergent, all I had to do was give the hospital his name and they had all his medical records on file when we arrived."},{extraContainerClass:"large-only",text:"It’s like I live in a completely new city. Only in this version of Chicago I never have to worry about traffic, muggers or...anything."}],cityHighlights:[{title:"Power",details:"To guard against power outages, ctOS continuously monitors individual household power usage and is programmed to divert and shut down power in emergency situations.",glowImage:ib.Config.assetBasePath+"/images/chapter-2/power-glow.jpg",image:ib.Config.assetBasePath+"/images/chapter-2/highlight-power.jpg"},{title:"Security",details:"A citywide CCTV network dynamically monitors all activity 24/7, from high-traffic city centers to suburban districts.",glowImage:ib.Config.assetBasePath+"/images/chapter-2/security-glow.jpg",image:ib.Config.assetBasePath+"/images/chapter-2/highlight-security.jpg"},{title:"Transit",details:"A sophisticated algorithm regulates traffic flow in concert with a network of citywide traffic signals and surveillance cameras.",glowImage:ib.Config.assetBasePath+"/images/chapter-2/transit-glow.jpg",image:ib.Config.assetBasePath+"/images/chapter-2/highlight-transit.jpg"},{title:"Water",details:"The city’s water supply is tested continually for neutral ph levels and to detect foreign contamination.",glowImage:ib.Config.assetBasePath+"/images/chapter-2/water-glow.jpg",image:ib.Config.assetBasePath+"/images/chapter-2/highlight-water.jpg"},{title:"Sewage",details:"Each household’s liquid waste is treated upon entry into the system. Sewage is disposed of and clean water is reintroduced all without human involvement.",glowImage:ib.Config.assetBasePath+"/images/chapter-2/sewage-glow.jpg",image:ib.Config.assetBasePath+"/images/chapter-2/highlight-sewage.jpg"}]}};var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-3"]=ib.ChapterData["chapter-3"]||{},ib.ChapterData["chapter-3"].getText=function(){return{questions:[{topic:"Traffic",ask:'without <span class="smaller">CT</span>OS',question:"Traffic congestion hinders businesses and affects your personal life.",answer:{confirm:'with <span class="smaller">CT</span>OS',headline:"195,854 miles of traffic were avoided last year.",body:""},ui:{component:"ib.InfographicQuestion",opts:{next:"next",accept:"agree",classes:"traffic",questionStatistics:[{title:"average commute time",subtitle:"citywide",value:45,suffix:"mins."},{title:"delayed trains",subtitle:"citywide",value:5,suffix:"%"}],answerStatistics:[{title:"average commute time",subtitle:"citywide",value:10,suffix:"mins"},{title:"delayed trains",subtitle:"citywide",value:.5,suffix:"%"}]}}},{topic:"Health",ask:'without <span class="smaller">CT</span>OS',question:"Your community requires more efficient healthcare services.",answer:{confirm:'with <span class="smaller">CT</span>OS',headline:"Waiting time in ER has reduced by <strong>23%</strong> over the past 2 years.",body:""},ui:{component:"ib.InfographicQuestion",opts:{next:"next",accept:"agree",classes:"health",questionStatistics:[{title:"e.r.<br>wait time ",subtitle:"citywide",value:90,suffix:"mins"},{title:"healthcare expenditure",subtitle:"per capita",value:7290,prefix:"$"}],answerStatistics:[{title:"e.r.<br>wait time ",subtitle:"citywide",value:70,suffix:"mins"},{title:"healthcare expenditure",subtitle:"per capita",value:1e3,prefix:"$"}]}}},{topic:"Crime",ask:'without <span class="smaller">CT</span>OS',question:"Violent crime is a serious threat to you and your loved ones.",answer:{confirm:'with <span class="smaller">CT</span>OS',headline:"In the past year, a crime has been prevented every <strong>12.5</strong> minutes",body:""},ui:{component:"ib.InfographicQuestion",opts:{next:"next",accept:"agree",classes:"crime",questionStatistics:[{title:"assault",subtitle:"citywide",value:33,suffix:"%"},{title:"murder",subtitle:"citywide",value:31,suffix:"%"}],answerStatistics:[{title:"assault",subtitle:"citywide",value:5,suffix:"%"},{title:"murder",subtitle:"citywide",value:3,suffix:"%"}]}}},{topic:"Benefits",ask:"&nbsp;",question:'Select the most appealing benefit of <span class="smaller">CT</span>OS',answer:{confirm:"Welcome",headline:"You have been identified as a <strong>potential region advocate</strong>",body:'<span class="smaller">CT</span>OS is here to help'},ui:{component:"ib.MultipleChoiceQuestion",opts:{next:"connect",classes:"benefits",choices:[{title:"Crime Control",iconClass:"crime-control",choice:"crime"},{title:"Traffic Reduction",iconClass:"traffic-reduction",choice:"traffic"},{title:"Health Care",iconClass:"accessible-health-care",choice:"healthcare"}]}}}]}};var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-4"]=ib.ChapterData["chapter-4"]||{},ib.ChapterData["chapter-4"].getText=function(){return{facts:{crime:{headline:"Twelve point five minutes",factNum:25,fact:"A crime is prevented every 12.5 minutes",image:ib.Config.assetBasePath+"/images/share/crime.png"},healthcare:{headline:"THIRTY FIVE HUNDRED",factNum:1,fact:"3500 medical consultations take place online every month",image:ib.Config.assetBasePath+"/images/share/healthcare.png"},traffic:{headline:"THIRTY TWO PERCENT",factNum:13,fact:"Shipping and handling in the harbor is 32% faster",image:ib.Config.assetBasePath+"/images/share/traffic.png"}},shareCopy:["Can’t wait for ctOS to come to my city #Watchdogs #ctOS","With ctOS, I don’t have to worry because my city knows everything about me #ctOS #Watchdogs","I trust ctOS to manage traffic, healthcare and crime throughout my city #ctOS #Watchdogs"],mapData:[{x:.12313937753721245,y:.1335676625659051,count:89},{x:.10825439783491204,y:.17398945518453426,count:69},{x:.12449255751014884,y:.19156414762741653,count:48},{x:.10554803788903924,y:.18629173989455183,count:3},{x:.16238159675236807,y:.26537785588752194,count:48},{x:.07848443843031123,y:.28646748681898065,count:35},{x:.07848443843031123,y:.30755711775043937,count:98},{x:.06765899864682003,y:.3339191564147627,count:87},{x:.06901217861975643,y:.4112478031634446,count:80},{x:.07577807848443843,y:.45518453427065025,count:37},{x:.08795669824086604,y:.47451669595782076,count:40},{x:.09607577807848444,y:.4973637961335677,count:43},{x:.10825439783491204,y:.5149384885764499,count:86},{x:.16779431664411368,y:.5448154657293497,count:67},{x:.10148849797023005,y:.44639718804920914,count:70},{x:.16779431664411368,y:.44112478031634444,count:20},{x:.16644113667117727,y:.46924428822495606,count:97},{x:.2070365358592693,y:.4077328646748682,count:71},{x:.2557510148849797,y:.38137082601054484,count:32},{x:.2598105548037889,y:.36203866432337434,count:67},{x:.29905277401894453,y:.3216168717047452,count:12},{x:.19350473612990526,y:.2548330404217926,count:74},{x:.21380243572395127,y:.29701230228471004,count:24},{x:.2665764546684709,y:.2548330404217926,count:28},{x:.2936400541271989,y:.22319859402460457,count:7},{x:.35047361299052776,y:.23374340949033393,count:60},{x:.36129905277401897,y:.23725834797891038,count:96},{x:.2719891745602165,y:.22319859402460457,count:43},{x:.42760487144790255,y:.22319859402460457,count:82},{x:.4709066305818674,y:.23198594024604569,count:82},{x:.5412719891745602,y:.27768014059753954,count:98},{x:.5060893098782138,y:.26537785588752194,count:29},{x:.39783491204330174,y:.29701230228471004,count:84},{x:.4100135317997294,y:.38137082601054484,count:55},{x:.516914749661705,y:.36906854130052724,count:93},{x:.35994587280108253,y:.39718804920913886,count:64},{x:.33964817320703655,y:.4024604569420035,count:80},{x:.3234100135317997,y:.3216168717047452,count:84},{x:.2746955345060893,y:.5184534270650264,count:32},{x:.2354533152909337,y:.5008787346221442,count:55},{x:.34100135317997293,y:.5289982425307557,count:19},{x:.39918809201623817,y:.5817223198594025,count:14},{x:.4370771312584574,y:.6502636203866432,count:16},{x:.39242219215155616,y:.655536028119508,count:4},{x:.4857916102841678,y:.6397188049209139,count:10},{x:.4140730717185386,y:.6625659050966608,count:56},{x:.456021650879567,y:.6994727592267135,count:24},{x:.4817320703653586,y:.680140597539543,count:67},{x:.5290933694181326,y:.6572934973637962,count:64},{x:.5534506089309879,y:.6502636203866432,count:91},{x:.5426251691474966,y:.5448154657293497,count:66},{x:.4817320703653586,y:.5360281195079086,count:59},{x:.5588633288227334,y:.4833040421792619,count:30},{x:.6008119079837618,y:.4270650263620387,count:35},{x:.7009472259810555,y:.4200351493848858,count:76},{x:.6427604871447903,y:.4182776801405975,count:70},{x:.7090663058186739,y:.37082601054481545,count:57},{x:.6941813261163735,y:.3110720562390158,count:90},{x:.6102841677943166,y:.29876977152899825,count:66},{x:.6211096075778079,y:.34797891036906853,count:37},{x:.6305818673883626,y:.37785588752196836,count:12},{x:.618403247631935,y:.35676625659050965,count:53},{x:.6373477672530447,y:.36731107205623903,count:76},{x:.7753721244925575,y:.40597539543058,count:89},{x:.7889039242219216,y:.37785588752196836,count:24},{x:.8213802435723951,y:.335676625659051,count:45},{x:.8497970230040596,y:.28646748681898065,count:5},{x:.8728010825439784,y:.27943760984182775,count:66},{x:.871447902571042,y:.2530755711775044,count:52},{x:.8971583220568335,y:.23198594024604569,count:61},{x:.8619756427604871,y:.30755711775043937,count:35},{x:.8281461434370772,y:.36379613356766255,count:34},{x:.8416779431664412,y:.3602811950790861,count:36},{x:.8159675236806495,y:.4024604569420035,count:66},{x:.8213802435723951,y:.43936731107205623,count:0},{x:.8119079837618404,y:.5149384885764499,count:29},{x:.7374830852503383,y:.5131810193321616,count:8},{x:.774018944519621,y:.4710017574692443,count:29},{x:.7564276048714479,y:.5043936731107206,count:17},{x:.6982408660351827,y:.5149384885764499,count:5},{x:.7699594046008119,y:.5694200351493849,count:48},{x:.6576454668470907,y:.539543057996485,count:82},{x:.7158322056833559,y:.632688927943761,count:31},{x:.7550744248985115,y:.6695957820738138,count:73},{x:.7523680649526387,y:.632688927943761,count:31},{x:.7916102841677943,y:.7328646748681898,count:66},{x:.6765899864682002,y:.6449912126537786,count:89},{x:.6238159675236806,y:.6203866432337434,count:17},{x:.6035182679296346,y:.6748681898066784,count:28},{x:.36129905277401897,y:.6678383128295254,count:45},{x:.41136671177266576,y:.5694200351493849,count:47},{x:.34100135317997293,y:.562390158172232,count:66},{x:.4519621109607578,y:.7363796133567663,count:79},{x:.45331529093369416,y:.46572934973637964,count:88},{x:.4993234100135318,y:.45518453427065025,count:94},{x:.476319350473613,y:.38137082601054484,count:95},{x:.4736129905277402,y:.30052724077328646,count:14},{x:.4668470906630582,y:.30755711775043937,count:96},{x:.3044654939106901,y:.44815465729349735,count:8},{x:.6062246278755075,y:.23550087873462214,count:75},{x:.3044654939106901,y:.21616871704745166,count:9},{x:.8254397834912043,y:.4710017574692443,count:32},{x:.9228687415426252,y:.15114235500878734,count:18},{x:.9350473612990527,y:.17750439367311072,count:19},{x:.9201623815967523,y:.16695957820738136,count:3},{x:.9242219215155616,y:.12478031634446397,count:86},{x:.2638700947225981,y:.7873462214411248,count:51},{x:.10825439783491204,y:.6906854130052724,count:38},{x:.07848443843031123,y:.6678383128295254,count:73},{x:.2462787550744249,y:.5782073813708261,count:17},{x:.2895805142083897,y:.6028119507908611,count:31},{x:.11502029769959404,y:.1687170474516696,count:259},{x:.10284167794316644,y:.4903339191564148,count:676},{x:.6332882273342354,y:.35676625659050965,count:772},{x:.851150202976996,y:.3268892794376098,count:961},{x:.6102841677943166,y:.6854130052724078,count:263},{x:.7834912043301759,y:.687170474516696,count:284},{x:.8213802435723951,y:.5589455184534271,count:270},{x:.4795669824086604,y:.69701230228471,count:306}]}};var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-1"]=ib.ChapterData["chapter-1"]||{},ib.ChapterData["chapter-1"]=$.extend(ib.ChapterData["chapter-1"],{totalScrollValue:4e4,storyKeyframes:[{frame:.001,duration:2e3},{frame:.45,duration:15e3,continueOnComplete:!0,audio:{delay:1e3,startValue:0+(ib.isIE?500:0),endValue:12500+(ib.isIE?500:0)}},{frame:.549,duration:17e3,audio:{startValue:13e3+(ib.isIE?1e3:0),endValue:27400+(ib.isIE?1e3:0)}},{frame:.975,duration:23e3,video:{delay:1e3,startValue:0,endValue:2e4},audio:{delay:2e3,startValue:27500+(ib.isIE?1e3:0),endValue:49500+(ib.isIE?500:0)}},{frame:.9999,duration:1e3,continueOnComplete:!0,video:{delay:0,startValue:21e3,endValue:22e3}}],sfxTriggers:[{start:.28,sfxId:"wd-ctos_believe_black-bar-large-text-starts-in"},{start:.283,sfxId:"wd-ctos_all_text",duration:800},{start:.453,sfxId:"wd-ctos_believe_dot-pattern-slowly-zooms-out-01"},{start:.483,sfxId:"wd-ctos_believe_black-bar-large-text-starts-in"},{start:.485,sfxId:"wd-ctos_all_text",duration:1e3},{start:.549,sfxId:"wd-ctos_believe_dot-pattern-fades-out-to-city-01"},{start:.56,sfxId:"wd-ctos_believe_city-first-move-rotate-down-01"},{start:.539,sfxId:"wd-ctos_all_text",duration:800},{start:.71,sfxId:"wd-ctos_believe_city-second-move-long-pan-01"},{start:.885,sfxId:"wd-ctos_believe_black-bar-large-text-starts-in"},{start:.9,sfxId:"wd-ctos_all_text",duration:1e3},{start:.976,sfxId:"wd-ctos_all_section-transition-whoosh-01"}],headerControlSteps:[{start:0,end:.9999,removeClass:"light"}],animationElements:[{target:"#intro-mask-wrap",steps:[{start:.03,end:.1,remove:!0,properties:[{name:"opacity",unit:"",startValue:1,endValue:0,easing:"easeOutQuad"}]}]},{target:".video-mask",steps:[{start:.89,end:.92,properties:[{name:"opacity",unit:"",startValue:0,endValue:.75}]},{start:.9751,end:.99,properties:[{name:"opacity",unit:"",startValue:.75,endValue:0}]}]},{target:".smart-city-program .block-reveal.blue-border .content",steps:[{start:.28,end:.3,properties:[{name:"width",unit:"%",easing:"easeOutCubic",startValue:0,endValue:100}]},{start:.42,end:.44,properties:[{name:"width",unit:"%",easing:"easeOutCubic",startValue:100,endValue:0}]}]},{target:".we-are-all-connected .block-reveal.blue-border .content",steps:[{start:.483,end:.486,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutCubic"}]},{start:.501,end:.504,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutCubic"}]}]},{target:".lift-container .block-reveal.blue-border .content",steps:[{start:.885,end:.92,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutSine"}]},{start:.9752,end:.99,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutSine"}]}]},{target:".block-reveal.scroll-indicator-0 .content",steps:[{start:.539,end:.55,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutSine"}]},{start:.5501,end:.5505,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutSine"},{name:"padding-left",unit:"px",startValue:20,endValue:0,easing:"easeOutSine"},{name:"padding-right",unit:"px",startValue:20,endValue:0,easing:"easeOutSine"}]}]},{target:".block-reveal.scroll-indicator .content",steps:[{start:.91,end:.95,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutSine"}]},{start:.9752,end:.99,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutSine"}]}]},{target:".copy-1 .content",steps:[{start:.9752,end:.99,properties:[{name:"opacity",unit:"",startValue:1,endValue:0,easing:"easeOutSine"}]}]},{target:".mask",steps:[{start:.9998,end:.9999,properties:[{name:"bottom",unit:"%",startValue:0,endValue:100}]}]}],animationComponents:[{target:".smart-city-program h2.content",componentClass:"ib.Oomph",opts:{start:.283,end:.41,duration:600,fadeOut:!0}},{target:".we-are-all-connected h2.content",componentClass:"ib.Oomph",opts:{start:.485,end:.51,duration:600,fadeOut:!0}},{target:".copy-1 .content",componentClass:"ib.Oomph",opts:{start:.9,end:1,duration:900,fadeOut:!1}},{target:".network-canvas",componentClass:"ib.Network.Dots",opts:{start:0,end:.57,zoomNormalKeyframe:.452,zoomNormalZ:0,connectionBegin:.1,connectionEnd:.5493,zoomOutDuration:7,zoomOutEasing:"easeInCubic",dotColor:"#1e1e1e",highlightColor:"#32c8f4",cctvCanvasTarget:".dots-canvas",cctvContextTarget:".connected-cctv",initialYRange:.75,CCTVOpts:{lineDuration:450,borderDuration:1100,imageDuration:600,start:.33,end:.5491,lineSfx:"wd-ctos_discover_circle-connecting-lines-draw-in-01",easing:"easeOutCubic",cams:[{x:.58,y:.15,startLineX:.5,startLineY:.5,target:".smart-city-image",imageStart:.32,borderStart:.318,forcedEnd:.44,src:ib.Config.assetBasePath+"/images/chapter-1/smart-city.jpg",height:334,width:500,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.58,y:.13,startLineX:.5,startLineY:.5,target:".camera-0",imageStart:.46,borderStart:.458,video:[{webm:ib.Config.assetBasePath+"/video/cctv1.webm"},{mp4:ib.Config.assetBasePath+"/video/cctv1.mp4"}],height:116,width:208,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.22,y:.6,startLineX:.21,startLineY:.9,target:".camera-1",imageStart:.502,borderStart:.5,video:[{webm:ib.Config.assetBasePath+"/video/cctv2.webm"},{mp4:ib.Config.assetBasePath+"/video/cctv2.mp4"}],height:116,width:208,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.62,y:.55,startLineX:.9,startLineY:.9,target:".camera-2",imageStart:.47,borderStart:.468,video:[{webm:ib.Config.assetBasePath+"/video/cctv3.webm"},{mp4:ib.Config.assetBasePath+"/video/cctv3.mp4"}],height:116,width:208,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.15,y:.1,startLineX:.1,startLineY:.5,target:".camera-3",imageStart:.515,borderStart:.513,video:[{webm:ib.Config.assetBasePath+"/video/cctv4.webm"},{mp4:ib.Config.assetBasePath+"/video/cctv4.mp4"}],height:116,width:208,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]}]}}},{target:".dots-1",componentClass:"ib.Dots",opts:{start:.44,end:.55,delay:1e3,duration:1e3,fadeOutDuration:500,maxDelayStagger:200,dots:[{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"10"},{type:"text",content:"07"}]}},{target:".dots-2",componentClass:"ib.Dots",opts:{start:.85,end:.999,delay:1e3,duration:2e3,fadeOutDuration:500,maxDelayStagger:200,dots:[{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"10"},{type:"text",content:"07"}]}},{target:"#intro-mask-wrap",componentClass:"ib.IntroLogo",opts:{}},{target:".super",componentClass:"ib.Super",opts:{start:.648,end:.72,steps:[{sfxId:"wd-ctos_believe_privacy-safety-healthcare-text-appears-01",delay:0,duration:300},{sfxId:"wd-ctos_believe_privacy-safety-healthcare-text-appears-01",delay:800,duration:300},{sfxId:"wd-ctos_believe_privacy-safety-healthcare-text-appears-01",delay:1700,duration:300},{sfxId:"wd-ctos_believe_utilities-text-appears-01",delay:2550,duration:300}]}}],introLogoOpts:{start:0,end:.01,duration:1e3,startFrameNum:0,numFrames:17,getFilename:function(a){if(0===a)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var b=16===a?"png":"jpg";return a="00000"+a,a=a.slice(-5),ib.Config.assetBasePath+"/images/chapter-1/sequences/logo/logo_"+a+"."+b}}});var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-2"]=ib.ChapterData["chapter-2"]||{},ib.ChapterData["chapter-2"]=$.extend(ib.ChapterData["chapter-2"],{totalScrollValue:3e4,storyKeyframes:[{frame:.599,duration:39e3,video:{delay:0,startValue:22e3,endValue:63e3},audio:{delay:1e3,startValue:49500+(ib.isIE?1e3:0),endValue:86e3+(ib.isIE?1e3:0)}},{frame:.915,duration:21e3,video:{startValue:63e3,endValue:63e3},audio:{delay:50,startValue:86e3+(ib.isIE?500:0),endValue:107e3}},{frame:.9999,duration:2e3,continueOnComplete:!0}],sfxTriggers:[{sfxId:"wd-ctos_discover_city-block-glows-01",start:.048},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.07},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.09},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.11},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.12},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.13},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.16},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.18},{sfxId:"wd-ctos_discover_city-block-glows-01",start:.2},{start:.23,sfxId:"wd-ctos_discover_city-long-pan-rotate-01"},{start:.52,sfxId:"wd-ctos_discover_city-short-pan-rotate-01"},{start:.61,sfxId:"wd-ctos_all_text",duration:1e3},{start:.72,sfxId:"wd-ctos_all_text",duration:1e3},{start:.917,sfxId:"wd-ctos_all_section-transition-whoosh-01"}],headerControlSteps:[{start:0,end:.00999,removeClass:"light"},{start:.01,end:.6,addClass:"light"},{start:.6,end:1,removeClass:"light"}],animationElements:[{target:".city-highlights-indicator .content",steps:[{start:.597,end:.598999,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutSine"}]},{start:.6,end:.61,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutSine"}]}]},{target:".video-mask",steps:[{start:.6,end:.62,properties:[{name:"opacity",unit:"",startValue:0,endValue:1,easing:"easeOutQuad"}]}]},{target:".top-copy > .scroll-indicator .content",steps:[{start:.905,end:.914,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutSine"}]},{start:.916,end:.95,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutSine"}]}]},{target:".mask",steps:[{start:.96,end:1,properties:[{name:"bottom",unit:"%",startValue:0,endValue:100}]}]}],animationComponents:[{target:".top-copy.copy-1 .content",componentClass:"ib.Oomph",opts:{start:.61,end:.708,fadeOut:!0}},{target:".copy-2 .content",componentClass:"ib.Oomph",opts:{start:.72,end:.916}},{target:".testimonials",componentClass:"ib.Testimonials",opts:{start:.609,end:.92,resetWaitTime:0,fadeOutDuration:400,delay:0,duration:400,firstTestimonyDelay:5e3,easing:"easeOutQuad",maxDelayStagger:200,testimonials:ib.ChapterData["chapter-2"].getText().testimonials,numImages:8}},{target:"#cctv-image-launcher-1",componentClass:"ib.CCTVImageLauncher",opts:{start:.05,end:.5,cctvContextTarget:".cctv-image-launcher",CCTVOpts:{imageDuration:800,start:.05,end:.4,easing:"easeOutCubic",cams:[{x:.4,y:.3,target:".cctv-image-populous",src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_1populous.jpg",imageStart:.11,forcedEnd:.22,height:344,width:611,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.1,y:.45,target:".cctv-image-infrastructure",src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_2infrastructure.jpg",imageStart:.27,forcedEnd:.35,height:448,width:672,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.62,y:.15,target:".cctv-image-controlcenters",src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_3controlcenters.jpg",imageStart:.32,forcedEnd:.35,height:345,width:522,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]}]}}},{target:"#cctv-image-launcher-2",componentClass:"ib.CCTVImageLauncher",opts:{start:.48,end:.5989,cctvContextTarget:".cctv-image-launcher",CCTVOpts:{imageDuration:800,start:.481,end:.596,easing:"easeOutCubic",cams:[{x:.1,y:.4,target:".cctv-image-reducedenergy",src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_8reducedenergyoutput.jpg",imageStart:.49,forcedEnd:.585,height:194,width:345,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.45,y:.55,target:".cctv-image-reducedmaintenance",src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_9reducedmaintenanceresponse.jpg",imageStart:.51,forcedEnd:.585,height:194,width:345,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.7,y:.3,target:".cctv-image-reducedspending",src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_10reducedcityspending.jpg",imageStart:.54,forcedEnd:.585,height:209,width:370,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]}]}}},{target:"#arbitrary-building-markers",componentClass:"ib.BuildingMarkers",opts:{start:.47,end:.59,markers:[{top:60,left:15,lineFromIndex:0,start:.471},{top:45,left:33,lineFromIndex:0,start:.48},{top:70,left:30,lineFromIndex:1,start:.5},{top:50,left:52,lineFromIndex:1,start:.51},{top:69,left:70,lineFromIndex:3,start:.52},{top:75,left:60,lineFromIndex:2,start:.53},{top:25,left:85,lineFromIndex:3,start:.54},{top:38,left:89,lineFromIndex:4,start:.55}]}},{target:".network-canvas",componentClass:"ib.Network.Dots",opts:{start:.6,end:.955,zoomNormalKeyframe:.605,zoomNormalZ:-40,connectionBegin:.605,connectionEnd:.93,zoomOutDuration:3,zoomOutEasing:"easeInCubic",dotColor:"#1e1e1e",highlightColor:"#32c8f4",cctvCanvasTarget:".testimonial-canvas",cctvContextTarget:".testimonial-cctv",initialYRange:.75,CCTVOpts:{lineDuration:650,borderDuration:0,imageDuration:800,start:.61,end:.918,easing:"easeOutCubic",rolloverSfxId:"wd-ctos_discover_people-photo-rollover-01",rotateInSfxId:"wd-ctos_discover_people-photo-falls-in-01",rotateOutSfxId:null,cams:[{x:.45,y:.08,startLineX:.65,startLineY:.35,target:".testimonial-0",imageStart:.662,borderStart:.66,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.85,y:.5,startLineX:.77,startLineY:.65,target:".testimonial-1",imageStart:.702,borderStart:.7,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.65,y:.8,startLineX:.77,startLineY:.82,target:".testimonial-2",imageStart:.742,borderStart:.74,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.15,y:.8,startLineX:.1,startLineY:.8,target:".testimonial-3",imageStart:.782,borderStart:.78,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.42,y:.67,startLineX:.55,startLineY:.92,target:".testimonial-4",imageStart:.802,borderStart:.8,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.12,y:.12,startLineX:.05,startLineY:.2,target:".testimonial-5",imageStart:.822,borderStart:.82,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:0,y:1}]},{x:.75,y:.18,startLineX:.95,startLineY:.35,target:".testimonial-6",imageStart:.842,borderStart:.84,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{x:.53,y:.51,startLineX:.55,startLineY:.62,target:".testimonial-7",imageStart:.862,borderStart:.86,height:80,width:80,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]}]}}},{target:".city-highlights-wrap",componentClass:"ib.CityHighlights",opts:{start:.5989,end:.6,startDelay:0}},{target:".super.constrain",componentClass:"ib.Super",opts:{start:.48,end:.59,steps:[{sfxId:"wd-ctos_discover_the-result-text-in-01",delay:0,duration:300}]}},{target:".top-copy .super",componentClass:"ib.Super",opts:{start:.6393,end:.708,steps:[{sfxId:"wd-ctos_discover_you-text-appears-01",delay:0,duration:300},{sfxId:"wd-ctos_discover_yourfamily-text-appears-01",delay:900,duration:300},{sfxId:"wd-ctos_discover_environ-text-appears-01",delay:2500,duration:300}]}},{target:"#connected-building-markers",componentClass:"ib.BuildingMarkers",opts:{start:.01,end:.23,markers:[{top:12.6,left:81.5,lineFromIndex:0,start:.048},{top:11.5,left:54.6,lineFromIndex:0,start:.07},{top:64.6,left:75.9,lineFromIndex:0,start:.09},{top:12.9,left:40.9,lineFromIndex:2,start:.11},{top:29.8,left:17.7,lineFromIndex:3,start:.12},{top:41.2,left:94.4,lineFromIndex:0,start:.13},{top:60.8,left:42,lineFromIndex:5,start:.16},{top:10,left:8.5,lineFromIndex:4,start:.18},{top:41.9,left:59,lineFromIndex:4,start:.2}]}},{target:"#chicago-building-markers",componentClass:"ib.ChicagoBuildingMarkers",opts:{start:.23,end:.59,rotationStart:.36,rotationDuration:3e3,zoomOutStart:.34,zoomOutDuration:3e3,translateToSuperStart:.46,translateToSuperDuration:1500,translateToSuperTarget:".result-super-wrap",lineDuration:800,cctvCanvasTarget:".chicago-cctv-canvas",cctvContextTarget:".chicago-cctv",CCTVOpts:{lineDuration:650,borderDuration:0,imageDuration:800,start:.25,end:.49,easing:"easeOutCubic",lineSfx:"wd-ctos_discover_circle-connecting-lines-draw-in-01",cams:[{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_4businesses.jpg",x:.12,y:.12,markerIndex:6,target:".cctv-businesses",imageStart:.398,borderStart:.395,forcedEnd:.46,height:159,width:281,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_6streets.jpg",x:.23,y:.66,markerIndex:16,target:".cctv-streets",imageStart:.408,borderStart:.405,forcedEnd:.46,height:165,width:283,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_7parks.jpg",x:.67,y:.6,markerIndex:17,target:".cctv-parks",imageStart:.418,borderStart:.415,forcedEnd:.46,height:192,width:331,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]},{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_5citycenters.jpg",x:.68,y:.15,markerIndex:7,target:".cctv-citycenters",imageStart:.428,borderStart:.425,forcedEnd:.46,height:152,width:261,imageActive:!1,lineActive:!1,lineProgress:0,borderProgress:0,borderSteps:[{x:.5,y:1}]}]},markers:[{xpos:-115,ypos:-55,zpos:0,lineFromIndex:0,start:.235},{xpos:-100,ypos:-40,zpos:15,lineFromIndex:0,start:.238},{xpos:-76,ypos:-42,zpos:5,lineFromIndex:1,start:.241},{xpos:-92,ypos:-70,zpos:25,lineFromIndex:2,start:.244},{xpos:-63,ypos:-68,zpos:-15,lineFromIndex:2,start:.247},{xpos:-48,ypos:-59,zpos:-20,lineFromIndex:2,start:.25},{xpos:-90,ypos:-28,zpos:12,lineFromIndex:2,start:.253,cctv:{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_4businesses.jpg"}},{xpos:-35,ypos:-31,zpos:30,lineFromIndex:6,start:.256,cctv:{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_5citycenters.jpg"}},{xpos:-73,ypos:-15,zpos:-2,lineFromIndex:7,start:.259},{xpos:-40,ypos:13,zpos:-32,lineFromIndex:7,start:.262},{xpos:-26,ypos:4,zpos:18,lineFromIndex:9,start:.265},{xpos:-72,ypos:10,zpos:22,lineFromIndex:10,start:.268},{xpos:-20,ypos:25,zpos:-22,lineFromIndex:10,start:.271},{xpos:-41,ypos:38,zpos:-13,lineFromIndex:10,start:.274},{xpos:-73,ypos:44,zpos:1,lineFromIndex:14,start:.277},{xpos:-8,ypos:44,zpos:-2,lineFromIndex:14,start:.28},{xpos:-45,ypos:88,zpos:9,lineFromIndex:11,start:.283,cctv:{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_6streets.jpg"}},{xpos:-7,ypos:80,zpos:-10,lineFromIndex:14,start:.286,cctv:{src:ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_7parks.jpg"}},{xpos:-54,ypos:46,zpos:16,lineFromIndex:14,start:.289},{xpos:-53,ypos:56,zpos:-8,lineFromIndex:18,start:.292}]}}]});
var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-3"]=ib.ChapterData["chapter-3"]||{},ib.ChapterData["chapter-3"]=$.extend(ib.ChapterData["chapter-3"],{totalScrollValue:8e3,storyKeyframes:[{frame:.46,duration:1500},{frame:.999,duration:1200,continueOnComplete:!0}],sfxTriggers:[{start:.003,sfxId:"wd-ctos_believe_black-bar-large-text-starts-in"},{start:.6,sfxId:"wd-ctos_all_section-transition-whoosh-01"}],animationElements:[{target:".block-reveal.blue-border .content",steps:[{start:.003,end:.1,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]},{start:.75,end:.9,properties:[{name:"width",unit:"%",startValue:100,endValue:0}]}]},{target:".grid-reveal .question-0",steps:[{start:.2,end:.25,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]},{start:.68,end:.73,properties:[{name:"opacity",unit:"",startValue:1,endValue:0}]}]},{target:".grid-reveal .question-1",steps:[{start:.23,end:.28,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]},{start:.64,end:.69,properties:[{name:"opacity",unit:"",startValue:1,endValue:0}]}]},{target:".grid-reveal .question-2",steps:[{start:.26,end:.31,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]},{start:.6,end:.65,properties:[{name:"opacity",unit:"",startValue:1,endValue:0}]}]},{target:".grid-reveal .question-3",steps:[{start:.29,end:.34,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]},{start:.56,end:.61,properties:[{name:"opacity",unit:"",startValue:1,endValue:0}]}]},{target:".block-reveal.scroll-indicator .content",steps:[{start:.3,end:.5,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutSine"}]},{start:.8,end:.92,properties:[{name:"width",unit:"%",startValue:100,endValue:0,easing:"easeOutSine"}]}]},{target:".topic",steps:[{start:.15,end:.2,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]},{start:.85,end:.9,properties:[{name:"opacity",unit:"",startValue:1,endValue:0}]}]},{target:".q-and-a",steps:[{start:.01,end:.3,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]},{start:.52,end:.65,properties:[{name:"opacity",unit:"",startValue:1,endValue:0}]}]},{target:".mask",steps:[{start:.999,end:.9999,properties:[{name:"bottom",unit:"%",startValue:0,endValue:100}]}]}],animationComponents:[{target:".dots",componentClass:"ib.Dots",opts:{start:.001,end:.65,minScale:.55,maxScale:1,resetWaitTime:0,fadeOutDuration:1e3,delay:0,maxDelayStagger:200,dots:[{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"07"}]}},{target:".scroll-content",componentClass:"ib.SurveyController",opts:{start:.11,end:.96,surveyData:ib.ChapterData["chapter-3"].getText().questions}}]});var ib=ib||{};ib.ChapterData=ib.ChapterData||{},ib.ChapterData["chapter-4"]=ib.ChapterData["chapter-4"]||{},ib.ChapterData["chapter-4"]=$.extend(ib.ChapterData["chapter-4"],{totalScrollValue:2e3,storyKeyframes:[{frame:1,duration:1400}],sfxTriggers:[{start:.18,sfxId:"wd-ctos_connect_left-text-builds-in-01"}],headerControlSteps:[{start:0,end:1,removeClass:"light"}],animationElements:[{target:".blue-border .content",steps:[{start:.02,end:.25,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]}]},{target:".fact .content",steps:[{start:.18,end:.45,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]}]},{target:".fact .bottom-wrap",steps:[{start:.45,end:.65,properties:[{name:"opacity",unit:"",startValue:0,endValue:1,easing:"easeOutQuad"}]}]},{target:".social-map figure",steps:[{start:.25,end:.45,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]}]},{target:".hashtag",steps:[{start:.42,end:.54,properties:[{name:"opacity",unit:"",startValue:0,endValue:1}]}]},{target:".share-cta",steps:[{start:.42,end:.54,properties:[{name:"opacity",unit:"",startValue:0,endValue:1,easing:"easeOutQuad"}]}]},{target:".sharing .content",steps:[{start:.42,end:.65,properties:[{name:"width",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]}]},{target:".sharing .facebook",steps:[{start:.65,end:.8,properties:[{name:"height",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]}]},{target:".sharing .twitter",steps:[{start:.7,end:.85,properties:[{name:"height",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]}]},{target:".sharing .gplus",steps:[{start:.75,end:.9,properties:[{name:"height",unit:"%",startValue:0,endValue:100,easing:"easeOutQuad"}]}]}],animationComponents:[{target:".social-map p",componentClass:"ib.Oomph",opts:{scramble:!0,scrambleDelay:10,scrambleLettersDelay:5,start:.8,end:1.1,fadeOut:!1}},{target:".dots",componentClass:"ib.Dots",opts:{start:.001,end:.999,minScale:.75,maxScale:1.15,resetWaitTime:0,fadeOutDuration:1e3,delay:0,maxDelayStagger:2e3,dots:[{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"+"},{type:"text",content:"07"},{type:"text",content:"10"}]}},{target:".social-dots",componentClass:"ib.SocialMap",opts:{start:.75,end:1,dots:ib.ChapterData["chapter-4"].getText().mapData}}]}),this.ib=this.ib||{},this.ib.Templates=this.ib.Templates||{},this.ib.Templates["building-marker.html"]=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='style="top:'+j((b=a.top,typeof b===i?b.apply(a):b))+"%;left:"+j((b=a.left,typeof b===i?b.apply(a):b))+'%;"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+="<li ",g=c["if"].call(b,b,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="></li>"}),this.ib.Templates["chapter-1.html"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var c,d="";return d+='\n    <li class="camera-'+j((c=b,c=null==c||c===!1?c:c.index,typeof c===i?c.apply(a):c))+'">\n      <video id="cctv-'+j((c=b,c=null==c||c===!1?c:c.index,typeof c===i?c.apply(a):c))+'-player" class="cctv-video" width="208" height="116" preload="auto">\n        <source type="video/webm" src="'+j((c=a.webm,typeof c===i?c.apply(a):c))+'">\n        <source type="video/mp4" src="'+j((c=a.mp4,typeof c===i?c.apply(a):c))+'">\n        <object width="208" height="116" type="application/x-shockwave-flash" data="/js/libs/flashmediaelement.swf">\n          <param name="movie" value="/js/libs/flashmediaelement.swf" />\n          <param name="flashvars" value="controls=false&file='+j((c=a.mp4,typeof c===i?c.apply(a):c))+'" />\n        </object>\n      </video>\n    </li>\n  '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="bg"></div>\n\n<div class="video-mask"></div>\n\n<ul class="dots-1 dots"></ul>\n<ul class="dots-2 dots"></ul>\n\n<canvas class="network-canvas"></canvas>\n\n<div class="block-reveal smart-city-program">\n  <div class="block-reveal blue-border"><div class="content"></div></div>\n  <h2 class="content">Smart City<br>Program</h2>\n</div>\n\n<canvas class="dots-canvas"></canvas>\n\n<div class="block-reveal we-are-all-connected">\n  <div class="block-reveal blue-border"><div class="content"></div></div>\n  <h2 class="content">We are all<br>connected</h2>\n</div>\n\n<div class="block-reveal scroll-indicator-0">\n  <div class="content">\n    <div class="scroll-icon"><span class="step-a"></span><span class="step-b"></span></div> Scroll down to learn more\n  </div>\n</div>\n\n<div class="super constrain lift-container">\n  <ul>\n    <li class=\'privacy small-graphic\'>\n      <figcaption>privacy</figcaption>\n      <figure></figure>\n    </li>\n    <li class=\'safety small-graphic other\'>\n      <figcaption>safety</figcaption>\n      <figure></figure>\n    </li>\n    <li class=\'healthcare small-graphic\'>\n      <figcaption>healthcare</figcaption>\n      <figure></figure>\n    </li>\n    <li class=\'utilities small-graphic other\'>\n      <figcaption>utilities</figcaption>\n      <figure></figure>\n    </li>\n  </ul>\n</div>\n\n<div class="constrain lift-container">\n  <div class="block-reveal blue-border"><div class="content"></div></div>\n\n  <div class="copy-1">\n    <h2 class="content"><span class="smaller">ct</span>OS:<br>Building<br>Smart Cities</h2>\n  </div>\n\n  <div class="block-reveal scroll-indicator">\n    <div class="content">\n      <div class="scroll-icon"><span class="step-a"></span><span class="step-b"></span></div> Scroll down to discover <span class="smaller">ct</span>OS\n    </div>\n  </div>\n</div>\n\n<ul class="cctv connected-cctv">\n  <li class="smart-city-image non-interactive">\n    <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n  </li>\n  ',g=c.each.call(b,b.cctv,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\n</ul>\n\n<div id="intro-mask-wrap">\n  <div id="intro-mask" data-id="intro-logo">\n    <div class="bg"></div>\n    <hgroup>\n        <div class="inner">\n          <img class="logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n          <div class="preloader-content">\n            <p>At Blume, we’re working toward a future in which you can feel secure and productive in your community at all times. Find out how we’re ensuring that future through <span>CT</span>OS.</p>\n            <div class="watch block-reveal">\n                <div class="content blue-border">\n                    <div class="load-border"></div>\n                    <span class="loaded">Learn More</span>\n                    <span class="default">Loading</span>\n                </div>\n            </div>\n          </div>\n        </div>\n    </hgroup>\n  </div>\n  <div class="bottom">\n    <span><b>Audio Required</b> for best experience</span>\n  </div>\n</div>\n'}),this.ib.Templates["chapter-2.html"]=Handlebars.template(function(a,b,c,d,e){function f(a){var b="";return b+='\n    <li class="cctv-'+l(typeof a===k?a.apply(a):a)+' non-interactive">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n    '}function g(a,b){var d,e,f="";return f+='\n  <li class="testimonial testimonial-'+l((d=b,d=null==d||d===!1?d:d.index,typeof d===k?d.apply(a):d))+" ",(e=c.extraContainerClass)?e=e.call(a,{hash:{},data:b}):(e=a.extraContainerClass,e=typeof e===k?e.apply(a):e),f+=l(e)+'">\n    <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    <p class="'+l((d=a.textClass,typeof d===k?d.apply(a):d))+'">',d=a.text,e=typeof d===k?d.apply(a):d,(e||0===e)&&(f+=e),f+="</p>\n  </li>\n  "}function h(a,b){var c,d,e="";return e+='\n      <li class="highlight-wrap highlight-'+l((c=b,c=null==c||c===!1?c:c.index,typeof c===k?c.apply(a):c))+'">\n        <div class="hotspot"></div>\n        <div class="highlight">\n          <h4>'+l((c=a.title,typeof c===k?c.apply(a):c))+'</h4>\n          <div class="details">\n            <figure>\n              <img src="'+l((c=a.image,typeof c===k?c.apply(a):c))+'">\n            </figure>\n            <h5>'+l((c=a.title,typeof c===k?c.apply(a):c))+"</h5>\n            <p>",c=a.details,d=typeof c===k?c.apply(a):c,(d||0===d)&&(e+=d),e+='</p>\n          </div>\n        </div>\n        <div class="glow aspect-fill-centered" style="background-image: url('+l((c=a.glowImage,typeof c===k?c.apply(a):c))+');"></div>\n      </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k="function",l=this.escapeExpression,m=this;return j+='<div class="bg"></div>\n<div id="connected-building-markers" class="building-marker-wrap no-tablet">\n  <ul class="building-markers"></ul>\n  <canvas class="building-marker-canvas"></canvas>\n</div>\n\n<div id="chicago-building-markers" class="building-marker-wrap no-tablet">\n  <ul class="building-markers"></ul>\n  <canvas class="building-marker-canvas"></canvas>\n  <img class="chicago-outline" src="',(i=c.assetBasePath)?i=i.call(b,{hash:{},data:e}):(i=b.assetBasePath,i=typeof i===k?i.apply(b):i),j+=l(i)+'/images/chapter-2/chicago-outline.png">\n  <canvas class="chicago-cctv-canvas"></canvas>\n  <ul class="chicago-cctv cctv">\n    ',i=c.each.call(b,b.chicagoMarkerCCTVs,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='\n  </ul>\n</div>\n\n<div id="cctv-image-launcher-1" class="cctv-image-launcher-wrap no-tablet">\n  <ul class="cctv-image-launcher">\n    <li class="cctv-image-populous">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n    <li class="cctv-image-infrastructure">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n    <li class="cctv-image-controlcenters">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n  </ul>\n</div>\n\n<div id="arbitrary-building-markers" class="building-marker-wrap no-tablet">\n  <ul class="building-markers"></ul>\n  <canvas class="building-marker-canvas"></canvas>\n</div>\n\n<div id="cctv-image-launcher-2" class="cctv-image-launcher-wrap">\n  <ul class="cctv-image-launcher">\n    <li class="cctv-image-reducedenergy">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n    <li class="cctv-image-reducedmaintenance">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n    <li class="cctv-image-reducedspending">\n      <img draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">\n    </li>\n  </ul>\n</div>\n\n<div class="video-mask"></div>\n\n<canvas class="network-canvas"></canvas>\n<div class="top-copy copy-1">\n  <h2 class="content">Everything<br>is connected</h2>\n\n  <div class="super">\n    <ul>\n      <li class=\'you large-graphic other\'>\n        <figcaption>you</figcaption>\n        <figure></figure>\n      </li>\n      <li class=\'family large-graphic\'>\n        <figcaption>your family</figcaption>\n        <figure></figure>\n      </li>\n      <li class=\'environment large-graphic other\'>\n        <figcaption>the environment</figcaption>\n        <figure></figure>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div class="block-reveal blue-border"><div class="content"></div></div>\n<canvas class="testimonial-canvas"></canvas>\n<div class="top-copy container">\n  <div class="copy-2">\n    <h2 class="content">Chicago stands<br>strong</h2>\n  </div>\n  <div class="block-reveal scroll-indicator">\n    <div class="content">\n      <div class="scroll-icon"><span class="step-a"></span><span class="step-b"></span></div> Scroll down to support <span class="smaller">ct</span>OS in your city\n    </div>\n  </div>\n</div>\n<div class="super result-super-wrap constrain lift-container no-graphic no-tablet">\n  <ul>\n    <li>\n      <figcaption>The Result</figcaption>\n    </li>\n  </ul>\n</div>\n\n<ul class="testimonials testimonial-cctv cctv">\n  ',i=c.each.call(b,b.testimonials,{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(i||0===i)&&(j+=i),j+='\n</ul>\n\n<div class="city-highlights-wrap no-tablet">\n  <ul class="city-highlights">\n    ',i=c.each.call(b,b.cityHighlights,{hash:{},inverse:m.noop,fn:m.program(5,h,e),data:e}),(i||0===i)&&(j+=i),j+='\n  </ul>\n</div>\n<div class="block-reveal scroll-indicator city-highlights-indicator no-tablet">\n  <div class="content">\n    <div class="scroll-icon"><span class="step-a"></span><span class="step-b"></span></div> Scroll down to learn more\n  </div>\n</div>'}),this.ib.Templates["chapter-3.html"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var c,d="";return d+='\n    <li class="question-'+j((c=b,c=null==c||c===!1?c:c.index,typeof c===i?c.apply(a):c))+'"><span></span></li>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="bg"></div>\n<ul class="dots"></ul>\n\n<div class="left lift-container">\n  <div class="block-reveal blue-border"><div class="content"></div></div>\n  <h2 class="topic">&nbsp;</h2>\n  <ul class="grid-reveal question-numbers">\n    ',g=c.each.call(b,b.questions,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\n  </ul>\n\n  <div class="block-reveal scroll-indicator survey-indicator">\n    <div class="content">\n      <div class="scroll-icon"><span></span></div>\n      <span class="functional">All systems functional</span>\n      <span class="online">Verified operations online</span>\n    </div>\n  </div>\n</div>\n\n<div class="q-and-a lift-container">\n  <div class="question-preface">\n    <p class="ask"></p>\n    <h4 class="question"></h4>\n  </div>\n  <div class="answer-preface">\n    <p class="confirm"></p>\n    <h4 class="headline"></h4>\n    <h5 class="body"></h5>\n  </div>\n  <div class="question-ui-wrap">\n  </div>\n</div>\n'}),this.ib.Templates["chapter-4.html"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="bg"></div>\n\n<ul class="dots"></ul>\n\n<div class="social-map">\n  <p class="map-intro">Millions of people are using <span class="smaller">CT</span>OS to secure their future.<br>\n  Connect with us and help bring value to your region.</p>\n  <figure class="map">\n    <img src="',(f=c.assetBasePath)?f=f.call(b,{hash:{},data:e}):(f=b.assetBasePath,f=typeof f===h?f.apply(b):f),g+=i(f)+'/images/chapter-4/map.png">\n    <ul class="social-dots"></ul>\n  </figure>\n</div>\n\n<div class="left lift-container ib-component" data-component="ib.ShareSurveyResults">\n  <div class="block-reveal fact">\n    <div class="content">\n      <div class="block-reveal blue-border"><div class="content"></div></div>\n      <div class="fact-wrap">\n        <h5 class="headline">'+i((f=b.facts,f=null==f||f===!1?f:f.crime,f=null==f||f===!1?f:f.headline,typeof f===h?f.apply(b):f))+'</h5>\n        <div class="bottom-wrap">\n          <p class="fact-num-copy"><span class="smaller">CT</span>OS Fact #<span class="fact-num">'+i((f=b.facts,f=null==f||f===!1?f:f.crime,f=null==f||f===!1?f:f.factNum,typeof f===h?f.apply(b):f))+'</span></p>\n          <p class="fact-body">'+i((f=b.facts,f=null==f||f===!1?f:f.crime,f=null==f||f===!1?f:f.fact,typeof f===h?f.apply(b):f))+'</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <a class="hashtag">\n      #CT<strong>OS</strong><span class="light">CARES</span>\n  </a>\n\n  <div class="block-reveal sharing">\n    <ul class="content">\n      <li class="facebook"><a href="#">facebook<span></span></a></li>\n      <li class="twitter"><a href="#">twitter<span></span></a></li>\n      <li class="gplus"><a href="#">gplus<span></span></a></li>\n    </ul>\n  </div>\n  <p class="share-cta">Share to get started</p>\n</div>\n'}),this.ib.Templates["dot.html"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<li class="',(f=c.type)?f=f.call(b,{hash:{},data:e}):(f=b.type,f=typeof f===h?f.apply(b):f),g+=i(f)+'" style="left: ',(f=c.left)?f=f.call(b,{hash:{},data:e}):(f=b.left,f=typeof f===h?f.apply(b):f),g+=i(f)+"; top: ",(f=c.top)?f=f.call(b,{hash:{},data:e}):(f=b.top,f=typeof f===h?f.apply(b):f),g+=i(f)+';">',(f=c.content)?f=f.call(b,{hash:{},data:e}):(f=b.content,f=typeof f===h?f.apply(b):f),g+=i(f)+"</li>"}),this.ib.Templates["infographic-question.html"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n            <div class="statistic statistic-'+n((d=b,d=null==d||d===!1?d:d.index,typeof d===m?d.apply(a):d))+'">\n              <div class="number">\n                ',e=c["if"].call(a,a.prefix,{hash:{},inverse:o.noop,fn:o.program(2,g,b),data:b}),(e||0===e)&&(f+=e),f+='\n                <span class="value" data-target-value="'+n((d=a.value,typeof d===m?d.apply(a):d))+'">0</span>\n                ',e=c["if"].call(a,a.suffix,{hash:{},inverse:o.noop,fn:o.program(4,h,b),data:b}),(e||0===e)&&(f+=e),f+="\n              </div>\n              <figcaption>\n                <h5>",d=a.title,e=typeof d===m?d.apply(a):d,(e||0===e)&&(f+=e),f+="</h5>\n                <p>"+n((d=a.subtitle,typeof d===m?d.apply(a):d))+"</p>\n              </figcaption>\n            </div>\n            "}function g(a){var b,c="";return c+='\n                  <span class="smaller">'+n((b=a.prefix,typeof b===m?b.apply(a):b))+"</span>\n                "}function h(a){var b,c="";return c+='\n                  <span class="smaller">'+n((b=a.suffix,typeof b===m?b.apply(a):b))+"</span>\n                "}function i(a,b){var d,e,f="";return f+='\n            <div class="statistic statistic-'+n((d=b,d=null==d||d===!1?d:d.index,typeof d===m?d.apply(a):d))+'">\n              <div class="number">\n                ',e=c["if"].call(a,a.prefix,{hash:{},inverse:o.noop,fn:o.program(2,g,b),data:b}),(e||0===e)&&(f+=e),f+='\n                <span class="value" data-target-value="'+n((d=a.value,typeof d===m?d.apply(a):d))+'">0</span>\n                ',e=c["if"].call(a,a.suffix,{hash:{},inverse:o.noop,fn:o.program(4,h,b),data:b}),(e||0===e)&&(f+=e),f+="\n              </div>\n              <figcaption>\n                <h5>",d=a.title,e=typeof d===m?d.apply(a):d,(e||0===e)&&(f+=e),f+="</h5>\n                <p>",d=a.subtitle,e=typeof d===m?d.apply(a):d,(e||0===e)&&(f+=e),f+="</p>\n              </figcaption>\n            </div>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m="function",n=this.escapeExpression,o=this;return l+='<div class="infographic-question ',(j=c.classes)?j=j.call(b,{hash:{},data:e}):(j=b.classes,j=typeof j===m?j.apply(b):j),l+=n(j)+'">\n  <div class="data-visualization-wrapper">\n      <div class="dashes-wrapper">\n        <canvas></canvas>\n      </div>\n\n      <div class="question-wrap">\n        <a class="accept">',(j=c.accept)?j=j.call(b,{hash:{},data:e}):(j=b.accept,j=typeof j===m?j.apply(b):j),l+=n(j)+'</a>\n          <figure class="data-visualization">\n            ',j=c.each.call(b,b.questionStatistics,{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(j||0===j)&&(l+=j),l+='\n          </figure>\n        </div>\n        <div class="answer-wrap">\n          <a class="next">'+n((j=b.next,typeof j===m?j.apply(b):j))+'</a>\n          <figure class="data-visualization">\n            ',k=c.each.call(b,b.answerStatistics,{hash:{},inverse:o.noop,fn:o.program(6,i,e),data:e}),(k||0===k)&&(l+=k),l+="\n          </figure>\n      </div>\n  </div>\n</div>"}),this.ib.Templates["map-dot.html"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+="<li>",(f=c.displayedCount)?f=f.call(b,{hash:{},data:e}):(f=b.displayedCount,f=typeof f===h?f.apply(b):f),g+=i(f)+"</li>"}),this.ib.Templates["multiple-choice-question.html"]=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='\n      <li class="'+j((b=a.iconClass,typeof b===i?b.apply(a):b))+'" data-choice="'+j((b=a.choice,typeof b===i?b.apply(a):b))+'">\n        <p class="blue-border-text">'+j((b=a.title,typeof b===i?b.apply(a):b))+'</p>\n        <figure>\n          <span class="default"></span>\n          <span class="hover"></span>\n        </figure>\n      </li>\n      '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="multiple-choice-question">\n  <div class="question-wrap">\n    <div class="dashes-wrapper">\n      <canvas></canvas>\n    </div>\n    <ul class="choices">\n      ',g=c.each.call(b,b.choices,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\n    </ul>\n  </div>\n\n  <div class="answer-wrap">\n    <a class="next">'+j((g=b.next,typeof g===i?g.apply(b):g))+"</a>\n  </div>\n</div>x"});/*! Copyright (c) 2013 Impossible Bureau (http://www.impossible-bureau.com) Licensed under the MIT License (LICENSE.txt). */
var ib=ib||{};ib.ComponentLoader=function(){function a(a){a=a||$("body"),$("."+i,a).each(function(a){if(-1!==$.inArray(this,h))return-1;h.push(this);var b=null,c=$(this).data(j),d=null;$el=$(this),void 0!==e[c]&&(b=new e[c]($(this)),d=$el.data("id")?$el.data("id"):i+Math.floor(1e5*Math.random())+""+a,b.id=d,g[d]=b,"undefined"==typeof f[c]?f[c]=[b]:f[c].push(b),b.init())})}function b(a,b){e[a]=b}function c(a){return g[a]}function d(a){var b=f[a];return null===b&&(b=[]),b}var e=[],f=[],g=[],h=[],i="ib-component",j="component";return{init:a,register:b,registeredClasses:e,findInstanceById:c,findInstancesByType:d}}();var ib=ib||{};ib.Dashes=function(a,b){this.context=a,this.canvas=a.find("canvas"),this.ctx=this.canvas[0].getContext("2d"),this.dashes=[],this.tronLines=[],this.rafIndex=void 0,this.canvasWidth=0,this.canvasHeight=0,this.animating=!1,this.tronLineLoop=0,this.tronLineTimer=null,this.fillStyle=null,this.strokeStyle=null,this.opts=$.extend({minDashSpeed:10,maxDashSpeed:25,numDashes:20,numLines:3,dashWidthMin:5,dashWidthMax:10,dashHeight:1,numTronLines:2,tronLinesDelay:.2,tronLineDuration:.4,tronLineInterval:3e3},b||a.data())},ib.Dashes.prototype={init:function(){this.toggleColor(!1),this.reset(),$(window).on("resize",$.throttle(1e3,$.proxy(this.reset,this)))},reset:function(){this.resizeCanvas(),this.createDashes(),this.createTronLines()},resizeCanvas:function(){this.canvas[0].width=this.canvasWidth=this.context.width(),this.canvas[0].height=this.canvasHeight=this.context.height(),this.canvas.css({marginLeft:-this.canvasWidth/2})},createDashes:function(){this.dashes=[];for(var a=0;a<this.opts.numDashes;a++){var b=Math.floor(Math.random()*this.opts.dashWidthMax)+this.opts.dashWidthMin,c=Math.random()>.5?0:this.canvasWidth,d=Math.random()*this.canvasHeight,e=new ib.Dash(b,this.opts.dashHeight,c,d,this.opts.minDashSpeed,this.opts.maxDashSpeed);e.init(),this.dashes.push(e)}},createTronLines:function(){this.tronLines=[];for(var a=0;a<this.opts.numTronLines;a++){var b=new ib.TronLine(this.canvasWidth,this.canvasHeight);b.init(),this.tronLines.push(b)}},render:function(){this.rafIndex=window.requestAnimationFrame($.proxy(this.render,this)),this.canvas[0].width=this.canvasWidth,this.renderDashes(),this.renderTronLines()},renderDashes:function(){for(var a=0;a<this.opts.numDashes;a++){var b=this.dashes[a];b.update(this.canvasWidth),this.ctx.beginPath(),this.ctx.fillStyle=this.fillStyle,this.ctx.fillRect(b.x,b.y,b.width,b.height),this.ctx.closePath()}},renderTronLines:function(){for(var a=0;a<this.opts.numTronLines;a++){var b=this.tronLines[a];this.ctx.beginPath(),this.ctx.moveTo(b.start.x,b.start.y);for(var c=0;c<b.segments.length;c++){var d=b.segments[c];d.draw&&this.ctx.lineTo(d.x,d.y)}this.ctx.strokeStyle=this.strokeStyle,this.ctx.lineWidth=2,this.ctx.stroke(),this.ctx.closePath()}},play:function(){this.render(),this.tronProgress=0,this.tronLineTimer=setInterval($.proxy(this.tweenTronLines,this),this.opts.tronLineInterval)},toggleColor:function(a){a?(this.fillStyle="#000000",this.strokeStyle="#c9c9c9"):(this.fillStyle="#ffffff",this.strokeStyle="#4f4f4f")},tweenTronLines:function(){for(var a=this,b=0;b<this.opts.numTronLines;b++){var c=this.tronLines[b];TweenLite.to(c,this.opts.tronLineDuration,{delay:this.opts.tronLinesDelay*(b+1),progress:1,onUpdate:function(){for(var a=0;a<this.target.segments.length;a++){var b=this.target.segments[a],c=Math.max(0,Math.min(1,(this.target.progress-b.threshold.start)/(b.threshold.end-b.threshold.start)));c&&(b.x=b.line.start.x+(b.line.end.x-b.line.start.x)*c,b.y=b.line.start.y+(b.line.end.y-b.line.start.y)*c)}},onComplete:function(){TweenLite.to(this.target,a.opts.tronLineDuration,{tailProgress:1,onUpdate:function(){for(var a=0;a<this.target.segments.length;a++){var b=this.target.segments[a],c=Math.max(0,Math.min(1,(this.target.tailProgress-b.threshold.start)/(b.threshold.end-b.threshold.start)));c&&(this.target.start.x=b.line.start.x-(b.line.start.x-b.line.end.x)*c,this.target.start.y=b.line.start.y-(b.line.start.y-b.line.end.y)*c,c>=1&&(b.draw=!1))}},onComplete:function(){this.target.reset()}})}})}},stop:function(){this.canvas.fadeOut("fast",$.proxy(function(){"undefined"!=typeof this.rafIndex&&(window.cancelAnimationFrame(this.rafIndex),this.rafIndex=void 0,clearInterval(this.tronLineTimer))},this))}},ib.Dash=function(a,b,c,d,e,f){this.width=a,this.height=b,this.x=c,this.y=d,this.minDashSpeed=e,this.maxDashSpeed=f,this.goLeft=!1,this.speed=0},ib.Dash.prototype={init:function(){this.resetSpeed()},resetSpeed:function(){this.speed=Math.floor(Math.random()*this.maxDashSpeed)+this.minDashSpeed},update:function(a){this.x>=a+this.width&&(this.resetSpeed(),this.goLeft=!0),this.x<=-this.width&&(this.resetSpeed(),this.goLeft=!1),this.goLeft?this.x-=this.speed:this.x+=this.speed}},ib.TronLine=function(a,b){this.canvasWidth=a,this.canvasHeight=b,this.progress=0,this.tailProgress=0,this.segments=[],this.start={}},ib.TronLine.prototype={init:function(){this.reset()},reset:function(){var a=this.canvasWidth,b=this.canvasHeight/2-10+20*Math.random(),c=Math.random()>.5?a-this.canvasWidth/4-20+20*Math.random():this.canvasWidth/4-20+20*Math.random(),d=b+(Math.random()>.5?-(10*Math.random())-5:10*Math.random()+5),e=0;this.progress=0,this.tailProgress=0,this.segments=[{line:{start:{x:a,y:b},end:{x:c,y:b}}},{line:{start:{x:c,y:b},end:{x:c,y:d}}},{line:{start:{x:c,y:d},end:{x:e,y:d}}}],this.start={x:this.segments[0].line.start.x,y:this.segments[0].line.start.y};for(var f=0,g=0;g<this.segments.length;g++){var h=this.segments[g];h.draw=!0;var i=h.line.start.x-h.line.end.x;h.length=Math.abs(i||h.line.start.y-h.line.end.y),f+=h.length}for(var j=0,g=0;g<this.segments.length;g++){var h=this.segments[g];h.threshold={start:j,end:j+h.length/f},j=h.threshold.end}}};var ib=ib||{};ib.Events={BG_VIDEO_DID_RESIZE:"ib::BG_VIDEO_DID_RESIZE",FACT_CHOSEN:"ib::ib.Events.FACT_CHOSEN",PAGE_DID_BECOME_VISIBLE:"ib::PAGE_DID_BECOME_VISIBLE",INTRO_LOGO_REVEALED:"ib::INTRO_LOGO_REVEALED",PRELOADER_DID_HIDE:"ib::PRELOADER_DID_HIDE",PRELOAD_READY_FOR_DOTS:"ib::PRELOAD_READY_FOR_DOTS",NETWORK_DID_BEGIN:"ib::NETWORK_DID_BEGIN",NETWORK_DID_ZOOM_IN:"ib::NETWORK_DID_ZOOM_IN",NETWORK_DID_ZOOM_OUT:"ib::NETWORK_DID_ZOOM_OUT",PRELOADER_COMPLETE:"ib::PRELOADER_COMPLETE",STORY_SCROLL_DID_BEGIN:"ib::STORY_SCROLL_DID_BEGIN",STORY_SCROLL_DID_END:"ib::STORY_SCROLL_DID_END",QUESTION_ANSWERED:"ib::QUESTION_ANSWERED",NEXT_QUESTION_REQUESTED:"ib::NEXT_QUESTION_REQUESTED",NAV_STATE_DID_CHANGE:"ib::NAV_STATE_DID_CHANGE",PAGE_DID_CHANGE:"ib::PAGE_DID_CHANGE",CHAPTER_DID_CHANGE:"ib::CHAPTER_DID_CHANGE",SCROLLER_DID_SCROLL:"ib::SCROLLER_DID_SCROLL",SCROLLBAR_DID_SCROLL:"ib::SCROLLBAR_DID_SCROLL",ASSETS_LOADED:"ib::ASSETS_LOADED",PAUSE_SCROLLING:"ib::PAUSE_SCROLLING",RESUME_SCROLLING:"ib::RESUME_SCROLLING",VO_PROGRESS_UPDATE:"ib::VO_PROGRESS_UPDATE",VO_PLAY:"ib::VO_PLAY",VO_STOP:"ib::VO_STOP",SHOW_OVERLAY_LOGO:"ib::SHOW_OVERLAY_LOGO",HIDE_OVERLAY_LOGO:"ib::HIDE_OVERLAY_LOGO"};var ib=ib||{};ib.Geom=ib.Geom||{},ib.Geom.Point=function(a,b){null===a&&(a=0),null===b&&(b=0),this.x=a,this.y=b},ib.Geom.Point.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},ib.Geom.Point.polar=function(a,b){var c=b*Math.PI/180,d=a*Math.sin(c),e=a*Math.cos(c);return new ib.Geom.Point(d,e)},ib.Geom.Point.prototype={init:function(){},clone:function(){var a=new ib.Geom.Point(this.x,this.y);return a},lerp:function(a,b,c){return a+c*(b-a)}};var ib=ib||{};ib.Global=function(){function a(){b(),h=new Motio(e[0],{fps:60,frames:14,width:124,height:66,vertical:!0}),c.on("mouseenter",function(){h.to(0),g.stop().fadeOut(250,"easeOutCubic")}),c.on("mouseleave",function(){f.show(),h.toEnd(),g.fadeIn(250,"easeOutCubic")}),h.on("frame",function(){0===h.frame?(f.hide(),d.addClass("animate")):d.removeClass("animate")}),$(ib).on(ib.Events.SHOW_OVERLAY_LOGO,function(){f.show(),g.fadeIn(250,"easeOutCubic"),i&&(i=!1,h.to(0,!0),h.toEnd()),c.css("pointer-events","auto")}),$(ib).on(ib.Events.HIDE_OVERLAY_LOGO,function(){i=!0,f.fadeOut(250,"easeOutCubic"),g.stop().fadeOut(250,"easeOutCubic"),c.css("pointer-events","none")})}function b(){$(".block-reveal.blue-border").on("click",function(){window.open("http://store.ubiworkshop.com/watch-dogs/t-shirts/e3-blume-t-shirt-men/","_blank")})}var c=$("#header .blume-logo-wrapper"),d=c.find("a"),e=$(".blume-logo",c),f=$(".blume-logo-mask",c),g=c.find("figcaption"),h=null,i=!0;return{init:a}}();var ib=ib||{};ib.Resizer=function(){function a(){Modernizr.backgroundsize||($(window).on("resize",$.throttle(1e3,d)),$(ib).on(ib.Events.ASSETS_LOADED,c))}function b(a){var b,c,e,f;$(".aspect-fill-centered",a).add(".aspect-fill-bottom-centered",a).each(function(){c=$(this),0===$("img",c).length&&(b=c.css("background-image"),c.css("background-image","none"),b=b.replace(/^url\(["']?/,"").replace(/["']?\)$/,""),f=ib.Preloader.ratioForImage(b),e=$('<img src="'+b+'" data-ratio="'+f+'" data-original-url="'+b+'">'),c.addClass("backgroundsize-fallback-wrap"),c.append(e))}),d()}function c(){var a,b,c;$(".backgroundsize-fallback-wrap img").each(function(){b=$(this),0===$("img",b).length&&(a=b.data("original-url"),c=ib.Preloader.ratioForImage(a),$("img",b).data("ratio",c))}),d()}function d(){var a,b,c,d,e,f,g,h,i,j;$(".backgroundsize-fallback-wrap").each(function(){a=$(this),a.hasClass("force-full-size")?(i=ib.ScrollController.width(),j=ib.ScrollController.height()):(i=a.width(),j=a.height()),b=$("img",a),d=i/Math.max(1,j),(0===d||d>500)&&(d=ib.ScrollController.width()/ib.ScrollController.height()),c=b.data("ratio"),d>c?(e=i,f=e/c):(f=j,e=f*c),g=Math.round((e-i)/2),h=Math.round((f-j)/2),b.css({height:Math.round(f),"margin-left":Math.min(0,-g),"margin-top":Math.min(0,-h),width:Math.round(e)})})}return{init:a,createFallbackMarkup:b}}(),ib.Sharing=function(){function a(){$("body").on("click",".facebook",c),$("body").on("click",".twitter",d),$("body").on("click",".gplus",e),$(".sharing li").on("mouseenter",b);var a=ib.ChapterData["chapter-4"].getText().facts.crime;g=f+a.image;var i=ib.ChapterData["chapter-4"].getText().shareCopy;h=i[Math.floor(Math.random()*i.length)],$(ib).on(ib.Events.FACT_CHOSEN,function(a,b){var c=ib.ChapterData["chapter-4"].getText().facts[b.fact];g=f+c.image})}function b(){ib.SoundController.playSfx("wd-ctos_connect_share-rollover-01")}function c(a){a.preventDefault();var b="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(f);window.open(b,"","width=700,height=400,left=300,top=200,resizable=yes,scrollbars=no,directories=no,titlebar=no,toolbar=no,location=yes,status=no,menubar=no")}function d(a){a.preventDefault();var b="https://twitter.com/intent/tweet?text="+h+" "+encodeURIComponent(f);window.open(b,"","width=700,height=400,left=300,top=200,resizable=yes,scrollbars=no,directories=no,titlebar=no,toolbar=no,location=yes,status=no,menubar=no")}function e(a){a.preventDefault();var b="https://plus.google.com/share?url="+encodeURIComponent(f);window.open(b,"","width=700,height=400,left=300,top=200,resizable=yes,scrollbars=no,directories=no,titlebar=no,toolbar=no,location=yes,status=no,menubar=no")}var f=window.location.origin;window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var g="",h="";return{init:a}}();var ib=ib||{};ib.StoryAnimationHandler=function(){function a(a,c){var d=b(a,c);a.$el.css(d)}function b(a,b){var f,g,h,i=c(a,b),j={};for(var k in i.properties){f=i.properties[k];var l=i.end-i.start,m=Math.max(0,Math.min(l,b-i.start)),n=f.startValue,o=f.endValue-f.startValue;h=$.easing[f.easing]?$.easing[f.easing](null,m,n,o,l):o*m/l+n,h=d(f,h),g=e(f.name,f.skipUpgrade),j[g]=h}return j}function c(a,b){var c=a.steps,d=c[0];for(var e in c){if(c[e].start>=b)break;d=c[e],d.remove&&b>=d.end&&$(a.target).remove()}return d}function d(a,b){return Modernizr.csstransforms3d&&!a.skipUpgrade?"left"===a.name?(b="%"===a.unit?Math.round(b*ib.ScrollController.width()/100):Math.round(b),b="translate3d("+b+"px,0,0)"):"top"===a.name?(b="%"===a.unit?Math.round(b*ib.ScrollController.height()/100):Math.round(b),b="translate3d(0,"+b+"px,0)"):("px"===a.unit&&(b=Math.round(b)),b+=a.unit):("px"===a.unit&&(b=Math.round(b)),b+=a.unit),b}function e(a,b){return!Modernizr.csstransforms3d||"left"!==a&&"top"!==a||b||(a="transform"),a}return{updateElements:a,cssForElement:b}}();var ib=ib||{};ib.StoryImageSequenceHandler=function(){function a(){for(var a in g){var b=g[a];b.canvas.width=b.$canvas.width(),b.canvas.height=b.$canvas.height()}}function b(a){g.push({canvas:a[0],$canvas:a})}function c(a,b){var c=f(a.steps,b),e=c.end-c.start,g=Math.max(0,Math.min(e,b-c.start)),h=c.startFrameNum,i=c.numFrames-1,j=Math.round(i*g/e+h),k=c.getFilename(j);a.currentFrameNum!=j&&(a.currentFrameNum=j,Modernizr.canvas?d(k,a):Modernizr.backgroundsize?a.$el.css("background-image","url("+k+")"):$("img",a.$el)[0].src=k)}function d(a,b){var c=ib.Preloader.getCachedAsset(a);if(c){var d=b.$el[0],e=b.$el.width(),f=b.$el.height();d.width=e,d.height=f;var g,h,i,j,k=e/f,l=c.width/c.height;k>l?(g=e,h=g/l):(h=f,g=h*l),i=Math.round((g-e)/2),j=Math.round((h-f)/2);var m=d.getContext("2d");m.drawImage(c,Math.min(0,-i),Math.min(0,-j),Math.round(g),Math.round(h))}else b.currentFrameNum=null}function e(a,b){var c=f(a.steps,b),d=c.end-c.start,e=Math.max(0,Math.min(d,b-c.start)),g=c.startFrameNum,h=c.numFrames-1;return Math.round(h*e/d+g)}function f(a,b){var c=a[0];for(var d in a){if(a[d].start>=b)break;c=a[d]}return c}var g=[];return $(window).on("resize",$.throttle(1e3,a)),{updateSequence:c,getCurrentFrameNum:e,registerCanvasVideo:b}}();var ib=ib||{};ib.History=function(){function a(){$(ib).on(ib.Events.PAGE_DID_CHANGE,c),b()}function b(){d()}function c(){ib.Navigation.getCurrentPage()}function d(){return e(0)}function e(a){var b,c=null,d=window.location.hash;if(d=d.replace(/^#!/,"").replace(/\/$/,""),d&&d.length>0&&(b=d.split("/"),b.length>a+1&&(c=b[a+1])),!c){var e=window.location.pathname;e=e.replace(/\/$/,""),e&&e.length>0&&(b=e.split("/"),b.length>a+1&&(c=b[a+1]))}return c}return{init:a}}();var ib=ib||{};ib.Main=function(){function a(){return initialChapterIndex}function b(){return minChapterIndex}function c(){(d()||ib.Config.FAKE_TABLET_MODE)&&e(),ib.Resizer.init(),ib.VideoController.init(),ib.ComponentLoader.init(),ib.Navigation.init(),ib.StoryController.init(),ib.ScrollController.init(),ib.ScrollController.populateSections(),ib.Sharing.init(),ib.Preloader.init(),ib.Global.init()}function d(){return navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)}function e(){initialChapterIndex=1,minChapterIndex=1,$("html").addClass("is-tablet-trimmed"),$(".audio-levels-bar").remove(),$("#city-video").remove(),$("#header nav li:lt(1)").hide(),ib.ChapterData["chapter-1"].totalScrollValue=0,ib.ChapterData["chapter-1"].storyKeyframes=[],ib.ChapterData["chapter-1"].sfxTriggers=[];for(var a in ib.ChapterData["chapter-1"].animationComponents){var b=ib.ChapterData["chapter-1"].animationComponents[a];".network-canvas"===b.target&&(b.opts.cctvCanvasTarget=null,b.opts.cctvContextTarget=null,b.opts.CCTVOpts=null)}ib.ChapterData["chapter-2"].storyKeyframes=[{frame:.599,duration:2e3},{frame:.915,duration:21e3},{frame:.9999,duration:2e3,continueOnComplete:!0}],ib.ChapterData["chapter-2"].sfxTriggers=[],$("#chapter-2").on("click",".testimonials-click-target-tablet",ib.ScrollController.forceNextKeyframe)}return initialChapterIndex=0,minChapterIndex=0,{init:c,isNonDesktop:d,getMinChapterIndex:b,getInitialChapterIndex:a}}();var ib=ib||{};ib.Navigation=function(){function a(){g=ib.ComponentLoader.findInstanceById("header"),$(ib).on(ib.Events.CHAPTER_DID_CHANGE,b)}function b(){i=h.CHAPTERS[ib.ScrollController.getCurrentChapterIndex()],$(ib).trigger(ib.Events.PAGE_DID_CHANGE)}function c(){return i}function d(a){if(f(a)){i=a;var b=$.inArray(a,h.CHAPTERS);ib.ScrollController.jumpToChapter(b,!1)}}function e(a){return isFormPage(a)||f(a)||isVideo(a)}function f(a){return-1!==$.inArray(a,h.CHAPTERS)}var g=null,h={CHAPTERS:["believe","discover","imagine","connect"]},i=h.CHAPTERS[0];return{init:a,isValidPage:e,isChapterPage:f,getCurrentPage:c,handleLandingPage:d}}();var ib=ib||{};ib.Preloader=function(){function a(){$(ib).on(ib.Events.INTRO_LOGO_REVEALED,b),ib.Config.SKIP_INTRO&&(F=1,$(".watch",p).on("click",o).addClass("complete")),$("body").fadeIn(500,function(){ib.isIE?setTimeout(function(){$(ib).trigger(ib.Events.PAGE_DID_BECOME_VISIBLE)},2e3):$(ib).trigger(ib.Events.PAGE_DID_BECOME_VISIBLE)}),TweenMax.to($("#intro-mask .blue-border"),0,{height:0,delay:.5,ease:Quart.easeOut}),animateQuestion=new ib.Oomph($(".preloader-content p"),{animationDelay:10,animationDuration:40}),animateQuestion.init()}function b(){q=$("#intro-mask-wrap"),r=$(".load-border",q),s=$(".preloader-content",q),$("p",s).fadeIn(600,"easeOutQuad"),$(".watch",s).delay(200).fadeIn(800,"easeOutQuad",e);var a=$(".watch",q),b=$(".default",a);t=$(".loaded",a),loadingTextAnimation=new ib.Oomph(b,{animationStartDelay:1300,animationDelay:60,animationDuration:1500,scramble:!0}),loadingTextAnimation.init(),watchTextAnimation=new ib.Oomph(t,{animationStartDelay:100,animationDelay:60,animationDuration:1500,scramble:!0}),watchTextAnimation.init(),$("#preloader .load-header").show(),TweenMax.to($("#preloader .load-header"),0,{y:-140}),TweenMax.to($("#preloader .load-header"),1,{y:0,delay:1,ease:Quart.easeOut}),$("#header").show(),TweenMax.to($("#header"),0,{y:-200}),TweenMax.to($("#header"),1,{y:0,delay:1,ease:Quart.easeOut}),TweenMax.to($("#intro-mask .inner"),1,{y:20,delay:1,ease:Quart.easeOut}),TweenMax.to($("#intro-mask .blue-border"),0,{height:0,delay:1,ease:Quart.easeOut}),TweenMax.to($("#intro-mask .blue-border"),1,{height:45,delay:1,ease:Quart.easeOut,onComplete:$.proxy(c,this)}),setTimeout(function(){ib.SoundController.playSfx("wd-ctos_intro_ctos-black-bar-slides-down-01")},1e3),loadingTextAnimation.animate(),animateQuestion.animate(),ib.SoundController.playSfx("wd-ctos_intro_sections-text-animates-in-01")}function c(){$(ib).trigger(ib.Events.PRELOAD_READY_FOR_DOTS)}function d(){u.push(ib.Config.assetBasePath+"/images/chapter-1/smart-city.jpg"),u.push(ib.Config.assetBasePath+"/images/sprites.png"),u.push(ib.Config.assetBasePath+"/images/icon-sprites.png"),u.push(ib.Config.assetBasePath+"/images/chapter-2/power-glow.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/water-glow.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/security-glow.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/transit-glow.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/sewage-glow.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-1.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-2.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-3.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-4.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-5.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-6.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-7.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/testimonial-8.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-4/crime-fact.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-4/map.png"),u.push(ib.Config.assetBasePath+"/images/chapter-2/building-marker.png"),u.push(ib.Config.assetBasePath+"/images/chapter-2/chicago-outline.png"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_4businesses.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_6streets.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_7parks.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_5citycenters.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_4businesses.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_1populous.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_2infrastructure.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_3controlcenters.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_8reducedenergyoutput.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_9reducedmaintenanceresponse.jpg"),u.push(ib.Config.assetBasePath+"/images/chapter-2/CTOS_Discover_10reducedcityspending.jpg")}function e(){if(!D){D=!0,C=requestAnimationFrame(k),d(),y=u.length;for(var a in u){var b=new Image;b.onerror=b.onload=f,b.src=u[a],v[u[a]]=b}}}function f(){x++,x==y&&(g(),$(ib).trigger(ib.Events.ASSETS_LOADED))}function g(){var a;for(var b in v)a=v[b],w[a.src]={width:a.width,height:a.height,ratio:a.width/a.height}}function h(a){var b=1;return w[a]&&(b=w[a].ratio||null),b}function i(a){return"undefined"!=typeof v[a]}function j(a){return v[a]}function k(){C=requestAnimationFrame(k);var a=x/y;if(0!==a&&(z=a),.01>Math.abs(z-A)?A!=z&&(A=z,n()):(A+=Math.min(F,B*(z-A)),n()),A>=1){cancelAnimationFrame(C),$(ib).trigger(ib.Events.PRELOADER_COMPLETE);var b=$(".watch",q);b.hasClass("complete")||(ib.Config.SKIP_INTRO&&o(),b.on("touchstart click",o).addClass("complete"),$(".default",b).fadeOut(250,"easeOutCubic",function(){watchTextAnimation.animate(),ib.SoundController.playSfx("wd-ctos_intro_loading-animates-to-learn-more-01")}),TweenMax.to(r,.35,{height:5,ease:Quad.easeInOut}),$("#intro-mask .blue-border").on("mouseenter",l),$("#intro-mask .blue-border").on("mouseleave",m))}}function l(){ib.SoundController.playSfx("wd-ctos_intro_learn-more-rollover-01"),TweenMax.to(r,.5,{height:45,ease:Expo.easeInOut}),TweenMax.to(t,.1,{top:2,ease:Expo.easeInOut})}function m(){ib.SoundController.playSfx("wd-ctos_intro_learn-more-rolloff-01"),TweenMax.to(r,.5,{height:5,ease:Expo.easeInOut}),TweenMax.to(t,.1,{top:0,ease:Expo.easeInOut})}function n(){r.css("right",100*(1-A)+"%")}function o(a){E||(E=!0,$("#intro-mask .blue-border").off("mouseenter",l),$("#intro-mask .blue-border").off("mouseleave",m),ib.Main.isNonDesktop()&&setTimeout(function(){$(ib).trigger(ib.Events.NETWORK_DID_ZOOM_OUT)},1e3),ib.SoundController.playSfx("wd-ctos_intro_learn-more-click-fade-out-01"),s.add(p).delay(100).fadeOut(400,"easeOutCubic",function(){"function"==typeof a&&a(),ib.History.init(),$(ib).trigger(ib.Events.PRELOADER_DID_HIDE),$(ib).trigger(ib.Events.RESUME_SCROLLING)}))}var p=$("#preloader"),q=null,r=null,s=null,t=null,u=[],v={},w={},x=0,y=0,z=0,A=0,B=.2,C=null,D=!1,E=!1,F=.01;return{init:a,assetHasBeenLoaded:i,getCachedAsset:j,ratioForImage:h}}();var ib=ib||{};ib.ScrollController=function(){function a(){E=ib.ComponentLoader.findInstancesByType("ib.Chapter"),l(),b(),D.on("resize",f),$(document).on("mousewheel",q),$(ib).on(ib.Events.PAUSE_SCROLLING,k),$(ib).on(ib.Events.RESUME_SCROLLING,j),$(ib).on(ib.Events.SCROLLBAR_DID_SCROLL,t),$(document).on("touchstart",n),requestAnimationFrame(u),e(),c(),$(ib).on(ib.Events.PRELOADER_DID_HIDE,d)}function b(){for(var a in E){var b=E[a].story.storyKeyframes;for(var c in b)b[c].chapterIndex=a,b[c].scrollValue=b[c].frame*E[a].totalScrollValue+E[a].startingScrollValue,b[c].globalIndex=T.length,T.push($.extend(!0,{},b[c]))}}function c(){var a=T[0];ib.StoryController.triggerKeyframe(a,0)}function d(){var a=T[ib.Config.START_KEYFRAME_INDEX],b=ib.Config.START_KEYFRAME_DURATION||a.duration;ib.StoryController.triggerKeyframe(a,b)}function e(){$("body").keydown(function(a){K||(40===a.keyCode?r(-2*V):32===a.keyCode?r(-2*V):38===a.keyCode&&r(2*V))})}function f(){M=D.height()-$("#header").height(),N=D.width(),$(".force-full-size",C).css({height:M,width:N}),K||w(!0)}function g(){return M}function h(){return N}function i(){return F}function j(){L=Math.max(0,L-1),0===L&&(K=!1,w(!0))}function k(){L++,K=!0}function l(){J=0;for(var a in E)E[a].startingScrollValue=J,J+=E[a].totalScrollValue}function m(){for(var a in E)E[a].setContent();f()}function n(a){K||R||(W=a.originalEvent.touches[0].clientY,X=W,$(document).on("touchmove",o).on("touchend",p))}function o(a){return X=a.originalEvent.touches[0].clientY,!1}function p(){$(document).off("touchmove",o).off("touchend",p),W-X>Y?r(-2*V):-Y>W-X&&r(2*V)}function q(a,b){if(!K&&!R){var c=G*b;r(c)}}function r(a){if(!ib.StoryController.onCooldown()){S-=a;var b;if(S>U)b=s(),S=0,b&&!ib.StoryController.hasControl()&&ib.StoryController.triggerKeyframe(b,b.duration);else if(-V>S){var c=F;c=ib.StoryController.hasControl()&&!ib.StoryController.justBegan()||!ib.StoryController.hasControl()&&2>F?F:Math.max(ib.Main.getMinChapterIndex(),F-1),x(c,!1),S=0}}}function s(){var a=null;for(var b in T){if(a=T[b],b==T.length-1&&Math.abs(I-a.scrollValue)<100)return;if(a.scrollValue>I)break}return a}function t(a,b){K||(I=b.progress*J,I=Math.max(0,Math.min(J,I)))}function u(){requestAnimationFrame(u),K||H!=I&&(H=I,w(),v())}function v(){$(ib).trigger(ib.Events.SCROLLER_DID_SCROLL,{progress:H/J})}function w(a){for(var b,c,d,e=E.length,f=0;e>f;f++)b=E[f].startingScrollValue,c=E[f].totalScrollValue,d=Math.min(1,Math.max(0,H-b)/c),E[f].setProgress(d,a),H>=b&&b+c>H&&F!=f&&(F=f,$(ib).trigger(ib.Events.CHAPTER_DID_CHANGE,{index:F}),$(".active-chapter",C).removeClass("active-chapter"),E[f].$context.addClass("active-chapter"))}function x(a,b,c){R=!0,ib.StoryController.resignControl(),clearInterval(Q);var d=E[a],e=d.startingScrollValue;if(a==ib.Main.getInitialChapterIndex()&&(e=T[0].scrollValue),c="undefined"==typeof c?O:c,b){var f=0,g=(e-I)*(P/c);Q=setInterval(function(){return f+=P,f>c?(clearInterval(Q),I=e,R=!1,r(-2*U),void 0):(I+=g,void 0)},P)}else H=e,I=H+=a==ib.Main.getInitialChapterIndex()?.1:1,Q=setInterval(function(){var a=e-I;15>a&&(clearInterval(Q),R=!1,r(-2*U)),I+=.15*a},P)}function y(){return R===!0}function z(a,b,c){clearInterval(Q),b=0===b?1:b,b="undefined"==typeof b?O:b;var d=(new Date).getTime(),e=I;Q=setInterval(function(){var f=(new Date).getTime(),g=f-d;if(g>b){if(I=a,H==I)return clearInterval(Q),"function"==typeof c&&c(),void 0}else I=e+g/b*(a-e)},P)}function A(){r(-2*U)}function B(){r(2*U)}var C=$("#chapters"),D=$(window),E=[],F=0,G=27,H=0,I=0,J=0,K=!0,L=0,M=0,N=0,O=1e3,P=1e3/30,Q=null,R=!1,S=0,T=[],U=100,V=250,W=null,X=null,Y=150;return{init:a,height:g,width:h,getNextKeyframe:s,forceNextKeyframe:A,forcePreviousKeyframe:B,populateSections:m,jumpToChapter:x,getCurrentChapterIndex:i,scrollToValue:z,isJumpingToChapter:y}}();var ib=ib||{};ib.Scrollbar=function(){function a(){k.on("mousedown",c),$(ib).on(ib.Events.SCROLLER_DID_SCROLL,i),m.on("resize",b),b()}function b(){j.css("height",m.height()-5),o=j.height(),p=j.position().top,q=k.outerHeight(!0),i(null,{progress:t})}function c(a){s=a.offsetY,"undefined"==typeof s&&(s=a.pageY-$(a.target).offset().top),n=a.clientY-5-s,l.on("mousemove",f).on("mouseup",g),d(),a.preventDefault()}function d(){r=requestAnimationFrame(h)}function e(){cancelAnimationFrame(r)}function f(a){n=a.clientY-5-s}function g(){l.off("mousemove",f).off("mouseup",g),$(ib).on(ib.Events.SCROLLER_DID_SCROLL,i),e()}function h(){r=requestAnimationFrame(h);var a=n/(o-q);$(ib).trigger(ib.Events.SCROLLBAR_DID_SCROLL,{progress:a})}function i(a,b){var c=b.progress*(o-q);k.css("top",c+"px"),t=b.progress}var j=$("#scrollbar"),k=$("> div",j),l=$(document),m=$(window),n=0,o=0,p=0,q=0,r="",s=0,t=0;return{init:a}}();var ib=ib||{};ib.SoundController=function(){function a(a){(ib.Config.MUTE_AUDIO||ib.Config.MUTE_AMBIENT_AUDIO)&&j[a].setVolume(0),j[a].looping=!0,c(a)}function b(a){j[a].looping=!1}function c(a){j[a].looping&&j[a].play({onfinish:function(){c(a)}})}function d(a,b){j[a]&&(ib.Config.MUTE_AUDIO&&j[a].setVolume(0),"undefined"==typeof b?j[a].play():j[a].play({from:0,to:b}))}function e(a){j[a]&&j[a].stop()}function f(){return i}function g(a){n=!1,clearTimeout(m),ib.Config.MUTE_AUDIO&&i.setVolume(0),"undefined"==typeof a||ib.Config.DISABLE_AUDIO||(m=setTimeout(function(){n||(soundManager.mute(k),i.play({from:a.startValue-.01,to:a.endValue,whileplaying:function(){var b=this.position/this.duration;this.muted&&this.position>=a.startValue+.01&&soundManager.unmute(k),$(ib).trigger(ib.Events.VO_PROGRESS_UPDATE,{progress:b})},onplay:function(){$(ib).trigger(ib.Events.VO_PLAY)},onstop:function(){$(ib).trigger(ib.Events.VO_STOP)}}))},a.delay||0))}function h(){n=!0,i&&i.stop()}var i=null,j={},k="scratch-vo",l="wd-ctos_all_music-ambient-loop-01",m=null,n=!1;return soundManager.defaultOptions={autoLoad:!0},soundManager.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1}},soundManager.setup({url:"swf/index.html",preferFlash:ib.isIE?!0:!1,debugMode:!1,onready:function(){i=soundManager.createSound({id:k,url:[{type:"audio/mp3",url:ib.Config.assetBasePath+"/audio/vo.mp3"},{type:"audio/ogg",url:ib.Config.assetBasePath+"/audio/vo.ogg"}]});for(var b in ib.sfx)j[ib.sfx[b]]=soundManager.createSound({id:ib.sfx[b],autoLoad:!0,url:[{type:"audio/mp3",url:ib.Config.assetBasePath+"/audio/"+ib.sfx[b]+".mp3"},{type:"audio/ogg",url:ib.Config.assetBasePath+"/audio/"+ib.sfx[b]+".ogg"}],onload:function(){ib.sfx[b]==l&&a(l)}})},ontimeout:function(a){console.log("sound manager timed out.");for(var b in a)console.log(b,a[b])}}),{startLoop:a,stopLoop:b,playAudio:g,stop:h,getVo:f,playSfx:d,stopSfx:e}}();var ib=ib||{};ib.StoryController=function(){function a(){}function b(){return null!==j}function c(){return i===!0}function d(){return null!==k}function e(a,c,d){ib.ScrollController.isJumpingToChapter()||b()||(j=setTimeout(g,l),clearTimeout(k),k=setTimeout(h,2*l),i=!0,$(ib).trigger(ib.Events.STORY_SCROLL_DID_BEGIN),ib.ScrollController.scrollToValue(a.scrollValue,c,function(){if("function"==typeof d&&d(),a.continueOnComplete){var b=ib.ScrollController.getNextKeyframe();e(b,b.duration)}else ib.StoryController.resignControl()}),ib.SoundController.stop(),ib.VideoController.stop(),c>200&&(ib.SoundController.playAudio(a.audio),ib.VideoController.play(a.video)))}function f(){i=!1,$(ib).trigger(ib.Events.STORY_SCROLL_DID_END)}function g(){j=null}function h(){k=null}var i=!1,j=null,k=null,l=400;return{init:a,hasControl:c,onCooldown:b,justBegan:d,resignControl:f,triggerKeyframe:e}}();var ib=ib||{};ib.SurveyController=function(a,b){this.$context=a,this.$questionNav=$(".question-numbers",a),this.$wrap=$(".q-and-a",a),this.$ask=$(".ask",this.$wrap),this.$question=$(".question",this.$wrap),this.$confirm=$(".confirm",this.$wrap),this.$answerHeadline=$(".headline",this.$wrap),this.$answerBody=$(".body",this.$wrap),this.$topic=$(".topic",a),this.$ui=$(".question-ui-wrap",a),this.$header=$("#header"),this.uiComponent=null,this.surveyData=[],this.questionIndex=0,this.opts=$.extend(!0,{},{start:0,end:1,askAnimation:{animationStartDelay:50,animationDelay:20,animationDuration:30,typed:!0,before:{left:0}},questionAnimation:{animationStartDelay:300,animationDelay:20,animationDuration:30,typed:!0,before:{left:0}},confirmAnimation:{animationStartDelay:50,animationDelay:20,animationDuration:30,typed:!0,before:{left:0}},answerHeadlineAnimation:{animationStartDelay:400,animationDelay:20,animationDuration:30,typed:!0,before:{left:0}},answerAnimation:{animationStartDelay:900,animationDelay:20,animationDuration:30,typed:!0,before:{left:0}},surveyData:[]},b||a.data())},ib.SurveyController.prototype={init:function(){$("li",this.$questionNav).on("click",$.proxy(this.onQuestionNavClick,this)).on("mouseenter",$.proxy(this.onQuestionNavOver,this))},updateProgress:function(a){a>=this.opts.start&&a<=this.opts.end&&!this.active?(this.active=!0,this.setQuestion(this.questionIndex)):this.active&&(a<this.opts.start||a>this.opts.end)&&(this.active=!1,this.unsetQuestion())},setQuestion:function(a){a=Math.max(0,a),a=Math.min(this.opts.surveyData.length-1,a),this.questionIndex=a,this.unsetQuestion(),$(".question-"+a,this.$questionNav).addClass("active");var b=this.opts.surveyData[this.questionIndex];this.$topic.html(b.topic),this.$ask.html(b.ask),this.$question.html(b.question),this.$confirm.html(b.answer.confirm),this.$answerHeadline.html(b.answer.headline),this.$answerBody.html(b.answer.body);var c=ib.ComponentLoader.registeredClasses[b.ui.component],d=$(ib.Templates[c.template](b.ui.opts));
if(this.uiComponent=new c(d,b.ui.opts),this.$ui.append(d),this.uiComponent.init(),a==this.opts.surveyData.length-1?setTimeout(function(){ib.SoundController.playSfx("wd-ctos_all_text",12*b.question.length)},200):ib.SoundController.playSfx("wd-ctos_all_text",20*b.question.length),"&nbsp;"!==b.ask){var e=new ib.Oomph(this.$ask,this.opts.askAnimation);e.init(),e.animate()}var f=new ib.Oomph(this.$question,this.opts.questionAnimation);f.init(),f.animate();var g=new ib.Oomph(this.$confirm,this.opts.confirmAnimation);g.init();var h=new ib.Oomph(this.$answerHeadline,this.opts.answerHeadlineAnimation);h.init();var i=new ib.Oomph(this.$answerBody,this.opts.answerAnimation);i.init(),this.uiComponent.$context.on(ib.Events.QUESTION_ANSWERED,$.proxy(this.onQuestionAnswered,this,g,h,i)),this.uiComponent.$context.on(ib.Events.NEXT_QUESTION_REQUESTED,$.proxy(this.showNextQuestion,this))},unsetQuestion:function(){this.$context.removeClass("ended"),this.$context.addClass("dark"),this.$header.addClass("light"),$(".active",this.$questionNav).removeClass("active"),this.$topic.html("&nbsp;"),this.$ask.empty(),this.$question.empty(),this.$confirm.empty(),this.$answerHeadline.empty(),this.$answerBody.empty(),this.uiComponent=null,this.$ui.empty()},onQuestionNavClick:function(a){this.setQuestion($(a.currentTarget).index())},onQuestionNavOver:function(){ib.SoundController.playSfx("wd-ctos_imagine_braile-button-rollover-01")},onQuestionAnswered:function(){for(var a in arguments){var b=arguments[a];"animate"in b&&(b.animate(),ib.SoundController.playSfx("wd-ctos_all_text",Math.max(1100,20*this.opts.surveyData[this.questionIndex].answer.headline.length)))}this.$context.removeClass("dark"),this.$header.removeClass("light")},showNextQuestion:function(){if(this.questionIndex==this.opts.surveyData.length-1){ib.ScrollController.forceNextKeyframe();var a=this;setTimeout(function(){a.$header.addClass("light"),a.$context.addClass("dark"),a.$context.addClass("ended")},500)}else this.setQuestion(this.questionIndex+1)}},ib.ComponentLoader.register("ib.SurveyController",ib.SurveyController);var ib=ib||{};ib.VideoController=function(){function a(){i.mediaelementplayer({enableKeyboard:!1,loop:!1,videoWidth:"100%",videoHeight:"100%",pauseOtherPlayers:!1,success:function(a,b,d){j=d,k=$(a),c()}})}function b(){var a,b,c,d,e=16/9,f=ib.ScrollController.height(),g=ib.ScrollController.width(),i=g/f;i>e?(a=g,b=a/e):(b=f,a=b*e),c=Math.round((a-g)/2),d=Math.round((b-f)/2);var j={"margin-left":Math.min(0,-c),"margin-top":Math.min(0,-d),height:Math.round(b),width:Math.round(a)};h.css(j),$(ib).trigger(ib.Events.BG_VIDEO_DID_RESIZE,{css:j});var k=$(".city-highlights-wrap");k.length&&k.css(j)}function c(){k.on("canplaythrough",function(){l=!0}),k.on("ended",d),b(),$(ib).on(ib.Events.PAGE_DID_BECOME_VISIBLE,b),$(window).on("resize",$.throttle(1e3,b))}function d(){j.pause()}function e(a){return"undefined"==typeof a?(j&&j.setCurrentTime(0),void 0):((l||!Modernizr.video)&&(clearTimeout(n),n=setTimeout(function(){b(),o=a.endValue/1e3,j.setCurrentTime(a.startValue/1e3),j.play(),clearInterval(m),m=setInterval(g,10)},a.delay||0)),void 0)}function f(){clearTimeout(n),j&&j.pause()}function g(){k[0].currentTime>=o&&(clearInterval(m),f())}var h=$("#city-video"),i=$("video",h),j=null,k=null,l=!1,m=null,n=null,o=null;return{init:a,stop:f,play:e}}();var ib=ib||{};ib.AnimationComponentExample=function(a,b){this.$context=a,this.progress=null,this.opts=$.extend({start:0,end:1},b||a.data())},ib.AnimationComponentExample.prototype={init:function(){console.log("component AnimationComponentExample initialized")},updateProgress:function(a){var b=this.opts.end-this.opts.start,c=Math.max(0,Math.min(b,a-this.opts.start)),d=c/b;d!=this.progress&&(this.progress=d,this.updateAnimation())},updateAnimation:function(){}},ib.ComponentLoader.register("ib.AnimationComponentExample",ib.AnimationComponentExample);var ib=ib||{};ib.AudioControls=function(a,b){this.$context=a,this.$progressBar=$(".story-progress-bar"),this.soundProgress=0,this.soundDuration=0,this.soundStartTime=0,this.soundStartMs=0,this.soundUpdateInterval=0,this.opts=$.extend({},b||a.data())},ib.AudioControls.prototype={init:function(){$(ib).on(ib.Events.VO_PLAY,$.proxy(this.onVoPlay,this)),$(ib).on(ib.Events.VO_STOP,$.proxy(this.onVoStop,this))},onVoPlay:function(){this.soundStartMs=(new Date).getTime(),this.soundUpdateInterval=setInterval($.proxy(this.onVoProgress,this),10),this.soundStartTime=ib.SoundController.getVo().position,this.soundDuration=ib.SoundController.getVo().duration},onVoStop:function(){clearInterval(this.soundUpdateInterval),TweenMax.set(this.$context,{width:0})},onVoProgress:function(){var a=ib.VoData;if(null!==ib.SoundController.getVo()){var b=(new Date).getTime();b-=this.soundStartMs,b+=this.soundStartTime;var c=b/ib.SoundController.getVo().duration,d=Math.round(a.length*c);if("undefined"!=typeof a[d]){var e=a[d].l;.1>e&&(e=0),TweenMax.set(this.$context,{width:e*this.$progressBar.width()})}}}},ib.ComponentLoader.register("ib.AudioControls",ib.AudioControls);var ib=ib||{};ib.BlockReveal=function(a,b){this.$context=a,this.$content=$(".content",a),this.progress=null,this.resetTimeout=null,this.$parentChapter=a.parents(".chapter"),this.complete=!1,this.animating=null,this.opts=$.extend({start:0,end:.999,resetWaitTime:2e3,width:"100%",delay:0,duration:250,easing:"linear"},b||a.data())},ib.BlockReveal.prototype={init:function(){},updateProgress:function(a){a>=this.opts.start&&a<this.opts.end?this.complete||this.animating||!this.$parentChapter.hasClass("active-chapter")||(clearTimeout(this.resetTimeout),this.startAnimation()):(clearTimeout(this.resetTimeout),this.resetTimeout=setTimeout($.proxy(this.reset,this),this.opts.resetWaitTime))},startAnimation:function(){this.animating=!0,this.$content.delay(this.opts.delay).animate({width:this.opts.width},{duration:this.opts.duration,easing:this.opts.easing,complete:$.proxy(this.onComplete,this)})},onComplete:function(){this.complete=!0,this.animating=!1},reset:function(){this.$content.width(0),this.complete=!1,this.animating=!1,clearTimeout(this.resetTimeout),this.resetTimeout=null}},ib.ComponentLoader.register("ib.BlockReveal",ib.BlockReveal);var ib=ib||{};ib.BuildingMarkers=function(a,b){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.$markers=$("ul",this.$context),this.active=!1,this.raf=null,this.driverProgress=0,this.$canvas=$("canvas",this.$context),this.canvas=null,this.ctx=null,this.opts=$.extend({start:0,end:.999,markers:[],markerDuration:400,lineDuration:1e3,dotRadius:5,dotRadiusDuration:400},b||a.data())},ib.BuildingMarkers.prototype={init:function(){this.setupMarkers(),Modernizr.canvas&&(this.canvas=this.$canvas[0],this.ctx=this.canvas.getContext("2d"),$(ib).on(ib.Events.BG_VIDEO_DID_RESIZE,$.proxy(this.resize,this)))},resize:function(a,b){this.$context.css(b.css),this.canvas.width=b.css.width,this.canvas.height=b.css.height},setupMarkers:function(){for(var a in this.opts.markers){var b=this.opts.markers[a],c=ib.Templates["building-marker.html"](b);b.$el=$(c),this.$markers.append(b.$el),"undefined"!==b.lineFromIndex&&(b.from=this.opts.markers[b.lineFromIndex]),b.progress=0,b.radius=null}},updateProgress:function(a){this.driverProgress=a,!this.active&&a>=this.opts.start&&a<this.opts.end?this.show():this.active&&(a<this.opts.start||a>=this.opts.end)&&this.hide()},show:function(){this.active=!0;var a=this;a.$context.show(),this.startAnimation()},hide:function(){this.active=!1;var a=this;this.stopAnimation(),this.$context.fadeOut(600,"easeOutCubic",function(){for(var b in a.opts.markers){var c=a.opts.markers[b];c.active=!1,c.progress=0,c.radius=null,c.$el.css({opacity:0})}})},startAnimation:function(){cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame($.proxy(this.draw,this))},stopAnimation:function(){cancelAnimationFrame(this.raf)},clear:function(){this.canvas.height=this.$canvas.height(),this.canvas.width=this.$canvas.width(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},draw:function(){this.raf=requestAnimationFrame($.proxy(this.draw,this)),this.updateMarkerProgress(),this.clear(),this.ctx.lineWidth=1,this.ctx.strokeStyle="#fff";var a=null;for(var b in this.opts.markers)a=this.opts.markers[b],this.drawMarker(a);this.ctx.stroke(),this.ctx.beginPath(),this.ctx.fillStyle="#fff";for(var c in this.opts.markers)a=this.opts.markers[c],this.drawMarkerDot(a);this.ctx.fill()},drawMarker:function(a){if(a.active){var b=this.$context.width()*a.from.left/100,c=this.$context.height()*a.from.top/100,d=this.$context.width()*a.left/100,e=this.$context.height()*a.top/100,f=b+a.progress*(d-b),g=c+a.progress*(e-c);this.ctx.moveTo(b,c),this.ctx.lineTo(f,g)}},drawMarkerDot:function(a){if(a.active&&!(a.progress<.95)){null===a.radius&&(a.radius=.1,TweenMax.to(a,this.opts.dotRadiusDuration/1e3,{radius:this.opts.dotRadius,ease:Quart.easeOut}));var b=this.canvas.width*a.left/100,c=this.canvas.height*a.top/100;this.ctx.moveTo(b,c),this.ctx.arc(b,c,a.radius,0,2*Math.PI,!1)}},updateMarkerProgress:function(){for(var a in this.opts.markers){var b=this.opts.markers[a];!b.active&&b.start<=this.driverProgress&&(b.active=!0,TweenMax.to(b.$el,this.opts.markerDuration/1e3,{alpha:1,delay:.6*this.opts.lineDuration/1e3}),TweenMax.to(b,this.opts.lineDuration/1e3,{progress:1,ease:Quart.easeOut}),0!=a&&ib.SoundController.playSfx("wd-ctos_discover_circle-connecting-lines-draw-in-01"),setTimeout(function(){ib.SoundController.playSfx("wd-ctos_discover_circle-highlight-dot-appears-01")},.6*this.opts.lineDuration))}}},ib.ComponentLoader.register("ib.BuildingMarkers",ib.BuildingMarkers);var ib=ib||{};ib.CCTV=function(a,b){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.$canvas=null,this.driverProgress=0,this.canvas=null,this.ctx=null,this.raf=null,this.active=!1,this.findNearestDot=null,this.cams=[],this.opts=$.extend({lineDuration:450,borderDuration:650,imageDuration:600,easing:"easeOutCubic",rolloverSfxId:"wd-ctos_believe_photo-rollover-01",rotateInSfxId:"wd-ctos_believe_photo-rotates-in-01",rotateOutSfxId:"wd-ctos_believe_photo-rotates-out-01",cams:[]},b||a.data())},ib.CCTV.prototype={init:function(a,b){this.findNearestDot=b,this.$canvas=a,this.canvas=a[0],this.ctx=this.canvas.getContext("2d"),this.setupCams(),$(window).on("resize",$.throttle(1e3,$.proxy(this.resize,this))),this.resize()},initWithoutCanvas:function(){this.setupCams()},setupCams:function(){this.cams=this.opts.cams;for(var a in this.cams){var b=this.cams[a];b.$el=$(b.target,this.$context),b.$el.css({left:100*b.x+"%",top:100*b.y+"%",height:b.height+"px",width:b.width+"px"});var c=this;if(b.$el.on("mouseenter",function(){ib.SoundController.playSfx(c.opts.rolloverSfxId)}),Modernizr.csstransforms3d){var d=b.x<.5?-45:45;TweenMax.set($(b.$el[0]).parent(),{css:{perspective:500}}),TweenMax.set(b.$el[0],{rotationY:d,alpha:0,transformOrigin:"100px 100px"})}else TweenMax.to(b.$el[0],0,{alpha:0});b.src?b.$img=$("img",b.$el):b.video&&(b.$video=$(".cctv-video",b.$el),b.$video.mediaelementplayer({enableKeyboard:!1,loop:!0,pauseOtherPlayers:!1,videoWidth:b.width,videoHeight:b.height,success:function(a,c,d){b.player=d,b.mediaElement=$(a)}}))}},resize:function(){if(null===this.canvas)return this.updateProgress(this.driverProgress),void 0;if(this.canvas.width=this.$canvas.width(),this.canvas.height=this.$canvas.height(),this.stop(),this.clear(),this.resetLines(),this.active&&null===this.raf){var a=this;setTimeout(function(){for(var b in a.cams){var c=a.cams[b];c.ball="undefined"!=typeof c.markerIndex?a.requestDotNearPoint(c.markerIndex):a.requestDotNearPoint({x:c.startLineX*a.canvas.width,y:c.startLineY*a.canvas.height})}a.start(),a.updateProgress(a.driverProgress)},0)}},requestDotNearPoint:function(a){if("function"!=typeof this.findNearestDot)throw"No dot data source supplied for cctv nearest dot method";return this.findNearestDot(a)},updateProgress:function(a){this.driverProgress=a,!this.active&&this.opts.start<=a&&a<this.opts.end?this.show():this.active&&(a<this.opts.start||a>=this.opts.end)&&this.hide(),this.active&&this.updateAnimationProgress(a)},updateAnimationProgress:function(a){for(var b in this.cams){var c=this.cams[b];if("undefined"!=typeof c.forcedEnd&&c.forcedEnd<a){if(c.imageActive){ib.SoundController.playSfx(this.opts.rotateOutSfxId),c.imageActive=!1;var d=c.x<.5?-45:45;Modernizr.csstransforms3d?TweenMax.to(c.$el[0],.5,{rotationY:d,alpha:0,transformOrigin:"100px 100px"}):TweenMax.to(c.$el[0],.5,{alpha:0})}}else!c.imageActive&&c.imageStart<=a&&(this.screenTooSmall(c)||ib.SoundController.playSfx(this.opts.rotateInSfxId),c.video&&c.player.play(),c.imageActive=!0,Modernizr.csstransforms3d?TweenMax.to(c.$el[0],1,{z:0,rotationY:0,alpha:1,transformOrigin:"50% 50%"}):TweenMax.to(c.$el[0],1,{alpha:1}));"undefined"!=typeof c.forcedEnd&&c.forcedEnd<a?(c.lineActive=!1,c.lineProgress=0):!c.lineActive&&c.borderStart<=a&&(c.lineActive=!0,ib.SoundController.playSfx(this.opts.lineSfx),c.ball="undefined"!=typeof c.markerIndex?this.requestDotNearPoint(c.markerIndex):this.requestDotNearPoint({x:c.startLineX*this.canvas.width,y:c.startLineY*this.canvas.height}),c.ball.connected=!0,TweenLite.to(c,this.opts.lineDuration/1e3,{lineProgress:1}),TweenLite.to(c,this.opts.borderDuration/1e3,{borderProgress:1,delay:this.opts.lineDuration/1e3}))}},clear:function(){null!==this.canvas&&(this.ctx.beginPath(),this.canvas.width=this.$canvas.width(),this.canvas.height=this.$canvas.height(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.closePath())},stop:function(){cancelAnimationFrame(this.raf),this.raf=null},resetLines:function(){for(var a in this.cams){var b=this.cams[a];b.lineProgress=0,b.borderProgress=0,b.lineActive=!1,b.imageActive=!1}},start:function(){null!==this.canvas&&(this.raf=requestAnimationFrame($.proxy(this.step,this)))},step:function(){this.raf=requestAnimationFrame($.proxy(this.step,this)),this.clear(),this.ctx.strokeStyle="#32c8f4",this.ctx.lineWidth=1;var a=this.$context.width(),b=this.$context.height(),c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;for(var k in this.cams){var l=this.cams[k];if(c=l.x*a,d=l.y*b,l.lineActive&&!this.screenTooSmall(l)&&l.$el.is(":visible")){e=l.ball.x,f=l.ball.y,g=c+l.borderSteps[0].x*l.width,h=d+l.borderSteps[0].y*l.height-1,i=e+l.lineProgress*(g-e),j=f+l.lineProgress*(h-f),this.ctx.moveTo(e,f),this.ctx.lineTo(i,j),this.ctx.moveTo(g,h);for(var m,n,o=0,p=0,q=1/(l.borderSteps.length-1),r=1,s=l.borderSteps.length;s>r&&(m=l.borderSteps[r-1],n=l.borderSteps[r],p=Math.min(q,l.borderProgress-(r-1)*q),o=p/q,!(0>=o));r++)i=c+m.x*l.width+o*(n.x*l.width-m.x*l.width),j=d+m.y*l.height+o*(n.y*l.height-m.y*l.height),this.ctx.lineTo(i,j)}}this.ctx.stroke()},show:function(){this.$context.add(this.$canvas).show(),this.active=!0;for(var a in this.cams)this.cams[a].src?this.cams[a].$img.attr("src",this.cams[a].src):this.cams[a].video;var b=this;setTimeout(function(){b.resize(),b.start()},0)},hide:function(){this.active=!1,this.stop(),this.clear();var a=this;this.$context.add(this.$canvas).fadeOut(1e3,this.opts.easing,function(){for(var b in a.cams){var c=a.cams[b];a.cams[b].src&&c.$img.attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),c.video&&c.player&&c.player.pause();var d=c.x<.5?-90:90;Modernizr.csstransforms3d?TweenMax.to(c.$el[0],0,{rotationY:d,z:100,alpha:0}):TweenMax.to(c.$el[0],0,{alpha:0})}a.resetLines()})},screenTooSmall:function(a){return a.$el.hasClass("large-only")&&ib.ScrollController.width()<1280}},ib.ComponentLoader.register("ib.CCTV",ib.CCTV);var ib=ib||{};ib.CCTVImageLauncher=function(a,b){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.$markers=$("ul",this.$context),this.active=!1,this.raf=null,this.driverProgress=0,this.cctv=null,this.opts=$.extend({start:0,end:.999,cctvContextTarget:null,CCTVOpts:{}},b||a.data())},ib.CCTVImageLauncher.prototype={init:function(){this.setupCCTV()},setupCCTV:function(){var a=$(this.opts.cctvContextTarget,this.$parentChapter);this.cctv=new ib.CCTV(a,this.opts.CCTVOpts),this.cctv.initWithoutCanvas()},updateProgress:function(a){this.driverProgress=a,!this.active&&a>=this.opts.start&&a<this.opts.end?this.show():this.active&&(a<this.opts.start||a>=this.opts.end)&&this.hide(),this.cctv&&this.cctv.updateProgress(a)},show:function(){this.active=!0;var a=this;a.$context.show()},hide:function(){this.active=!1,this.$context.fadeOut(600,"easeOutCubic",function(){})}},ib.ComponentLoader.register("ib.CCTVImageLauncher",ib.CCTVImageLauncher);var ib=ib||{};ib.Chapter=function(a,b){this.$context=a,this.$mask=$("> .mask",a),this.$content=$("> .scroll-content",this.$mask),this.animationElements=[],this.imageSequence=null,this.headerComponent=null,this.components=[],this.story=null,this.progress=0,this.totalScrollValue=0,this.opts=$.extend({},b||a.data())},ib.Chapter.prototype={init:function(){this.story=ib.ChapterData[this.id],this.totalScrollValue=this.story.totalScrollValue,this.titleScrollValue=this.story.titleScrollValue,this.story.headerControlSteps&&(this.headerComponent=ib.ComponentLoader.findInstanceById("header")),this.$context.on("click",".chapter-jump-link",$.proxy(this.onAutomatedScrollClick,this))},setContent:function(){this.clearContent();var a=this.story.getText();a.assetBasePath=ib.Config.assetBasePath,a=$.extend({Modernizr:Modernizr},a);var b=ib.Templates[this.id+".html"](a);this.$content.html(b),Modernizr.backgroundsize||($(".force-full-size",this.$context).css({height:ib.ScrollController.height(),width:ib.ScrollController.width()}),ib.Resizer.createFallbackMarkup(this.$context)),this.initContent(),this.update()},clearContent:function(){this.$content.empty(),this.animationElements=[],this.imageSequence=null},initContent:function(){this.cacheAnimationElements(),this.cacheImageSequence(),this.cacheComponents()},cacheAnimationElements:function(){var a;for(var b in this.story.animationElements){a=$.extend(!0,{},this.story.animationElements[b]);var c=$(a.target,this.$context);c.length?(a.$el=c,this.animationElements.push(a)):console.log('Animation element not found: "'+a.target+'"\nfrom: "'+this.id+'"')}},cacheImageSequence:function(){this.story.imageSequence&&(this.imageSequence=$.extend(!0,{},this.story.imageSequence),this.imageSequence.$el=$(this.story.imageSequence.target,this.$context),Modernizr.canvas&&ib.StoryImageSequenceHandler.registerCanvasVideo(this.imageSequence.$el))},cacheComponents:function(){ib.ComponentLoader.init(this.$context);var a=this;$(".ib-component",this.$context).each(function(){var b=ib.ComponentLoader.findInstanceById($(this).data("id"));b&&a.components.push(b)});for(var b in this.story.animationComponents){var c=this.story.animationComponents[b],d=$(c.target,this.$context),e=ib.ComponentLoader.registeredClasses[c.componentClass];if(d.length&&e){var f=new e(d,c.opts);f.init(),this.components.push(f)}else console.log('Animation component not found: "'+c.target+'"\nfrom: "'+this.id+'"')}},setProgress:function(a,b){a!=this.progress?(this.progress=a,this.update()):b&&this.update()},update:function(){for(var a in this.animationElements)ib.StoryAnimationHandler.updateElements(this.animationElements[a],this.progress);this.imageSequence&&ib.StoryImageSequenceHandler.updateSequence(this.imageSequence,this.progress);for(var b in this.components)this.components[b].updateProgress(this.progress);this.story.headerControlSteps&&this.headerComponent.update(this.story.headerControlSteps,this.progress),this.story.sfxTriggers&&this.updateSfxTriggers()},onAutomatedScrollClick:function(a){var b=$(a.currentTarget).data("destination-index"),c=$(a.currentTarget).data("animated");ib.ScrollController.jumpToChapter(b,c)},updateSfxTriggers:function(){for(var a in this.story.sfxTriggers){var b=this.story.sfxTriggers[a];!b.played&&b.start<this.progress&&this.progress-b.start>.04?b.played=!0:!b.played&&b.start<this.progress?(b.played=!0,b.duration?ib.SoundController.playSfx(b.sfxId,b.duration):ib.SoundController.playSfx(b.sfxId)):b.start>this.progress&&(b.played=!1)}}},ib.ComponentLoader.register("ib.Chapter",ib.Chapter);var ib=ib||{};ib.Geom=ib.Geom||{},ib.Geom.ConnectionPoint=function(){this.xpos=0,this.ypos=0,this.zpos=0,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.angleY=0,this.angleX=0},ib.ChicagoBuildingMarkers=function(a,b){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.$markers=$(".building-markers",this.$context),this.$outline=$(".chicago-outline",this.$context),this.$translateToSuperReference=null,this.active=!1,this.raf=null,this.driverProgress=0,this.rotationDestination=0,this.zoomed=!0,this.translated=!1,this.superOffsetX=0,this.superOffsetY=0,this.fl=200,this.vpX=0,this.vpY=0,this.angleY=0,this.addedZ=0,this.$canvas=$(".building-marker-canvas",this.$context),this.canvas=null,this.ctx=null,this.markers=[],this.cctv=null,this.opts=$.extend({start:0,end:.999,rotationStart:.33,rotationDuration:2e3,startAngle:Math.PI/2,rotatedAngle:0,zoomOutStart:.3,zoomOutDuration:4e3,zoomValue:100,translateToSuperStart:.46,translateToSuperDuration:2e3,translateToSuperTarget:".result-super-wrap",markers:[],markerDuration:400,lineDuration:400,dotRadius:5,dotRadiusDuration:400,CCTVOpts:{lineDuration:650,borderDuration:0,imageDuration:800,lineSfx:"wd-ctos_discover_circle-connecting-lines-draw-in-01",start:.05,end:.6,easing:"easeOutCubic"}},b||a.data())},ib.ChicagoBuildingMarkers.prototype={init:function(){Modernizr.canvas&&(this.canvas=this.$canvas[0],this.ctx=this.canvas.getContext("2d"),$(ib).on(ib.Events.BG_VIDEO_DID_RESIZE,$.proxy(this.resize,this))),this.$translateToSuperReference=$(this.opts.translateToSuperTarget)},setupCCTV:function(){var a=$(".cctv",this.$context);this.cctv=new ib.CCTV(a,this.opts.CCTVOpts);var b=$(this.opts.cctvCanvasTarget,this.$context);this.cctv.init(b,$.proxy(this.pointForIndex,this))},pointForIndex:function(a){return this.markers[a].point},resize:function(){this.canvas.width=this.$context.width(),this.canvas.height=this.$context.height(),this.vpX=this.$context.width()/2,this.vpY=this.$context.height()/2,this.markers.length||(this.setupMarkers(),this.setupCCTV())},setupMarkers:function(){for(var a in this.opts.markers){var b=this.opts.markers[a],c=ib.Templates["building-marker.html"]();b.$el=$(c),this.$markers.append(b.$el),b.progress=0,b.radius=null,b.point=new ib.Geom.ConnectionPoint,b.point.xpos=b.xpos,b.point.ypos=b.ypos,b.point.zpos=b.zpos,this.doPerspective(b),b.$el.css({top:b.point.x+"px",left:b.point.y+"px"}),this.markers.push(b),"undefined"!==b.lineFromIndex&&(b.from=this.markers[b.lineFromIndex])}},updateProgress:function(a){this.driverProgress=a,!this.active&&a>=this.opts.start&&a<this.opts.end?this.show():this.active&&(a<this.opts.start||a>=this.opts.end)&&this.hide(),this.cctv&&this.cctv.updateProgress(a)},show:function(){this.active=!0;var a=this;a.$context.show(),this.startAnimation()},hide:function(){this.active=!1;var a=this;this.stopAnimation(),this.$context.fadeOut(600,"easeOutCubic",function(){for(var b in a.markers){var c=a.markers[b];c.active=!1,c.progress=0,c.radius=null,c.$el.css({opacity:0})}a.$outline.hide()})},startAnimation:function(){cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame($.proxy(this.draw,this))},stopAnimation:function(){cancelAnimationFrame(this.raf)},clear:function(){this.canvas.height=this.$canvas.height(),this.canvas.width=this.$canvas.width(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},draw:function(){this.raf=requestAnimationFrame($.proxy(this.draw,this)),this.updateMarkerProgress(),this.clear(),this.doPerspective(this.markers[0].point);var a=this.$translateToSuperReference.offset().left,b=this.$translateToSuperReference.offset().top;this.superOffsetX=a-this.markers[0].point.x,this.superOffsetY=b-this.markers[0].point.y-this.$outline.height()/2;for(var c in this.markers)this.doPerspective(this.markers[c].point),this.translated&&this.translatePoint(this.markers[c].point);TweenMax.set(this.$outline,{x:this.translationProgress*this.superOffsetX,y:this.translationProgress*this.superOffsetY}),this.ctx.lineWidth=1,this.ctx.strokeStyle="#fff";for(var d in this.markers)this.drawMarker(this.markers[d]);this.ctx.stroke(),this.ctx.beginPath(),this.ctx.fillStyle="#fff";for(var e in this.markers)this.drawMarkerDot(this.markers[e]);this.ctx.fill()},translatePoint:function(a){a.x+=this.translationProgress*this.superOffsetX,a.y+=this.translationProgress*this.superOffsetY},drawMarker:function(a){if(a.active){var b=a.from.point.x,c=a.from.point.y,d=a.point.x,e=a.point.y,f=b+a.progress*(d-b),g=c+a.progress*(e-c);a.$el.css({left:d+"px",top:e+"px"}),this.ctx.moveTo(b,c),this.ctx.lineTo(f,g)}},drawMarkerDot:function(a){if(a.active&&!(a.progress<.95)){null===a.radius&&(a.radius=.1,TweenMax.to(a,this.opts.dotRadiusDuration/1e3,{radius:this.opts.dotRadius,ease:Quart.easeOut})),this.ctx.moveTo(a.point.x,a.point.y);var b=Math.max(4,Math.min(1,.9*a.point.scaleX)*a.radius);this.ctx.arc(a.point.x,a.point.y,b,0,2*Math.PI,!1)}},updateMarkerProgress:function(){for(var a in this.markers){var b=this.markers[a];!b.active&&b.start<=this.driverProgress&&(b.active=!0,TweenMax.to(b.$el,this.opts.markerDuration/1e3,{alpha:.8,delay:.6*this.opts.lineDuration/1e3}),TweenMax.to(b,this.opts.lineDuration/1e3,{progress:1,ease:Quart.easeOut}),0==a&&ib.SoundController.playSfx("wd-ctos_discover_vast-network-dots-grow-in-01"))}!this.zoomed&&this.driverProgress>this.opts.zoomOutStart?this.beginZoomOut():this.zoomed&&this.driverProgress<=this.opts.zoomOutStart&&this.resetDots(),this.rotationDestination!=this.opts.rotatedAngle&&this.driverProgress>this.opts.rotationStart&&this.beginRotation(),!this.translated&&this.driverProgress>this.opts.translateToSuperStart&&this.translateToSuper()},beginZoomOut:function(){this.zoomed=!0;var a=this,b=this.addedZ;TweenMax.to(this,this.opts.zoomOutDuration/1e3,{addedZ:this.opts.zoomValue,onUpdate:function(){for(var c in a.markers){var d=a.markers[c].point;d.zpos+=a.addedZ-b}b=a.addedZ}}),TweenMax.to($("li",this.$markers),this.opts.markerDuration/1e3,{alpha:0,delay:.5})},resetDots:function(){this.zoomed=!1,this.translated=!1,this.addedZ=0,this.rotationDestination=this.opts.startAngle,this.angleY=this.rotationDestination;for(var a in this.markers){var b=this.markers[a];b.point.zpos=b.zpos,b.point.xpos=b.xpos,b.point.ypos=b.ypos,this.doPerspective(b.point),this.rotateY(b.point,this.angleY-b.point.angleY),b.point.angleY=this.angleY,this.translationProgress=0}this.$outline.hide()},beginRotation:function(){var a=this;this.rotationDestination=this.opts.rotatedAngle,TweenMax.to(this,this.opts.rotationDuration/1e3,{angleY:this.opts.rotatedAngle,onUpdate:function(){for(var b in a.markers){var c=a.markers[b];a.rotateY(c.point,a.angleY-c.point.angleY),c.point.angleY=a.angleY}}}),this.$outline.delay(.66*this.opts.rotationDuration).fadeIn(400,"easeOutCubic")},translateToSuper:function(){this.translated=!0,TweenMax.to(this,this.opts.translateToSuperDuration/1e3,{translationProgress:1,ease:Quad.easeOut})},rotateY:function(a,b){var c=[a.xpos,a.ypos,a.zpos],d=Math.sin(b),e=Math.cos(b),f=[];f[0]=[e,0,d],f[1]=[0,1,0],f[2]=[-d,0,e];var g=this.matrixMultiply(c,f);a.xpos=g[0],a.ypos=g[1],a.zpos=g[2]},matrixMultiply:function(a,b){var c=[];return c[0]=a[0]*b[0][0]+a[1]*b[1][0]+a[2]*b[2][0],c[1]=a[0]*b[0][1]+a[1]*b[1][1]+a[2]*b[2][1],c[2]=a[0]*b[0][2]+a[1]*b[1][2]+a[2]*b[2][2],c},doPerspective:function(a){var b=1,c=this.fl+a.zpos;.1>c&&c>=0?c=.1:c>-.1&&0>=c&&(c=-.1),b=this.fl/c,a.scaleX=a.scaleY=b,a.x=this.vpX+a.xpos*b,a.y=this.vpY+a.ypos*b}},ib.ComponentLoader.register("ib.ChicagoBuildingMarkers",ib.ChicagoBuildingMarkers);var ib=ib||{};ib.CityHighlights=function(a,b){this.$context=a,this.$highlights=a.find(".highlight"),this.active=!1,this.activeAnimationDetailsTitle=null,this.activeAnimationDetailsBody=null,this.isOver=!1,this.hoverTimeout=null,this.textAnimationsDetailsTitle=[],this.textAnimationsDetailsBody=[],this.opts=$.extend({start:0,startDelay:0,end:.999},b||a.data())},ib.CityHighlights.prototype={init:function(){this.$context.find(".hotspot").add(this.$context.find(".highlight")).on("mouseenter",$.proxy(this.onHotspot,this)).on("mouseleave",$.proxy(this.onHotspotOff,this)),this.setupTextAnimationsDetailsTitle()},onHotspotOff:function(){clearTimeout(this.hoverTimeout);var a=this;this.hoverTimeout=setTimeout(function(){$(a.$highlights,".active").removeClass("active")},100)},onHotspot:function(a){clearTimeout(this.hoverTimeout);var b=$(a.currentTarget).parent().index(),c=this.$highlights.eq(b);c.hasClass("active")||($(this.$highlights,".active").removeClass("active"),this.activeAnimationDetailsTitle&&this.activeAnimationDetailsTitle.reset(),this.activeAnimationDetailsBody&&this.activeAnimationDetailsBody.reset(),c.addClass("active"),this.activeAnimationDetailsTitle=this.textAnimationsDetailsTitle[b],this.activeAnimationDetailsBody=this.textAnimationsDetailsBody[b],this.animateText(this.activeAnimationDetailsTitle,this.activeAnimationDetailsBody),ib.SoundController.playSfx("wd-ctos_discover_security-water-text-rollover-01"))},animateText:function(){for(var a in arguments){var b=arguments[a];b.reset(),b.animate()}},setupTextAnimationsDetailsTitle:function(){$.each(this.$context.find(".details h5"),$.proxy(function(a,b){var c=new ib.Oomph($(b),{animationStartDelay:200,animationDuration:400,animationDelay:2});c.init(),this.textAnimationsDetailsTitle.push(c)},this)),$.each(this.$context.find(".details p"),$.proxy(function(a,b){var c=new ib.Oomph($(b),{animationStartDelay:300,animationDuration:400,animationDelay:2});c.init(),this.textAnimationsDetailsBody.push(c)},this))},updateProgress:function(a){!this.active&&this.opts.start<=a&&a<this.opts.end?this.show():this.active&&(this.opts.start>a||a>=this.opts.end)&&this.hide()},show:function(){this.active=!0,this.$context.delay(this.opts.startDelay).fadeIn(1e3,"easeOutCubic"),$(".city-highlights-indicator").fadeIn(1e3,"easeOutCubic"),ib.SoundController.playSfx("wd-ctos_discover_security-water-text-rollovers-appear-01")},hide:function(){ib.SoundController.playSfx("wd-ctos_discover_city-to-dots-transition-01"),this.active=!1;var a=this;this.$context.stop().fadeOut(450,"easeOutCubic",function(){a.activeAnimationDetailsBody&&(a.activeAnimationDetailsBody.reset(),a.activeAnimationDetailsBody=null),$(".active",a.$context).removeClass("active")}),$(".city-highlights-indicator").fadeOut(450,"easeOutCubic")}},ib.ComponentLoader.register("ib.CityHighlights",ib.CityHighlights);var ib=ib||{};ib.ClassName=function(a,b){this.$context=a,this.opts=$.extend({},b||a.data())},ib.ClassName.prototype={init:function(){console.log("component ClassName initialized")}},ib.ComponentLoader.register("ib.ClassName",ib.ClassName);var ib=ib||{};ib.Dots=function(a,b){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.progress=null,this.complete=!1,this.animating=null,this.dots=[],this.CCTVDotIndex=null,this.CCTVDots=[],this.CCTVInterval=null,this.cctv=null,this.opts=$.extend({start:0,end:.999,minScale:.75,maxScale:1.45,resetWaitTime:200,CCTVWaitTime:3e3,delay:0,duration:1e3,fadeOutDuration:0,easing:"linear",maxDelayStagger:200,dots:[],canvasTarget:null},b||a.data())},ib.Dots.prototype={init:function(){for(var a in this.opts.dots){var b=this.opts.dots[a];"undefined"==typeof b.left&&(b.left=2+96*Math.random()+"%",b.top=2+96*Math.random()+"%"),this.addDot(b)}this.randomizeScales(),Modernizr.canvas&&this.opts.canvasTarget&&this.setupCCTV()},setupCCTV:function(){var a=$(".cctv",this.$parentChapter);this.cctv=new ib.CCTV(a,this.opts.CCTVOpts);var b=$(this.opts.canvasTarget,this.$parentChapter);this.cctv.init(b)},addDot:function(a){var b=$(ib.Templates["dot.html"](a));this.$context.append(b),this.dots.push(b),a.image&&(b.data(a),this.CCTVDots.push(b))},randomizeScales:function(){var a=1;for(var b in this.dots)a=this.opts.minScale+Math.random()*(this.opts.maxScale-this.opts.minScale),this.dots[b].css({transform:"scale("+a+")"})},updateProgress:function(a){a>=this.opts.start&&a<this.opts.end?this.complete||this.animating||!this.$parentChapter.hasClass("active-chapter")||this.startAnimation():this.complete&&this.reset()
},startAnimation:function(){this.animating=!0,this.show(),this.beginUpdates()},onComplete:function(){this.complete=!0,this.animating=!1},beginUpdates:function(){this.cctv&&1===this.CCTVDots.length?setTimeout($.proxy(this.triggerCCTV,this),this.opts.initialCCTVRevealDelay):this.cctv&&(clearInterval(this.CCTVInterval),this.CCTVInterval=setInterval($.proxy(this.triggerCCTV,this),this.opts.CCTVWaitTime),setTimeout($.proxy(this.triggerCCTV,this),this.opts.initialCCTVRevealDelay))},triggerCCTV:function(){null===this.CCTVDotIndex?this.CCTVDotIndex=Math.floor(Math.random()*this.CCTVDots.length):(this.CCTVDotIndex++,this.CCTVDotIndex>=this.CCTVDots.length&&(this.CCTVDotIndex=0)),this.cctv.setDot(this.CCTVDots[this.CCTVDotIndex].data(),$.proxy(this.getActiveDotCoords,this))},getActiveDotCoords:function(){var a=this.CCTVDots[this.CCTVDotIndex];return{x:a.position().left+.5*a.width(),y:a.position().top+.5*a.height()}},show:function(){var a=this;$("> li",this.$context).delay(this.opts.delay).each(function(){$(this).delay(Math.random()*a.opts.maxDelayStagger).animate({opacity:1},{duration:a.opts.duration})}),this.cctv&&this.cctv.show(),setTimeout($.proxy(this.onComplete,this),this.opts.duration+this.opts.maxDelayStagger+this.opts.delay)},hide:function(){this.opts.fadeOutDuration?($("> li",this.$context).animate({opacity:0},this.opts.fadeOutDuration),this.canvas&&this.canvas.animate({opacity:0},this.opts.fadeOutDuration)):($("> li",this.$context).css({opacity:0}),this.cctv&&this.cctv.hide())},reset:function(){this.hide(),this.complete=!1,this.animating=!1,clearInterval(this.CCTVInterval),this.CCTVInterval=null}},ib.ComponentLoader.register("ib.Dots",ib.Dots);var ib=ib||{};ib.Header=function(a,b){this.$context=a,this.$overlayLogo=$(".blume-logo",a),this.$progressBar=$(".story-progress-bar",a),this.$navLinks=$("nav li a",this.$context),this.navLinkAnimations=[],this.navLinksAnimated=!1,this.soundProgress=0,this.soundDuration=0,this.soundStartTime=0,this.soundStartMs=0,this.soundUpdateInterval=0,this.opts=$.extend({},b||a.data())},ib.Header.prototype={init:function(){this.setupNavLinks(),$(ib).on(ib.Events.CHAPTER_DID_CHANGE,$.proxy(this.updateNavHighlight,this)),$(ib).on(ib.Events.NETWORK_DID_ZOOM_OUT,$.proxy(this.showOverlayLogo,this)),$(ib).on(ib.Events.NETWORK_DID_ZOOM_IN,$.proxy(this.hideOverlayLogo,this)),$(ib).on(ib.Events.SCROLLER_DID_SCROLL,$.proxy(this.handleScrollUpdate,this)),$(ib).on(ib.Events.PRELOADER_DID_HIDE,$.proxy(this.preloaderDidHide,this)),this.$navLinks.on("mouseenter",$.proxy(this.onNavLinkOver,this))},setupNavLinks:function(){var a=this;this.$navLinks.each(function(b,c){var d=new ib.Oomph($(c),{scramble:!0,animationStartDelay:500*b});d.init(),a.navLinkAnimations.push(d)}).add(".ctos-logo a",this.$context).on("click",$.proxy(this.onNavClick,this))},handleScrollUpdate:function(a,b){this.$progressBar.css("width",100*b.progress+"%")},preloaderDidHide:function(){if(!this.navLinksAnimated){var a=0;for(var b in this.navLinkAnimations){var c=this.navLinkAnimations[b];c.animate($.proxy(function(){++a===this.navLinkAnimations.length&&setTimeout(this.updateNavHighlight,200)},this,b))}this.navLinksAnimated=!0}},showOverlayLogo:function(){$(ib).trigger(ib.Events.SHOW_OVERLAY_LOGO)},hideOverlayLogo:function(){$(ib).trigger(ib.Events.HIDE_OVERLAY_LOGO)},onNavClick:function(a){a.preventDefault();var b=$(a.currentTarget);ib.ScrollController.jumpToChapter(b.data("chapter-index"),!1),this.showOverlayLogo()},updateNavHighlight:function(){$("nav .active",this.$context).removeClass("active"),$("nav li",this.$context).eq(ib.ScrollController.getCurrentChapterIndex()).addClass("active"),ib.SoundController.playSfx("wd-ctos_all_section-text-highlights-blue-dot-01")},onNavLinkOver:function(a){var b=$(a.currentTarget).data("chapter-index"),c=this.navLinkAnimations[parseInt(b,10)];"undefined"!=typeof c&&(c.opts.animationStartDelay=0,c.animate()),ib.SoundController.playSfx("wd-ctos_all_top-nav-rollover-01")},update:function(a,b){for(var c in a){step=a[c];var d=step.end-step.start,e=Math.max(0,Math.min(d,b-step.start)),f=e/d;f>0&&1>f&&(step.addClass?this.$context.addClass(step.addClass):step.removeClass&&this.$context.removeClass(step.removeClass))}}},ib.ComponentLoader.register("ib.Header",ib.Header);var ib=ib||{};ib.InfographicQuestion=function(a,b){this.$context=a,this.$question=$(".question-wrap",a),this.$answer=$(".answer-wrap",a),this.$acceptButton=$(".accept",this.$question),this.$nextButton=$(".next",this.$answer),this.$questionStats=$(".statistic .value",this.$question),this.$answerStats=$(".statistic .value",this.$answer),this.$currentStats=null,this.raf=null,this.animStartTime=null,this.dashes=null,this.opts=$.extend({duration:800,animationDelay:200,easing:"easeOutCubic"},b||a.data())},ib.InfographicQuestion.template="infographic-question.html",ib.InfographicQuestion.prototype={init:function(){this.$acceptButton.on("click",$.proxy(this.showAnswer,this)),this.$acceptButton.on("mouseover",$.proxy(this.onButtonHover,this)),this.$nextButton.on("click",$.proxy(this.completeQuestion,this)),this.$nextButton.on("mouseover",$.proxy(this.onButtonHover,this)),this.start(this.$questionStats)},onButtonHover:function(){ib.SoundController.playSfx("wd-ctos_imagine_accept-button-rollover-01")},start:function(a){this.stop(),this.$currentStats=a;var b=this;setTimeout(function(){b.animStartTime=(new Date).getTime(),b.raf=requestAnimationFrame($.proxy(b.step,b))},this.opts.animationDelay)},stop:function(){cancelAnimationFrame(this.raf),this.raf=null,Modernizr.canvas&&(this.dashes=null,this.dashes=new ib.Dashes(this.$context.find(".dashes-wrapper")),this.dashes.init(),this.dashes.play())},commaSeparateNumber:function(a){for(;/(\d+)(\d{3})/.test(a.toString());)a=a.toString().replace(/(\d+)(\d{3})/,"$1,$2");return a},step:function(){this.raf=requestAnimationFrame($.proxy(this.step,this));var a=this;this.$currentStats.each(function(){var b=$(this),c=(new Date).getTime(),d=a.opts.duration,e=Math.min(d,c-a.animStartTime),f=0,g=parseInt(b.data("target-value"),10),h=f;h=$.easing[a.opts.easing]?Math.round($.easing[a.opts.easing](null,e,f,g,d)):Math.round(g*e/d+f),b.html(a.commaSeparateNumber(h))})},showAnswer:function(){ib.SoundController.playSfx("wd-ctos_imagine_accept-button-click-transition-01"),this.start(this.$answerStats),this.$context.trigger(ib.Events.QUESTION_ANSWERED);var a=this;this.$question.fadeOut(250,"easeOutQuad",function(){a.$answer.fadeIn(250,"easeOutQuad")}),Modernizr.canvas&&this.dashes.toggleColor(!0)},completeQuestion:function(){this.stop(),this.$context.trigger(ib.Events.NEXT_QUESTION_REQUESTED),Modernizr.canvas&&this.dashes.toggleColor(!1)}},ib.ComponentLoader.register("ib.InfographicQuestion",ib.InfographicQuestion);var ib=ib||{};ib.IntroLogo=function(a,b){this.$context=a,this.$image=$(".logo",this.$context),this.$parentChapter=a.parents(".chapter"),this.backwards=!1,this.cachedImages=[],this.numAssetsLoaded=0,this.numAssetsToLoad=0,this.raf=null,this.active=!1,this.restartHideTimeout=null,this.startTime=(new Date).getTime(),this.opts=$.extend(ib.ChapterData["chapter-1"].introLogoOpts,b||a.data())},ib.IntroLogo.prototype={init:function(){$(ib).on(ib.Events.NETWORK_DID_BEGIN,$.proxy(this.onNetworkBegin,this)),this.preloadLogo(),ib.Config.SKIP_INTRO&&setTimeout(function(){$(ib).trigger(ib.Events.INTRO_LOGO_REVEALED)},0)},onNetworkBegin:function(){$(".bg",this.$context).css({opacity:.9})},preloadLogo:function(){for(var a=ib.ChapterData["chapter-1"].introLogoOpts,b=a.startFrameNum+a.numFrames,c=[],d=a.startFrameNum;b>d;d++)c.push(a.getFilename(d));this.numAssetsToLoad=c.length;for(var e in c){var f=new Image;f.onerror=f.onload=$.proxy(this.onAssetLoaded,this),f.src=c[e],this.cachedImages[c[e]]=f}},onAssetLoaded:function(){if(this.numAssetsLoaded++,this.isReady()){var a=(new Date).getTime(),b=Math.max(0,2e3-(a-this.startTime)),c=this;setTimeout(function(){c.active=!0,c.startAnimation(),setTimeout(function(){ib.Config.SKIP_INTRO||$(ib).trigger(ib.Events.INTRO_LOGO_REVEALED)},1.5*c.opts.duration)},b)}},startAnimation:function(a){null===this.raf&&(this.stopAnimation(),this.backwards=a,this.animationStartTime=(new Date).getTime(),this.raf=requestAnimationFrame($.proxy(this.step,this)),a?ib.SoundController.playSfx("wd-ctos_intro_logo-build-out-01"):ib.SoundController.playSfx("wd-ctos_intro_logo-build-in-01"))},stopAnimation:function(){cancelAnimationFrame(this.raf),this.raf=null},step:function(){this.raf=requestAnimationFrame($.proxy(this.step,this));var a=(new Date).getTime(),b=this.opts.duration,c=this.backwards?Math.max(0,this.animationStartTime+b-a):Math.min(b,a-this.animationStartTime),d=this.opts.startFrameNum,e=this.opts.numFrames-1,f=Math.round(e*c/b+d),g=this.opts.getFilename(f);this.$image[0].src=g,(!this.backwards&&f==this.opts.startFrameNum+this.opts.numFrames-1||this.backwards&&f==this.opts.startFrameNum)&&(this.stopAnimation(),this.backwards&&this.hide())},isReady:function(){return this.numAssetsLoaded==this.numAssetsToLoad&&0!==this.numAssetsLoaded},updateProgress:function(a){if(a>=this.opts.start&&a<this.opts.end){if(this.isReady()&&!this.active&&this.$parentChapter.hasClass("active-chapter")){var b=this.opts.getFilename(this.opts.startFrameNum+this.opts.numFrames-1);this.$image[0].src=b,clearTimeout(this.restartHideTimeout),this.restartHideTimeout=setTimeout($.proxy(this.animateOut,this),500)}}else this.active&&this.isReady()&&this.animateOut()},animateOut:function(){this.active=!1,this.stopAnimation(),this.startAnimation(!0)},show:function(){this.active=!0,this.startAnimation()},hide:function(){this.active=!1,this.$image[0].src=this.opts.getFilename(this.opts.startFrameNum)}},ib.ComponentLoader.register("ib.IntroLogo",ib.IntroLogo);var ib=ib||{};ib.MultipleChoiceQuestion=function(a,b){this.$context=a,this.$question=$(".question-wrap",a),this.$acceptButton=$(".accept",this.$question),this.$answer=$(".answer-wrap",a),this.$nextButton=$(".next",this.$answer),this.dashes=null,this.opts=$.extend({},b||a.data())},ib.MultipleChoiceQuestion.template="multiple-choice-question.html",ib.MultipleChoiceQuestion.prototype={init:function(){$("li",this.$question).on("click",$.proxy(this.showAnswer,this)).on("mouseenter",$.proxy(this.onBenefitOver,this)),$(".next",this.$next).on("click",$.proxy(this.completeQuestion,this)),this.$acceptButton.on("mouseover",$.proxy(this.onButtonHover,this)),this.$nextButton.on("mouseover",$.proxy(this.onButtonHover,this)),Modernizr.canvas&&(this.dashes=new ib.Dashes(this.$context.find(".dashes-wrapper"),{numDashes:15,maxDashSpeed:15}),this.dashes.init(),this.dashes.play())},onBenefitOver:function(){ib.SoundController.playSfx("wd-ctos_imagine_most-appealing-rollover-01")},onButtonHover:function(){ib.SoundController.playSfx("wd-ctos_imagine_accept-button-rollover-01")},showAnswer:function(a){ib.SoundController.playSfx("wd-ctos_imagine_accept-button-click-transition-01");var b=$(a.currentTarget).data("choice");$(ib).trigger(ib.Events.FACT_CHOSEN,{fact:b}),this.$context.trigger(ib.Events.QUESTION_ANSWERED);var c=this;this.$question.fadeOut(250,"easeOutQuad",function(){c.$answer.fadeIn(250,"easeOutQuad")}),Modernizr.canvas&&this.dashes.toggleColor(!0)},completeQuestion:function(){this.$context.trigger(ib.Events.NEXT_QUESTION_REQUESTED),Modernizr.canvas&&this.dashes.toggleColor(!1)}},ib.ComponentLoader.register("ib.MultipleChoiceQuestion",ib.MultipleChoiceQuestion);var ib=ib||{};ib.Network=ib.Network||{},ib.Network.Dot=function(){this.radius=4,this.xpos=0,this.ypos=0,this.zpos=0,this.xposOriginal=0,this.yposOriginal=0,this.vx=0,this.vy=0,this.vz=0,this.mass=0,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.connections=[],this.randomIndex=0,this.connectionProgress=0},ib.Network.distance=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},ib.Network.Dots=function(a,b,c){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.$header=$("#header"),this.raf=null,this.balls=[],this.numBalls=0,this.fl=100,this.vpX=0,this.vpY=0,this.orbit=400,this.angleX=0,this.angleY=0,this.yDensity=20,(ib.isIE||b.forceReducedBallCount)&&(this.yDensity=5),this.hiding=!1,this.active=!1,this.lastTimeRandomized=null,this.randomizeTime=3e3,this.connected=!1,this.randomizing=!0,this.isScaling=!1,this.canBegin=!1,Modernizr.canvas&&(this.canvas=this.$context[0],this.ctx=this.canvas.getContext("2d")),this.cctv=null,this.STATES={ZOOMED_IN:-1,ZOOMED_NORMAL:0},this.state=c?this.STATES.ZOOMED_NORMAL:this.STATES.ZOOMED_IN,this.opts=$.extend({start:0,end:1,zoomNormalKeyframe:.29,dotColor:"#000",lightColor:"#fff",highlightColor:"#333",easing:"easeOutQuad",delay:0,duration:1e3,initialYRange:.75,highlights:[]},b||a.data())},ib.Network.Dots.prototype={init:function(){$(window).on("resize",$.throttle(1e3,$.proxy(this.resize,this))),$(ib).on(ib.Events.PRELOAD_READY_FOR_DOTS,$.proxy(this.initialResize,this)),Modernizr.canvas&&this.opts.cctvCanvasTarget&&this.setupCCTV()},initialResize:function(){this.canBegin=!0,this.show(),this.$context.show(),this.resize(),$(ib).trigger(ib.Events.NETWORK_DID_BEGIN)},changeState:function(a){if(this.state!=a)switch(this.state=a,this.updateScale(),a){case this.STATES.ZOOMED_IN:this.connected=!1,this.disconnectDots(!1),this.updateScale(),$(ib).trigger(ib.Events.NETWORK_DID_ZOOM_IN);break;case this.STATES.ZOOMED_NORMAL:this.updateScale(),setTimeout(function(){$(ib).trigger(ib.Events.NETWORK_DID_ZOOM_OUT)},1400)}},setupCCTV:function(){var a=$(this.opts.cctvContextTarget,this.$parentChapter);this.cctv=new ib.CCTV(a,this.opts.CCTVOpts);var b=$(this.opts.cctvCanvasTarget,this.$parentChapter);this.cctv.init(b,$.proxy(this.dotNearestPoint,this))},dotNearestPoint:function(a){var b=0,c=ib.Network.distance(this.balls[0].x,this.balls[0].y,a.x,a.y),d=null,e=null;for(var f in this.balls)e=this.balls[f],d=ib.Network.distance(e.x,e.y,a.x,a.y),c>d&&!e.connected&&(b=f,c=d);return this.balls[b]},resize:function(){if(Modernizr.canvas){this.stop(),this.vpX=this.$context.width()/2,this.vpY=this.$context.height()/2,this.canvas.width=this.$context.width(),this.canvas.height=this.$context.height(),this.numBalls=Math.round(.66*this.canvas.width/8),(ib.isIE||this.opts.forceReducedBallCount)&&(this.numBalls=Math.min(25,this.numBalls)),this.balls=[];for(var a=null,b=0;b<this.numBalls;b++)a=new ib.Network.Dot,a.xpos=2*b*this.vpX/this.numBalls-this.vpX+100*Math.random()*(Math.random()<.5?-1:1),a.ypos=.75===this.opts.initialYRange?2*.75*(b%this.yDensity)*this.vpY/this.yDensity-.75*this.vpY:2*.35*(b%this.yDensity)*this.vpY/this.yDensity-.35*this.vpY,a.ypos+=b<this.numBalls/2.5?-this.vpY/6:this.vpY/10,this.numBalls/3.1<b&&b<this.numBalls/2.9&&(a.ypos=.03*Math.random()*this.vpY*(Math.random()<.5?-1:1)),a.zpos=Math.min(this.opts.zoomNormalZ,80*this.state)+-5*Math.random(),a.xposOriginal=a.xpos,a.yposOriginal=a.ypos,a.connectionProgress=this.connected?1:0,this.balls.push(a);this.randomize(0),this.randomize(0);for(var c in this.balls){var d=this.balls[c];for(var e in this.balls)if(c!=e){var f=this.balls[e],g={distance:ib.Network.distance(d.xpos,d.ypos,f.xpos,f.ypos),index:e};d.connections.push(g)}d.connections.sort(function(a,b){return a.distance-b.distance}),d.connections=d.connections.slice(0,6)}this.active&&this.start()}},updateProgress:function(a){a<this.opts.zoomNormalKeyframe?this.changeState(this.STATES.ZOOMED_IN):a<this.opts.end&&this.changeState(this.STATES.ZOOMED_NORMAL),a>=this.opts.start&&a<this.opts.end?!this.active&&this.$parentChapter.hasClass("active-chapter")&&this.show():this.active&&!this.hiding&&(this.hide(),this.cctv&&this.cctv.hide()),!this.connected&&this.opts.connectionBegin<a&&a<this.opts.connectionEnd?this.connectDots():this.connected&&a>this.opts.connectionEnd&&(this.disconnectDots(!0),this.scatterDots(.2)),this.cctv&&this.cctv.updateProgress(a)},show:function(){this.canBegin&&(this.randomizing=!0,this.active=!0,this.hiding=!1,this.resize(),this.$context.fadeIn(1500,this.opts.easing))},hide:function(){this.hiding=!0,this.CCTVDotIndex=null;var a=this;this.$context.fadeOut(1e3,this.opts.easing,function(){a.hiding=!1,a.stop(),a.active=!1})},start:function(){this.stop(),this.raf=requestAnimationFrame($.proxy(this.update,this))},stop:function(){cancelAnimationFrame(this.raf)},randomize:function(a){this.lastTimeRandomized=(new Date).getTime(),this.angleX=.001*Math.random()*(Math.random()<.5?-1:1),this.angleY=.001*Math.random()*(Math.random()<.5?-1:1),TweenLite.to(this,2.9,{angleX:0,angleY:0,delay:1});for(var b=20,c=10+60*Math.random(),d=0;d<this.numBalls;d++){var e=this.balls[d],f=Math.random()*b;f*=Math.random()<.5?1:-1,f=f>0?Math.min(e.xposOriginal+c-e.xpos,f):Math.max(e.xposOriginal-c-e.xpos,f);var g=Math.random()*b;g*=Math.random()<.5?1:-1,g=g>0?Math.min(e.yposOriginal+c-e.ypos,g):Math.max(e.yposOriginal-c-e.ypos,g);var h=Math.random()*b/2;h*=Math.random()<.5?1:-1,h=h>0?Math.min(Math.min(this.opts.zoomNormalZ,80*this.state)+c-e.zpos,h):Math.max(Math.min(this.opts.zoomNormalZ,80*this.state)-c-e.zpos,h);var i={xpos:e.xpos+f,ypos:e.ypos+g,delay:.005*d};this.isScaling||(i.zpos=e.zpos+h);var j=a||2.9;TweenLite.to(e,j,i)}},connectDots:function(){this.connected=!0;for(var a,b,c=0;c<this.numBalls;c++)a=this.balls[c],b=.5*Math.random()+2,TweenLite.to(a,b,{connectionProgress:1,delay:3*Math.random()})},disconnectDots:function(a){this.connected=!1,this.randomizing=!1;for(var b,c,d=0;d<this.numBalls;d++)b=this.balls[d],c=a?.5*Math.random():0,TweenLite.to(b,c,{connectionProgress:0})},scatterDots:function(a){for(var b,c,d,e=0;e<this.numBalls;e++)b=this.balls[e],c=.5*Math.random()+3,d=b.ypos/b.xpos,xScatter=this.vpY*(b.ypos<0?-1:1)/d,yScatter=d*this.vpX*(b.xpos<0?-1:1),TweenLite.to(b,c,{xpos:xScatter,ypos:yScatter,zpos:b.zpos-100,delay:.2*Math.random()+a})},updateScale:function(){this.isScaling=!0;for(var a=this,b=this.state==this.STATES.ZOOMED_NORMAL?this.opts.zoomOutDuration:.1,c=0;c<this.numBalls;c++){var d=this.balls[c];TweenLite.killTweensOf(d),TweenLite.to(d,b,{zpos:Math.min(this.opts.zoomNormalZ,80*this.state),easing:this.opts.zoomOutEasing,complete:function(){a.isScaling=!1}})}},update:function(){this.raf=requestAnimationFrame($.proxy(this.update,this));for(var a=0;a<this.balls.length;a++){var b=this.balls[a];this.rotateX(b,this.angleX),this.rotateY(b,this.angleY),this.doPerspective(b)}this.draw();var c=(new Date).getTime();this.randomizing&&c-this.lastTimeRandomized>this.randomizeTime&&this.randomize()},draw:function(){if(Modernizr.canvas){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.strokeStyle="#d5d5d5",this.ctx.lineWidth=.4-.5*this.state;var a=0,b=0,c=0,d=0,e=0,f=0,g=null,h=null;this.ctx.beginPath();for(var i=0;i<this.balls.length;i++){g=this.balls[i],a=g.x,b=g.y;for(var j in g.connections)h=this.balls[g.connections[j].index],c=h.x,d=h.y,e=g.connectionProgress*(c-a)+a,f=g.connectionProgress*(d-b)+b,this.ctx.moveTo(a,b),this.ctx.lineTo(e,f)}this.ctx.stroke();var k=0,l=0,m=3;this.ctx.beginPath(),this.ctx.fillStyle=this.$header.hasClass("light")?this.opts.lightColor:this.opts.dotColor;for(var n=0;n<this.balls.length;n++)k=this.balls[n].x,l=this.balls[n].y,m=Math.min(6,2*this.balls[n].scaleX),this.ctx.moveTo(k,l),this.ctx.arc(k,l,m,0,2*Math.PI,!1);this.ctx.fill()}},rotateX:function(a,b){var c=[a.xpos,a.ypos,a.zpos],d=Math.sin(b),e=Math.cos(b),f=[];f[0]=[1,0,0],f[1]=[0,e,d],f[2]=[0,-d,e];var g=this.matrixMultiply(c,f);a.xpos=g[0],a.ypos=g[1],a.zpos=g[2]},rotateY:function(a,b){var c=[a.xpos,a.ypos,a.zpos],d=Math.sin(b),e=Math.cos(b),f=[];f[0]=[e,0,d],f[1]=[0,1,0],f[2]=[-d,0,e];var g=this.matrixMultiply(c,f);a.xpos=g[0],a.ypos=g[1],a.zpos=g[2]},matrixMultiply:function(a,b){var c=[];return c[0]=a[0]*b[0][0]+a[1]*b[1][0]+a[2]*b[2][0],c[1]=a[0]*b[0][1]+a[1]*b[1][1]+a[2]*b[2][1],c[2]=a[0]*b[0][2]+a[1]*b[1][2]+a[2]*b[2][2],c},doPerspective:function(a){var b=1;a.visible=a.zpos>-this.fl,a.visible&&(b=this.fl/(this.fl+a.zpos),a.scaleX=a.scaleY=b,a.x=this.vpX+a.xpos*b,a.y=this.vpY+a.ypos*b)}},ib.ComponentLoader.register("ib.Network.Dots",ib.Network.Dots);var ib=ib||{};ib.Network2=ib.Network2||{},ib.Network2.Lattice1=function(a){this.POLAR=com.jeffyamada.geom.Point.polar,this.points=null,this.opts=$.extend({},a)},ib.Network2.Lattice1.prototype={setPoints:function(a){this.points=a},setPositions:function(){var a=30,b=100;this.points.length/20*(b/2);var c=5*b;for(i=0;i<this.points.length;i++){var d=this.points[i],e=90,f=this.points.length/a*(e/2),g=Math.floor(i/a)*e-f+i%2*(e/2),h=this.POLAR(g,1e3);console.log("p:",h.x,h.y),d.position.x=h.x,d.position.z=h.y,d.position.y=i%10*b-c}}};var ib=ib||{};ib.Network2=function(a,b){this.$context=a,this.aspectRatio=window.innerWidth/window.innerHeight,this.scene=new THREE.Scene,this.camera=null,this.material=null,this.renderer=null,this.groupd=null,this.opts=$.extend({},b||a.data())},ib.Network2.prototype={init:function(){this.createCamera(),this.createMaterial(),this.createRenderer(),this.group=new THREE.Object3D,this.group.position.z=0,this.scene.add(this.group);for(var a=[],b=0;300>b;b++)particle=new THREE.Particle(this.material),particle.scale.x=particle.scale.y=10,a.push(particle),this.group.add(particle);var c=new ib.Network2.Lattice1;c.setPoints(a),c.setPositions(),console.log(c);var d=this.group.children.length-1;for(b=0;300>b;b++){var e=this.group.children[Math.round(Math.random()*d)],f=this.group.children[Math.round(Math.random()*d)],g=new THREE.LineBasicMaterial({color:0}),h=new THREE.Geometry;h.vertices.push(new THREE.Vector3(e.position.x,e.position.y,e.position.z)),h.vertices.push(new THREE.Vector3(f.position.x,f.position.y,f.position.z)),new THREE.Line(h,g)}this.animate()},updateProgress:function(){},drawBallMethod:function(a){var b=2*Math.PI;a.beginPath(),a.arc(0,0,1,0,b,!0),a.fill()},addListeners:function(){document.addEventListener("mousemove",onDocumentMouseMove,!1),document.addEventListener("touchstart",onDocumentTouchStart,!1),document.addEventListener("touchmove",onDocumentTouchMove,!1),window.addEventListener("resize",onWindowResize,!1)},createCamera:function(){this.camera=new THREE.PerspectiveCamera(100,this.aspectRatio,2,6e3),this.camera.position.z=1e3},createMaterial:function(){var a={};a.color=0,a.program=$.proxy(this.drawBallMethod,this),this.material=new THREE.ParticleCanvasMaterial(a)},createRenderer:function(){this.renderer=new THREE.CanvasRenderer,this.renderer.setSize(window.innerWidth,window.innerHeight),this.$context.append(this.renderer.domElement)},onWindowResize:function(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},onDocumentMouseMove:function(a){this.mouseX=a.clientX-windowHalfX,mouseY=a.clientY-windowHalfY},onDocumentTouchStart:function(a){1===a.touches.length&&(a.preventDefault(),mouseX=a.touches[0].pageX-windowHalfX,mouseY=a.touches[0].pageY-windowHalfY)},onDocumentTouchMove:function(a){1===a.touches.length&&(a.preventDefault(),mouseX=a.touches[0].pageX-windowHalfX,mouseY=a.touches[0].pageY-windowHalfY)},animate:function(){requestAnimationFrame($.proxy(this.animate,this)),this.render()},render:function(){this.camera.lookAt(this.scene.position),this.renderer.render(this.scene,this.camera)}},ib.ComponentLoader.register("ib.Network2",ib.Network2);var ib=ib||{};ib.Oomph=function(a,b){this.context=a,this.characters=null,this.animating=!1,this.letterArray=null,this.opts=$.extend(!0,{},{showInitially:!1,animationStartDelay:0,animationDuration:350,easing:"easeOutCubic",animationDelay:50,scrambleDelay:40,scrambleLettersDelay:11,maxTrailingCharacters:1,typed:!1,scramble:!1,fadeOut:!0,before:{position:"relative",opacity:0,left:-3},after:{opacity:1,left:0}},b||a.data())},ib.Oomph.prototype={init:function(){var a=this.context.html().match(/(<([^>]+)>|.)/gi),b="";null!==a&&($.each(a,$.proxy(function(a,c){if(this.opts.typed&&" "===c&&(c="&nbsp;<wbr>"),/(<([^>]+))>/gi.test(c))b+=c;else{var d="<span class='char'>"+c+"</span>";b+=d}},this)),this.context.html(b),this.characters=this.context.find(".char"),this.reset(),this.opts.scramble&&(this.letterArray=String("!@#$%&<>1234567890~").split("")),this.opts.typed&&this.context.css({wordWrap:"break-word"}))},animate:function(a){if(null!==this.characters&&!this.animating){this.animating=!0;var b=this.characters.length;this.context.is(":visible")||this.context.show(),this.opts.scramble?this.scramble(b,a):this.animateProperties(b,a)}},animateProperties:function(a,b){setTimeout($.proxy(function(){$.each(this.characters,$.proxy(function(c,d){var e=$(d),f=null;this.opts.typed&&(f=e.clone(),e.text("_")),e.css({zIndex:c+1}).stop().delay(c*this.opts.animationDelay).animate(this.opts.after,{duration:this.opts.animationDuration,easing:this.opts.easing,complete:$.proxy(function(){c===a-1&&(b&&b(),this.animating=!1),this.opts.typed&&setTimeout($.proxy(function(){e.text(f.text())},this),this.opts.animationDelay)},this)})},this))},this),this.opts.animationStartDelay)},scramble:function(a,b){function c(a){for(var b,c,d=a.length;d--;)c=0|Math.random()*(d+1),b=a[d],a[d]=a[c],a[c]=b;return a}function d(d,e,g){c(this.letterArray);for(var h=parseInt(Math.random()*this.opts.maxTrailingCharacters,10)+1,i="",j=0;h>j;j++){var k=Math.floor(Math.random()*this.letterArray.length);i+=this.letterArray[k]}e.text(i),d>=this.letterArray.length-1&&(e.text(g),++f===a&&(b&&b(),this.animating=!1))}function e(a,b){var c=$(a),e=c.text();c.text(""),c.show();for(var f=this.letterArray.length,g=0;--f>0;)g++,setTimeout($.proxy(d,this,g,c,e,b),this.opts.scrambleLettersDelay*g)}var f=0;setTimeout($.proxy(function(){$.each(this.characters,$.proxy(function(a,b){setTimeout($.proxy(e,this,b,a),this.opts.scrambleDelay*a)},this))},this),this.opts.animationStartDelay)},reset:function(){this.animating=!1,this.opts.showInitially||(this.opts.scramble?this.characters.hide():$.each(this.characters,$.proxy(function(a,b){$(b).css(this.opts.before).finish()},this)),this.context.hide())},fadeout:function(){this.context.stop().fadeOut("slow")},updateProgress:function(a){a>=this.opts.start&&a<this.opts.end?this.animating||this.animate():this.opts.fadeOut&&this.context.is(":visible")?this.context.fadeOut("slow"):this.reset()}},ib.ComponentLoader.register("ib.Oomph",ib.Oomph);var ib=ib||{};ib.ShareSurveyResults=function(a,b){this.$context=a,this.$headline=$(".headline",a),this.$factNum=$(".fact-num",a),this.$fact=$(".fact-body",a),this.facts=ib.ChapterData["chapter-4"].getText().facts,this.opts=$.extend({},b||a.data())},ib.ShareSurveyResults.prototype={init:function(){$(ib).on(ib.Events.FACT_CHOSEN,$.proxy(this.onFactChosen,this))},onFactChosen:function(a,b){this.setFact(b.fact)},setFact:function(a){factCopy=this.facts[a],this.$headline.html(factCopy.headline),this.$factNum.html(factCopy.factNum),this.$fact.html(factCopy.fact)}},ib.ComponentLoader.register("ib.ShareSurveyResults",ib.ShareSurveyResults);var ib=ib||{};ib.SharedNetworkGraph=function(a,b){this.$context=a,this.active=!1,this.network=null,this.toggleTimeout=null,this.opts=$.extend({startChapterIndex:2},b||a.data())},ib.SharedNetworkGraph.prototype={init:function(){Modernizr.canvas&&(this.network=new ib.Network.Dots(this.$context,{zoomNormalZ:0,zoomOutEasing:"easeInCubic",dotColor:"#1e1e1e",initialYRange:.35,forceReducedBallCount:!0},!0),$(window).on("resize",$.throttle(1e3,$.proxy(this.network.resize,this.network))),$(ib).on(ib.Events.CHAPTER_DID_CHANGE,$.proxy(this.onChapterChange,this)))},onChapterChange:function(){var a=ib.ScrollController.getCurrentChapterIndex(),b=this;clearTimeout(this.toggleTimeout),b.toggleTimeout=setTimeout(function(){!b.active&&a>=b.opts.startChapterIndex?b.show():b.active&&a<b.opts.startChapterIndex&&b.hide()},200)},show:function(){this.active=!0;var a=this;a.network.canBegin=!0,a.network.show(),a.network.connectDots()},hide:function(){this.active=!1,this.network.hide()}},ib.ComponentLoader.register("ib.SharedNetworkGraph",ib.SharedNetworkGraph);var ib=ib||{};ib.SocialMap=function(a,b){this.$context=a,this.$parentChapter=a.parents(".chapter"),this.animating=!1,this.complete=!1,this.largestCount=0,this.opts=$.extend({start:0,end:0,dots:null,maxFontSizeEm:5,duration:.4,delay:.01,easing:"easeOutQuad"},b||a.data())},ib.SocialMap.prototype={init:function(){this.largestCount=Math.max.apply(Math,$.map(this.opts.dots,function(a){return a.count})),this.populate(),this.reset()},populate:function(){var a,b,c=(new Date).getTime(),d=4*(1+Math.max(0,Math.min(5,(c-1392068532196)/1728e6))),e=parseInt(d*this.largestCount,10);for(var f in this.opts.dots)a=this.opts.dots[f],a.sCount=parseInt(d*a.count,10),a.left=100*a.x+"%",a.top=100*a.y+"%",a.delay=f*this.opts.delay,a.displayedCount=this.opts.dots.length-f<9?a.sCount:"",a.fontSize=a.sCount/e*this.opts.maxFontSizeEm+"em",b=ib.Templates["map-dot.html"](a),this.$context.append(b)},animate:function(){this.animating=!0,this.show(),ib.SoundController.playSfx("wd-ctos_all_text",1300)},reset:function(){this.animating=!1,this.complete=!0,this.hide()},show:function(){var a=this;$.each(this.$context.find("li"),function(b,c){var d=a.opts.dots[b];TweenLite.to($(c),a.opts.duration,{left:d.left,top:d.top,fontSize:d.fontSize,delay:d.delay,ease:a.opts.easing,opacity:1,onComplete:function(){b===a.opts.dots.length-1&&(this.complete=!0),b===a.opts.dots.length-18&&ib.SoundController.playSfx("wd-ctos_connect_numbers-fly-out-of-map-01")}})})},hide:function(){this.$context.find("li").css({left:"45%",top:"45%",fontSize:"0.1em",opacity:0})},updateProgress:function(a){a>=this.opts.start&&a<this.opts.end?this.animating||this.animate():this.complete&&a<this.opts.start&&this.reset()}},ib.ComponentLoader.register("ib.SocialMap",ib.SocialMap),ib.Super=function(a,b){this.$context=a,this.$elements=a.find("li"),this.$activeEl=null,this.timeout=null,this.active=!1,this.opts=$.extend({},b||a.data())},ib.Super.prototype={init:function(){},show:function(){this.active=!0;var a=this;$.each(this.$elements,function(b){var c=a.opts.steps[b];a.timeout=setTimeout($.proxy(a.showNext,a,b),c.delay)})},showNext:function(a){this.$activeEl&&this.$activeEl.fadeOut();var b=this.opts.steps[a],c=this.$elements.eq(a);c.stop().fadeIn(b.duration),this.$activeEl=c,ib.SoundController.playSfx(this.opts.steps[a].sfxId)},hide:function(){this.active=!1,this.$elements.fadeOut(),clearTimeout(this.timeout)},updateProgress:function(a){!this.active&&a>=this.opts.start&&a<this.opts.end?this.show():this.active&&(a<this.opts.start||a>=this.opts.end)&&this.hide()}},ib.ComponentLoader.register("ib.Super",ib.Super);var ib=ib||{};ib.Testimonials=function(a,b){this.$context=a,this.progress=null,this.$parentChapter=a.parents(".chapter"),this.active=!1,this.$testimonials=$(".testimonial",a),this.opts=$.extend({start:0,end:.999,duration:1e3,resetWaitTime:2e3,firstTestimonyDelay:2e3,delay:0,easing:"linear",maxDelayStagger:200,numImages:1},b||a.data())},ib.Testimonials.prototype={init:function(){this.$context.on("click","img",$.proxy(this.onClickTestimonial,this)),this.$context.on("mouseenter","img",$.proxy(this.onHoverTestimonial,this)),this.$context.on("click",$.proxy(this.onBGClick,this)),this.setPictures()},onHoverTestimonial:function(){$(".active",this.$context).removeClass("active"),this.$context.removeClass("active")},setPictures:function(){var a=$("img",this.$context),b=Math.floor(Math.random()*this.opts.numImages),c=this;a.each(function(a){var d=(b+a)%c.opts.numImages+1;$(this).attr("src",ib.Config.assetBasePath+"/images/chapter-2/testimonial-"+d+".jpg")})},onBGClick:function(){this.$context.hasClass("active")&&(this.$context.removeClass("active"),$(".active",this.$context).removeClass("active"))},onClickTestimonial:function(a){var b=$(a.currentTarget).parents(".testimonial");return $(".active",this.$context).removeClass("active"),b.addClass("active"),this.$context.addClass("active"),!1},updateProgress:function(a){!this.active&&a>=this.opts.start&&a<this.opts.end?this.startAutoTestimony():this.active&&(a<this.opts.start||a>=this.opts.end)&&this.stopAutoTestimony()},startAutoTestimony:function(){this.active=!0,setTimeout($.proxy(this.showFirstTestimonial,this),this.opts.firstTestimonyDelay)
},showFirstTestimonial:function(){$(".testimonial-0 img",this.$context).click()},stopAutoTestimony:function(){this.active=!1,this.$context.removeClass("active"),$(".active",this.$context).removeClass("active")}},ib.ComponentLoader.register("ib.Testimonials",ib.Testimonials);var ib=ib||{};$(document).ready(function(){ib.Main.init()});